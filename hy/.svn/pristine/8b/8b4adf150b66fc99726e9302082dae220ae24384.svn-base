HiJS=new function(){};HiJS.mvc=hi.framework.mvc;HiJS.page=hi.framework.pagination;HiJS.tmpl=hi.framework.template;HiJS.svr={};HiJS.errorMsg=null;HiJS.rootContext="";hi.framework.config.Config.logLevel="ERROR";hi.framework.config.Config.serverURL=HiJS.rootContext+"/DH.json";hi.framework.config.Config.sessServerURL=HiJS.rootContext+"/SDH.json";hi.framework.config.Config.submitURL=HiJS.rootContext+"/service.do";hi.framework.config.Config.downloadURL=HiJS.rootContext+"/DH.download";hi.framework.config.Config.serverTimeout=180000;HiJS.svr.doRequestAjax=function(b,a){if(!a.callback){a.callback={}}if(!a.callback.failure){a.callback.failure=HiJS.svr.defaultFailure}if(!a.callback.message){a.callback.message=function(e,d){if(typeof(d)=="string"){d=JSON.parse(d)}if(d.header.responseCode=="OK"){HiJS.errorMsg=null}else{HiJS.errorMsg=d}}}var c=HiJS.isBlocked();hi.framework.jquery.HttpClient.doRequestAjax(b,{formId:a.formId,data:a.data,url:a.url,arrayFlag:(typeof(a.arrayFlag)=="undefined"?false:a.arrayFlag),timeout:a.timeout,async:(typeof(a.async)=="undefined"?true:a.async),callback:{before:function(){if(a.loadingbar!=false&&!c){$.blockUI({fadeIn:0,fadeOut:0,ignoreIfBlocked:true})}if(!a.callback.before){if(typeof(a.callback.before)=="function"){a.callback.before()}}},success:a.callback.success,failure:function(d){if(HiJS.isBlocked()){$.unblockUI()}if(d==null){a.callback.failure()}else{a.callback.failure(d)}},message:a.callback.message,error:a.callback.error,complete:function(){if(a.loadingbar!=false&&!c){$.unblockUI()}if(!a.callback.complete){if(typeof(a.callback.complete)=="function"){a.callback.complete()}}}}})};HiJS.svr.doRequestForm=hi.framework.jquery.HttpClient.doRequestForm;HiJS.svr.doRequestLink=hi.framework.jquery.HttpClient.doRequestLink;HiJS.svr.doRequestDownload=hi.framework.jquery.HttpClient.doRequestDownload;HiJS.svr.getTranskeyDecVal=hi.framework.jquery.HttpClient.getTranskeyDecVal;HiJS.isBlocked=function(){return $(window).data("blockUI.isBlocked")=="1"?true:false};HiJS.svr.doSyncAjaxLoadingBar=function(a){var b=HiJS.isBlocked();if(!b){$.blockUI({fadeIn:0,fadeOut:0,ignoreIfBlocked:true})}if(typeof a=="function"){setTimeout(a,200)}if(!b){$.unblockUI()}};Date.prototype.format=function(b,e){if(!this.valueOf()){return" "}var a=["일요일","월요일","화요일","수요일","목요일","금요일","토요일"];var c=this;return b.replace(/(yyyy|yy|MM|dd|E|hh|mm|ss|a\/p)/gi,function(d){switch(d){case"yyyy":return c.getFullYear();case"yy":return(c.getFullYear()%1000).zf(2);case"MM":return e?(c.getMonth()+1):(c.getMonth()+1).zf(2);case"dd":return e?c.getDate():c.getDate().zf(2);case"E":return a[c.getDay()];case"HH":return c.getHours().zf(2);case"hh":return((h=c.getHours()%12)?h:12).zf(2);case"mm":return c.getMinutes().zf(2);case"ss":return c.getSeconds().zf(2);case"a/p":return c.getHours()<12?"오전":"오후";default:return d}})};String.prototype.string=function(a){var c="",b=0;while(b++<a){c+=this}return c};String.prototype.zf=function(a){return"0".string(a-this.length)+this};Number.prototype.zf=function(a){return this.toString().zf(a)};HiJS.svr.defaultFailure=function(a){if(typeof(a)=="string"){a=JSON.parse(a)}alert(a.header.responseMessage);if(a.header.responseCode=="HIAPP-30001"){if(HiJS.rootContext==""){document.location.replace("/")}else{document.location.replace(HiJS.rootContext)}}};