var androidPackageName="kr.co.direct.hi.hyundai.android";var isPacInstalled=false;var isCamPoss;var isGpsPoss;var isApp=false;var appPushYn=false;var isFamilyScraping=true;function getAppVersion(){if(window.HiDirect!=undefined){window.HiDirect.NA_GetAppInfo("JS_Update")}else{var a={appVersion:"",osType:"WEB",osVersion:"0",uuid:"0",tokenId:"0"};sessionStorage.setItem("appInfo",JSON.stringify(a))}}function JS_Update(c,b,h,d){if(b=="AOS"||b=="IOS"){var a={osType:b};try{HiJS.svr.doRequestAjax("DHCO0108M01L",{data:a,loadingbar:false,callback:{success:function(e){if(c<e.data.appVer){appUpdate(b,c,e.data.appVer)}else{var i=location.href;if(i.indexOf("extmdirect.hi.co.kr")>-1){location.href="https://extmdirect.hi.co.kr/service.do?m=7c6641ec8a"}else{if(i.indexOf("qamdirect.hi.co.kr")>-1){location.href="https://mdirect.hi.co.kr/service.do?m=7c6641ec8a"}else{location.href="https://mdirect.hi.co.kr/service.do?m=7c6641ec8a"}}}}}})}catch(f){console.log("<============error============");console.log(""+f);console.log("============error============>");if("AOS"==b&&c<"1.1.9"){appUpdate(b,c,"1.1.9")}else{if("IOS"==b&&c<"1.1.5"){appUpdate(b,c,"1.1.5")}else{var g=location.href;if(g.indexOf("extmdirect.hi.co.kr")>-1){location.href="https://extmdirect.hi.co.kr/service.do?m=7c6641ec8a"}else{if(g.indexOf("qamdirect.hi.co.kr")>-1){location.href="https://mdirect.hi.co.kr/service.do?m=7c6641ec8a"}else{location.href="https://mdirect.hi.co.kr/service.do?m=7c6641ec8a"}}}}}}}function appUpdate(a,b,c){if("AOS"==a&&b<c){$("#areaUpdateTxt").html("현재 버전 : "+b+"<br/>최신 버전 : "+c);$("#appUpdateId").prop("href","market://details?id=kr.co.direct.hi.hyundai.android");lpOpener("layerUpdate");$.unblockUI()}else{if("IOS"==a&&b<c){$("#areaUpdateTxt").html("현재 버전 : "+b+"<br/>최신 버전 : "+c);$("#appUpdateId").prop("href","https://itunes.apple.com/kr/app/HiDirect/id1265054195?mt=8");lpOpener("layerUpdate");$.unblockUI()}}}function getAppInfo(){if(window.HiDirect!=undefined){window.HiDirect.NA_GetAppInfo("JS_ReceivedAppInfo")}else{var a={appVersion:"",osType:"WEB",osVersion:"0",uuid:"0",tokenId:"0"};sessionStorage.setItem("appInfo",JSON.stringify(a))}}function getAppInfoPush(b,a){if(window.HiDirect!=undefined){sessionStorage.setItem("pushId",b);sessionStorage.setItem("pushEvntCat",a);window.HiDirect.NA_GetAppInfo("JS_ReceivedAppInfoByPush")}}function JS_ReceivedAppInfo(b,a,f,c,d){var e={appVersion:b,osType:a,osVersion:f,uuid:c};if(arguments.length==5){e={appVersion:b,osType:a,osVersion:f,uuid:c,token:d}}if(!isNullChk(c)){isApp=true}sessionStorage.setItem("appInfo",JSON.stringify(e));HiJS.svr.doRequestAjax("DHCO0101M01I",{data:e,messageEnabled:false,loadingbar:false,callback:{success:function(g){},failure:function(g){}}})}function JS_ReceivedAppInfoByPush(c,a,h,d,f){var g={appVersion:c,osType:a,osVersion:h,uuid:d,token:f};sessionStorage.setItem("appInfo",JSON.stringify(g));var e=sessionStorage.getItem("pushId");var b=sessionStorage.getItem("pushEvntCat");appPushReceive(e,b)}function setAppMenu(){var a="";a+="<ul class='goMenu'>";a+="<li class='m01'><a href='/service.do?m=5af6718963'><span>알리미</span></a></li>";a+="<li class='m02'><a href='/service.do?m=5986069505'><span>내설계함</span></a></li>";a+="<li class='m03'><a href='/service.do?m=6f937bc543'><span>앱설정</span></a></li>";a+="</ul>";$("#appMenuDiv").html(a)}function sendToastMessage(a){if(window.HiDirect!=undefined){window.HiDirect.NA_ToastMessage(a)}}function JS_ReceivedSavedAppInfo(c,f,a,j,g,k,i){var b;var e;var d;if(!isNullChk(j)&&((typeof(j)=="boolean"&&j)||j=="Y")){d="Y"}else{d="N"}if(!isNullChk(g)&&((typeof(g)=="boolean"&&g)||g=="Y")){e="Y"}else{e="N"}if(!isNullChk(k)&&((typeof(k)=="boolean"&&k)||k=="Y")){b="Y"}else{b="N"}var h={osType:c,osVer:f,uuid:a,marYn:d,gpsYn:b,prvYn:e};if(arguments.length==7){h={osType:c,osVer:f,uuid:a,marYn:d,gpsYn:b,prvYn:e,token:i}}HiJS.svr.doRequestAjax("DHCO0164M01I",{data:h,messageEnabled:false,loadingbar:false,callback:{success:function(l){window.HiDirect.NA_SavedAppInfoResult("Y")},failure:function(l){window.HiDirect.NA_SavedAppInfoResult("N")}}})}function IsAndroidPackageInstalled(){window.HiDirect.NA_IsPackageInstalled(androidPackageName,"JS_PackageIstall")}function JS_PackageIstall(a){isPacInstalled=a}function JS_ReceivedPushToken(a){}function JS_ReceivedPartnershipInfo(c,b,a){sessionStorage.setItem("partnerShipInfoVal",JSON.stringify({cncNo:c,mediaNo:b,campaignId:a}))}var _APP_INSTALL_URL_IOS="http://itunes.apple.com/kr/app/id386374077?mt=8";var _APP_INSTALL_URL_ANDROID="market://details?id=hyundai.hi.smart.android.activity";var _APP_INSTALL_CONFIRM="현대해상앱을 설치하거나 업데이트하시면 이용할 수 있습니다. 설치 하시겠습니까?";function installApp(c){var a=new Date();setTimeout(function(){if(new Date()-a<1500){if(checkWebOS.iph){window.location.href=_APP_INSTALL_URL_IOS}else{if(checkWebOS.and){if(confirm(_APP_INSTALL_CONFIRM)){window.location.href=_APP_INSTALL_URL_ANDROID}}}}},1000);if(checkWebOS.iph){window.location.href=c}}function executeApp(){var a="hyundaimarine://m.hi.co.kr";installApp(a);if(checkWebOS.iph){}else{if(checkWebOS.and){var b=/chrome/.test(navigator.userAgent.toLowerCase());if(b&&window.parent){window.location.href=a}else{$("#applinkDiv").html("<iframe id='frm' src='"+a+"' style='width=400px;height=100px;frameborder=1' title='빈 프레임'></iframe>");setTimeout(function(){var d=$("#applinkDiv");var c=$("#frm");if(c.length>0){c.remove()}},1000)}}}}function fnAppDownload(){executeApp()}function fnOpenAppCertifyManager(){if(window.HiDirect!=undefined){window.HiDirect.NA_CertifyManager()}else{lpOpener("appInfoLayer")}}var signDataWithVIDRegNo1;var signDataWithVIDRegNo2;var signDataWithVIDPtyId;var signDataWithVIDMenuId;var signDataWithVIDMenuCd;var signDataWithVIDCallback;function fnOpenSignDataWithVID(d,c,a,b){if(window.HiDirect!=undefined){signDataWithVIDMenuId=c;signDataWithVIDMenuCd=a;signDataWithVIDCallback=b;HiJS.svr.doRequestAjax("DHCO0099M21S",{loadingbar:true,callback:{success:function(f){var e=f.data.pem;window.HiDirect.NA_SignDataWithVID(d,e,"JS_SignDataWithVID")}}})}else{lpOpener("appInfoLayer")}}function JS_SignDataWithVID(c,b){if(b!=""){var a={aSignedMsg:b,aVidMsg:c,certType:"04",svcMenuId:signDataWithVIDMenuId,menuCode:signDataWithVIDMenuCd,certSignGbCd:$("#certSignGbCd").val(),certSignMthdCd:$("#certSignMthdCd").val(),certSignDetCd:$("#certSignDetCd").val(),bzCd:$("#bzCd").val(),bzDetCd:$("#bzDetCd").val()};HiJS.svr.doRequestAjax("DHCO0099M08S",{data:a,loadingbar:false,callback:{success:function(d){if(d.data.successYn=="Y"){signDataWithVIDCallback(d.data.certSeqNo,d.data.esgnSeqNo)}else{if(d.data.certRsltMsg!=""){alert(d.data.certRsltMsg)}else{alert("전자서명이 실패했습니다.")}}}}})}}function fnOpenSignDataWithVID82(g,b,a,c,f,d,e){if(window.HiDirect!=undefined){signDataWithVIDRegNo1=b;signDataWithVIDRegNo2=a;signDataWithVIDPtyId=c;signDataWithVIDMenuId=f;signDataWithVIDMenuCd=d;signDataWithVIDCallback=e;HiJS.svr.doRequestAjax("DHCO0099M21S",{loadingbar:false,callback:{success:function(i){var h=i.data.pem;window.HiDirect.NA_SignDataWithVID(g,h,"JS_SignDataWithVID82")}}})}else{lpOpener("appInfoLayer")}}function JS_SignDataWithVID82(c,b){if(b!=""){var a={aSignedMsg:b,aVidMsg:c,certType:"04",regNo1:signDataWithVIDRegNo1,regNo2:signDataWithVIDRegNo2,ptyId:signDataWithVIDPtyId,svcMenuId:signDataWithVIDMenuId,menuCode:signDataWithVIDMenuCd};HiJS.svr.doRequestAjax("DHCO0099M08S",{data:a,loadingbar:false,callback:{success:function(d){if(d.data.successYn=="Y"){signDataWithVIDCallback(d.data.certSeqNo,d.data.esgnSeqNo)}else{if(d.data.certRsltMsg!=""){alert(d.data.certRsltMsg)}else{alert("전자서명이 실패했습니다.")}}}}})}}function takeCameraAndAlbum(a){console.log("####takeCameraAndAlbum ocr 적용 전 버전");if(window.HiDirect!=undefined){window.HiDirect.NA_TakeCameraAndAlbum(a,"fnCompleUpload")}}function takeCameraAndAlbumFileId(b,a){console.log("####takeCameraAndAlbumFileId ocr 적용 후 버전");if(window.HiDirect!=undefined){window.HiDirect.NA_TakeCameraAndAlbum(b,a,"fnCompleUpload")}}function encryptBlock(b){var a=JSON.parse(sessionStorage.getItem("appInfo"));if(a!=undefined){}if(window.HiDirect!=undefined&&a!=undefined){if(a.osType=="AOS"){PrintObjectTag();document.xecure.action=b.action;document.xecure.target=b.target;document.xecure.method="post";window.HiDirect.NA_BlockEnc(xgate_addr,getPath(b.action),XecureEscape(XecureMakePlain(b)),"JS_BlockEnc")}else{if(a.osType=="IOS"){document.xecure.action=b.action;document.xecure.target=b.target;document.xecure.method="post";window.HiDirect.NA_BlockEnc(xgate_addr,getPath(b.action),"{"+XecureEscape(XecureMakePlain(b))+"}","JS_BlockEnc")}}}else{setTimeout(function(){b.submit()},200)}}function JS_BlockEnc(b,a){if(b==""||a==""){if(HiJS.isBlocked()){$.unblockUI()}}else{if(document.xecure.action.indexOf("?")<0){document.xecure.action+="?q="+escape_url(b)}else{document.xecure.action+="&q="+escape_url(b)}document.xecure.action+="&charset=UTF-8";document.xecure.p.value=a;document.xecure.submit()}}function CallSMSReceived(b){var a=JSON.parse(sessionStorage.getItem("appInfo"));if(a.osType=="AOS"){window.HiDirect.NA_CallSMSReceived(b,"JS_ReceviedCertSMS")}}function JS_ReceviedCertSMS(b,a){$("#"+b).val(a)}function JS_AndroidBack(){if(HiJS.isBlocked()){$.unblockUI()}if(!isNullChk(layerList_que)&&layerList_que.length>0){var a=layerList_que.pop();if($("#"+a).hasClass("popWrap")){closeLayer(a)}else{if($("#"+a).hasClass("layerPopup")){lpCloser(a)}}if(a=="myInfo"){history.back()}}else{if(location.search.substring(3,location.search.length)=="7c6641ec8a"){if(window.HiDirect.NA_AndroidBack!=undefined){window.HiDirect.NA_AndroidBack("Y")}}else{history.back()}}}function fnOpenAppBIOCertiFyManager(){if(window.HiDirect!=undefined){fnCheckBioDevice("goBioCertAdmin")}else{lpOpener("appInfoLayer")}}function fnCheckBioDevice(c){var a=JSON.parse(sessionStorage.getItem("appInfo"));if(a!=null){var b=a.appVersion;console.log("appInfo osVersion",b);if(b=="1.0.0"||b=="1.0.1"||b=="1.0.2"){if(a.osType=="AOS"){_DI_APP_INSTALL_URL="market://details?id=kr.co.direct.hi.hyundai.android"}if(a.osType=="IOS"){_DI_APP_INSTALL_URL="http://itunes.apple.com/kr/app/id1265054195?mt=8"}confirm("바이오인증을 이용하실 경우, 앱 업데이트가 필요합니다. \n 앱스토어로 이동하시겠습니까?","fnGoAppInstall('"+_DI_APP_INSTALL_URL+"')");return}if(window.HiDirect.NA_CheckBioDevice!=undefined){window.HiDirect.NA_CheckBioDevice(c)}}}function fnGoAppInstall(a){window.location.href=a}function goBioCertAdmin(c,b,d,a){if(c=="Y"){location.href="/service.do?m=b0b1129284"}else{alert("지원 가능 단말이 아닙니다.")}}function fnBioReg103(d,c,b,a,e){if(window.HiDirect.NA_Request103!=undefined){window.HiDirect.NA_Request103(d,c,b,a,e)}}function fnBioReg105(b,d,a,c){if(window.HiDirect.NA_Request105!=undefined){window.HiDirect.NA_Request105(b,d,a,c)}}function fnBioReg115(e,d,a,g,c,b,f){if(window.HiDirect.NA_Request115!=undefined){window.HiDirect.NA_Request115(e,d,a,g,c,b,f)}}function fnBioReg121(c,b,a,d){if(window.HiDirect.NA_Request121!=undefined){window.HiDirect.NA_Request121(c,b,a,d)}}function fnBioReg2103(d,a,c,b,e){if(window.HiDirect.NA_Request2103!=undefined){window.HiDirect.NA_Request2103(d,a,c,b,e)}}function fnBioReg2105(b,e,a,d,c){if(window.HiDirect.NA_Request2105!=undefined){window.HiDirect.NA_Request2105(b,e,a,d,c)}}function fnBioReg2115(c,a,b,d){if(window.HiDirect.NA_Request2115!=undefined){window.HiDirect.NA_Request2115(c,a,b,d)}}function fnBioReg2121(c,a,b,d){if(window.HiDirect.NA_Request2121!=undefined){window.HiDirect.NA_Request2121(c,a,b,d)}}function getPushAlarmCount(){try{if(window.HiDirect.NA_GetPushAlarmCount!=undefined){window.HiDirect.NA_GetPushAlarmCount("JS_GetPushAlarmCount")}}catch(a){console.log("알람 카운트 오류 ",a)}}function JS_GetPushAlarmCount(a){console.log("alarm count",a);if(!isNullChk(a)&&a!=""&&a!="0"){$("#appMenuDiv .goMenu li:eq(0) a span").after("<em>N</em>")}}function clearPushAlarmCount(){if(window.HiDirect!=undefined){window.HiDirect.NA_ClearPushAlarmCount("JS_ClearPushAlarmCount")}}function JS_ClearPushAlarmCount(a,b){console.log("alarm clear result / message :: "+a+" / "+b)}function getFirstInstallDate(a){if(window.HiDirect!=undefined){window.HiDirect.NA_GetFirstInstallDate(a)}}function setFirebaseButtonEvent(b){if(window.HiDirect!=undefined){var a=JSON.parse(sessionStorage.getItem("appInfo"));if("IOS"==a.osType&&a.appVersion>="1.1.5"){window.HiDirect.NA_GetFirebaseButtonEvent(b)}else{if("AOS"==a.osType&&a.appVersion>="1.1.6"){window.HiDirect.NA_GetFirebaseButtonEvent(b)}}}}function insertSignVid(e,b,a,d){if(window.HiDirect!=undefined){var c=JSON.parse(sessionStorage.getItem("appInfo"));if(c.osType=="AOS"){reqCertiVO={};reqCertiVO.signCd=e;reqCertiVO.vidCd=b;reqCertiVO.certId=a;reqCertiVO.uuid=d;reqCertiVO.certTypeCd="02";HiJS.svr.doRequestAjax("DHCO0099M33S",{data:reqCertiVO,callback:{success:function(f){window.HiDirect.NA_AppFinish()},failure:function(f){window.HiDirect.NA_AppFinish()}}})}}}function appFinish(){if(window.HiDirect!=undefined){var a=JSON.parse(sessionStorage.getItem("appInfo"));if(a.osType=="AOS"){window.HiDirect.NA_AppFinish()}}}function JS_doCertify(){if(window.HiDirect!=undefined){var a=JSON.parse(sessionStorage.getItem("appInfo"));if(a.osType=="AOS"){HiJS.svr.doRequestAjax("DHCO0099M21S",{loadingbar:true,callback:{success:function(c){var b=c.data.pem;window.HiDirect.NA_certifyWithVID(b)},failure:function(b){alert("인증처리중 오류가 발생했습니다.");appFinish();return}}})}}}function JS_SetAuthTechList(a){sessionStorage.setItem("authTechList",a)}function JS_SetFidoAppVersion(a){console.log("_fidoAppVersion:"+a);sessionStorage.setItem("fidoAppVersion",a)}function appPushTagging(b,a){if(window.HiDirect!=undefined){if(!isNullChk(b)&&!isNullChk(a)){getAppInfoPush(b,a)}}}function appPushReceive(d,b){var c=JSON.parse(sessionStorage.getItem("appInfo"));if(!isNullChk(d)&&!isNullChk(b)){var e=c.token;var a={};a={token:e,pushSeq:d,pushEvntCat:b};HiJS.svr.doRequestAjax("DHCO0287M02U",{data:a,loadingbar:false,callback:{success:function(f){},failure:function(f){}}})}}function getFamilyCerti(b,a,h,c,g,d){if(window.HiDirect!=undefined){try{isFamilyScraping=true;HiJS.svr.doRequestAjax("DHCO0099M21S",{loadingbar:false,callback:{success:function(i){var e=i.data.pem;window.HiDirect.NA_CertifyWithVID(e,"JS_ReceivedScrapCertify")}}})}catch(f){$.unblockUI()}}}function JS_GetFamilyCerti(a){if(a!=""){$.unblockUI();try{var c=JSON.parse(a);var f=[c.Output.ErrorCode,c.Output.ErrorMessage];var b=null;console.log("dataParam2:",c);console.log("FamilyCerti:"+c.Output.ErrorCode+" "+c.Output.ErrorMessage);if(c.Output.ErrorCode=="00000000"){b=c.Output.Result.가족사항;setChildGov(b,f)}else{setChildGov(b,f)}}catch(d){console.log("[common_app.js] JS_GetFamilyCerti, JSON parse error:"+d)}}}function JS_ReceivedScrapCertify(n,q){if(window.HiDirect!=undefined){g_appYn="Y"}if(isFamilyScraping==true){g_os=osInfo.cd;g_osVer=osInfo.vsn;g_etcInfo="[browser]"+browserInfo.name+" "+browserInfo.vsn;try{commPramVo=getAjaxSessionObj()}catch(l){console.log("[app.js] JS_ReceivedScrapCertify, Exception:"+l)}var c=commPramVo.name;var d=commPramVo.regNo;var b=$("#family_sel").val();var a=$("#family_name").val();var h="2";var g="1";var k=commPramVo.regNo1;var i=commPramVo.regNo2;var m="2d69664fef";var o="82";var p="02";var f=g_etcInfo+" / [birthDt]"+k;if(q==""){console.log("공인인증서창 취소")}else{var j={aSignedMsg:q,aVidMsg:n,regNo1:k,regNo2:i,certType:p,svcMenuId:m,menuCode:o,appYn:g_appYn,os:g_os,osVer:g_osVer,etcInfo:f,certId:""};$.blockUI();HiJS.svr.doRequestAjax("DHCO0099M08S",{data:j,loadingbar:false,callback:{success:function(r){$.unblockUI();if(r.data.successYn=="Y"){try{$.blockUI();window.HiDirect.NA_GetFamilyCerti(c,d,b,a,h,g,"JS_GetFamilyCerti")}catch(s){$.unblockUI()}}else{alert("본인확인에 실패하였습니다. 다시 시도해주세요.");if(r.data.certRsltMsg!=""){}else{}}}}})}}else{JS_ReceivedHealthScrapCertify(n,q)}}function getHealthCerti(b,a){if(window.HiDirect!=undefined){var c=JSON.parse(sessionStorage.getItem("appInfo"));if(("IOS"==c.osType&&c.appVersion>="1.3.0")||("AOS"==c.osType&&c.appVersion>="1.3.8")){try{isFamilyScraping=false;signDataWithVIDRegNo1=b;signDataWithVIDRegNo2=a;HiJS.svr.doRequestAjax("DHCO0099M21S",{loadingbar:false,callback:{success:function(f){var e=f.data.pem;window.HiDirect.NA_CertifyWithVID(e,"JS_ReceivedScrapCertify")}}})}catch(d){$.unblockUI()}}else{setHtInfoGov("");alert("검강검진 결과를 가져오기 위해서는 앱 버전을 업데이트 해 주세요.")}}}function JS_ReceivedHealthScrapCertify(f,i){if(window.HiDirect!=undefined){g_appYn="Y"}g_os=osInfo.cd;g_osVer=osInfo.vsn;g_etcInfo="[browser]"+browserInfo.name+" "+browserInfo.vsn;var d=signDataWithVIDRegNo1;var b=signDataWithVIDRegNo2;var e="2d69664fef";var g="82";var h="02";var a=g_etcInfo+" / [birthDt]"+d;if(i==""){console.log("공인인증서창 취소");alert("인증에 실패 했습니다. 건강검진 결과 요청을 다시 시도해주세요.")}else{var c={aSignedMsg:i,aVidMsg:f,regNo1:d,regNo2:b,certType:h,svcMenuId:e,menuCode:g,appYn:g_appYn,os:g_os,osVer:g_osVer,etcInfo:a,certId:""};$.blockUI();HiJS.svr.doRequestAjax("DHCO0099M08S",{data:c,loadingbar:false,callback:{success:function(l){$.unblockUI();if(l.data.successYn=="Y"){try{var k=new Object();k.로그인방식="CERT";k.주민사업자번호=d+b;var j=new Object();j.Module="NHIS";j.Class="민원신청조회";j.Job="로그인";j.Input=k;$.blockUI();window.HiDirect.NA_GetHealthCertiLogin(JSON.stringify(j),"JS_ReceivedHealthScrapData")}catch(m){$.unblockUI()}}else{setHtInfoGov("");alert("건강검진 결과 요청을 다시 시도해주세요.")}}}})}}function JS_ReceivedHealthScrapData(c){if(c!=""){try{var d=JSON.parse(c);var h=[d.Output.ErrorCode,d.Output.ErrorMessage];var f=null;var b=null;if("00000000"==d.Output.ErrorCode){try{var a=new Object();a.Module="NHIS";a.Class="민원신청조회";a.Job="건강검진결과조회";window.HiDirect.NA_GetHealthCerti(JSON.stringify(a),"JS_GetHealthCerti")}catch(g){setHtInfoGov("");alert("검강검진 결과 조회를  다시 시도해주세요.")}}else{setHtInfoGov("");alert("검강검진 결과 조회를  다시 시도해주세요."+d.Output.ErrorMessage);return}}catch(g){setHtInfoGov("");alert("검강검진 결과 조회를  다시 시도해주세요.")}}}function JS_GetHealthCerti(t){if(t!=""){$.unblockUI();try{var f=JSON.parse(t);var h=[f.Output.ErrorCode,f.Output.ErrorMessage];var H=null;var G=null;if(f.Output.ErrorCode=="00000000"){var p=getToday().substring(0,4);var l;var r="";var g=f.Output.Result;var H;var G=g["검진결과상세"];var d;var b="";var w="";var a="";var D="";var z="";var j="";var m="";var E="";var v="";var F="";var s="";H=getListFilter(g,"검진종류","일반","1");H=sortJSON(H,"검진연도","desc");for(var y=0;y<H.length-1;y++){r=H[0].검진연도;F=H[0].검진일자;break}l=parseInt(p)-parseInt(r);if(isNaN(l)){l=3;alert("최근2년내 검진 정보가 없습니다.")}console.log("검진년도 차이 : "+l);if(l>2){console.log("부적합");alert("최근2년내 검진 정보가 없습니다.")}else{console.log("적합");for(var o=0;o<G.length;o++){var c=G[o]["검진결과"];d=getListFilter(c,"검진일자",F,"2");d=sortJSON(d,"검진일자","desc");if(G[o].검사항목==="체질량지수"){b=fnInspcVal(d[0].수치)}else{if(G[o].검사항목==="혈압(최고/최저)"){if(d[0].수치!=""&&d[0].수치!=null&&d[0].수치!=undefined){var n=d[0].수치.split("/");for(var y in n){if(y==0){w=n[0]}else{a=n[1]}}}else{w=0;a=0}}else{if(G[o].검사항목==="공복혈당"){D=fnInspcVal(d[0].수치)}else{if(G[o].검사항목==="총콜레스테롤"){z=fnInspcVal(d[0].수치)}else{if(G[o].검사항목==="HDL 콜레스테롤"){j=fnInspcVal(d[0].수치)}else{if(G[o].검사항목==="AST (SGOT)"){m=fnInspcVal(d[0].수치)}else{if(G[o].검사항목==="ALT (SGPT)"){E=fnInspcVal(d[0].수치)}else{if(G[o].검사항목==="감마지피티(y-GPT)"){v=fnInspcVal(d[0].수치)}}}}}}}}}var C=getSexCatByRegNo(signDataWithVIDRegNo1+signDataWithVIDRegNo2);console.log("sexCat : "+C);var B=signDataWithVIDRegNo1;if(signDataWithVIDRegNo1.substring(0,2)>10){B="19"+B}else{B="20"+B}var q=ageCalIns(getToday(),B);console.log("age : "+q);var u=signDataWithVIDRegNo1+signDataWithVIDRegNo2;console.log("srdRegNo : "+u);var k={lhgiInsrdRegNo:u,lhgiMdxDt:F,lhgiBmiVal:b,lhgiSystlBlpsVal:w,lhgiDiastlBlpsVal:a,lhgiEmpsmBsgvVal:D,lhgiTotChlVal:z,lhgiHdlvVal:j,lhgiAstvVal:m,lhgiAltvVal:E,lhgiGammGtpVal:v,lhgiSexCat:C,lhgiInsdAge:q};setHtInfoGov(k)}}else{setHtInfoGov("");alert("검강검진 결과 조회가 종료 되었습니다."+f.Output.ErrorMessage)}}catch(A){setHtInfoGov("");alert("검강검진 결과 조회를  다시 시도해주세요.");console.log("[common_app.js] JS_GetHealthCerti, JSON parse error:"+A)}}}function viewJSON(a){return JSON.stringify(a,null,4)}function getListFilter(e,b,d,c){var a=new Array();if(c==="1"){$.each(e.검진결과목록,function(){if(this[b]==d){a.push(this)}})}else{$.each(e,function(){if(this[b]==d){a.push(this)}})}return a}function sortJSON(c,a,b){if(b==undefined){b="desc"}return c.sort(function(f,e){var d=f[a];var g=e[a];if(b=="desc"){return d>g?-1:d<g?1:0}else{if(b=="asc"){return d<g?-1:d>g?1:0}}})}function fnInspcVal(a){if(a==""||a==null||a==undefined||(a!=null&&typeof a=="object"&&!Object.keys(a).length)){a=0}else{a=a}return a}function getAjaxSessionObj(){var a={};var b;HiJS.svr.doRequestAjax("DHCO1001M03S",{data:a,loadingbar:false,async:false,callback:{success:function(c){b=c.data},failure:function(c){return c}}});return b}function setPayGbUrlSave(b){if(window.HiDirect!=undefined){var a=JSON.parse(sessionStorage.getItem("appInfo"));if("IOS"==a.osType&&a.appVersion>="1.2.8"){window.HiDirect.NA_GetPayGbUrlSave(b)}else{if("AOS"==a.osType&&a.appVersion>="1.3.6"){window.HiDirect.NA_GetPayGbUrlSave(b)}}}}function openAppPayLayer(b){if(b==""){b="https://m.naver.com"}if(window.HiDirect!=undefined){var a=JSON.parse(sessionStorage.getItem("appInfo"));if("IOS"==a.osType&&a.appVersion>="1.2.9"){window.HiDirect.NA_OpenAppPayLayer("현대해상 다이렉트 자동차보험 결제",b)}}};