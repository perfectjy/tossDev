<!doctype html>
<html lang="ko">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
<meta name="format-detection" content="telephone=no" />
<title>이벤트 상세내용</title>
<!-- css -->
<link rel="stylesheet" type="text/css" href="./css/directH1.css">
<!-- js -->
<script type="text/javascript" src="./js/jquery/jquery-1.8.3.js"></script>
<script type="text/javascript" src="./js/jquery/jquery-ui.js"></script>
<script type="text/javascript" src="./js/jquery/jquery-dateFormat.js"></script>
<script type="text/javascript" src="./js/jquery/jquery.form.js"></script>
<script type="text/javascript" src="./js/jquery/jquery.blockUI.js"></script>
<script type="text/javascript" src="./js/json2.js"></script>
<script type="text/javascript" src="./js/jquery/jquery.history.js"></script>
<script type="text/javascript" src="./js/hi-framework-jquery.js"></script>
<script type="text/javascript" src="./js/HiJS.js"></script>
<script type="text/javascript" src="./js/common/common.js"></script>
<script type="text/javascript" src="./js/common/common_app.js"></script>
<script type="text/javascript" src="./js/common/common_ui.js"></script>
<script type="text/javascript" src="./js/common/common_combo.js"></script>
<script type="text/javascript" src="./js/common/validation.js"></script>
<script type="text/javascript" src="./js/common/commonTime.js"></script>
<script type="text/javascript" src="./js/common/cDate.js"></script>
<script type="text/javascript" src="./js/xecuresmart.js"></script>
<script type="text/javascript" src="./js/slick.js"></script>
<script type="text/javascript" src="./js/ui.js"></script>
<script type="text/javascript" src="./js/ui_common.js"></script>
<script>
  // 이벤트 Slick Slide /1808
  $(function(){			
    $('.eventListSlide .basic').slick({
      infinite: true,
      slidesToShow: 1,
      slidesToScroll: 1,
      dots: true,
      arrows: false,
      adaptiveHeight: true
    });
  });
</script>
<!-- css only event page /1810 -->
<style rel="stylesheet">
  .slick.basic{padding-bottom:40px;background:#fff}
  .slick .slick-dots{position:fixed;height:3rem;bottom:0;background:rgba(255,255,255,0.5)}
</style>
<script type="text/javascript">
	//console.log("[COCO0140G]bzCat:AUTO");

	var agreeCallBack;
	var agreeCnts = {};
	var personalOpenYN = "N";
	var lossSearch = "N";
	var returnAgreeObj0140 = {};
	var mdCtrtrCat = "";
	
	// 가입권유 연락방식 선택
	$(document).on('click',"#detail_cnts_BFZZ01 a", function(e){
		if ( $(e.target).parent('.agreeCtr').hasClass('on') ) {
			$("#BFZZ01_input").prop("checked",false);
			$("#BFZZ03_input").prop("checked", false);
			$("#BFZZ04_input").prop("checked", false);
			$(e.target).parent('.agreeCtr').removeClass('on');
			$(e.target).parent('.agreeCtr').next('.termCont').find('input').removeAttr('checked');
// 			$(e.target).parent('.agreeCtr').next('.termCont').find('input').trigger('click');
			$(e.target).parent('.agreeCtr').find('.btnView').removeClass('act');
			$(e.target).parent('.agreeCtr').find('.btnView .state').text('연락 방식 닫기');
			$(e.target).parent('.agreeCtr').next('.termCont').attr('aria-hidden' , false).show();
			$(e.target).text("전체선택하기");
			
			// 선택동의 (전체동의, 전체미동의)
			fnAgreeRdoChk("N");
		} else {
			$("#BFZZ01_input").prop("checked",true);
			$("#BFZZ03_input").prop("checked", true);
			$("#BFZZ04_input").prop("checked", true);
			$(e.target).parent('.agreeCtr').addClass('on');
			$(e.target).parent('.agreeCtr').next('.termCont').find('input').attr('checked','checked');
// 			$(e.target).parent('.agreeCtr').next('.termCont').find('input').trigger('click');

			$(e.target).parent('.agreeCtr').find('.btnView').addClass('act');
			$(e.target).parent('.agreeCtr').find('.btnView .state').text('연락 방식 열기');
			$(e.target).parent('.agreeCtr').next('.termCont').attr('aria-hidden' , true).hide();
			$(e.target).text("전체선택완료");
			
			// 선택동의 (전체동의, 전체미동의)
			fnAgreeRdoChk("Y");
		}
	});
	
	// 가입권유 연락방식 화살표
	$(document).on('click',"#detail_cnts_BFZZ01 button", function(e){
		if ( $(e.target).parents('.btnView').hasClass('act') ) {
			$(e.target).parents('.btnView').removeClass('act');
			$(e.target).parents('.btnView').find('.state').text('연락 방식 닫기');
			$(e.target).parents('.agreeCtr').next('.termCont').attr('aria-hidden' , false).show();
		} else {
			$(e.target).parents('.btnView').addClass('act');
			$(e.target).parents('.btnView').find('.state').text('연락 방식 열기');
			$(e.target).parents('.agreeCtr').next('.termCont').attr('aria-hidden' , true).hide();
		}
	});	
	
	$(document).on('click',"[id^='ck0']", function(){
		var chkCount = 0;
		if($(this).prop("checked")){
			$(".agreeCtr input:radio[name=agreeRdo][value=Y]").prop("checked", true);
			$("#BFZZ01_input").prop("checked", true);
			$("#BFZZ03_input").prop("checked", true);
			$("#BFZZ04_input").prop("checked", true);
		}else{
			$("[id^='ck0']").each(function(){
				if(!$(this).prop("checked")){
					chkCount++;
				}
				
				if(chkCount == $("[id^='ck0']").length){
					$(".agreeCtr input:radio[name=agreeRdo][value=N]").prop("checked", true);
					$("#BFZZ01_input").prop("checked",false);
					$("#BFZZ03_input").prop("checked", false);
					$("#BFZZ04_input").prop("checked", false);
					return false;
				}
			});
		}
	});
	
	$(document).on('click',"#BFZZ01_input, #BFZZ03_input, #BFZZ04_input", function(){

		var thisAgreeDiv = $("#ck0102").parent().parent().prev('.agreeCtr');
		if($(this).prop("checked")){
			if($(this).attr("id") == "BFZZ01_input"){
				if($("#BFZZ03_input").length > 0){
					$("#BFZZ03_input").prop("checked", true);
				}
				if($("#BFZZ04_input").length > 0){
					$("#BFZZ04_input").prop("checked", true);
				}
			}else if($(this).attr("id") == "BFZZ03_input"){
				if($("#BFZZ01_input").length > 0){
					$("#BFZZ01_input").prop("checked", true);
				}
				if($("#BFZZ04_input").length > 0){
					$("#BFZZ04_input").prop("checked", true);
				}
			}else{
				if($("#BFZZ01_input").length > 0){
					$("#BFZZ01_input").prop("checked", true);
				}
				if($("#BFZZ03_input").length > 0){
					$("#BFZZ03_input").prop("checked", true);
				}
			}
			
			// 선택동의 (전체동의, 전체미동의)
			fnAgreeRdoChk("Y");
		}else{
			if($(this).attr("id") == "BFZZ01_input"){
				if($("#BFZZ03_input").length > 0 ){
					$("#BFZZ03_input").prop("checked", false);
				}
				if($("#BFZZ04_input").length > 0 ){
					$("#BFZZ04_input").prop("checked", false);
				}
			}else if($(this).attr("id") == "BFZZ03_input"){
				if($("#BFZZ01_input").length > 0){
					$("#BFZZ01_input").prop("checked", false);
				}
				if($("#BFZZ04_input").length > 0){
					$("#BFZZ04_input").prop("checked", false);
				}
			}else{
				if($("#BFZZ01_input").length > 0){
					$("#BFZZ01_input").prop("checked", false);
				}
				if($("#BFZZ03_input").length > 0){
					$("#BFZZ03_input").prop("checked", false);
				}
			}
			
			// 선택동의 (전체동의, 전체미동의)
			fnAgreeRdoChk("N");
		}
		
	});	
	
	$(document).on('change',"li > input", function(e){
		var length = $(this).parent().siblings().length+1;
		var chkLength = $(this).parent().parent().find('input:checked').size();
		var agreeDiv = $(this).parent().parent().prev('.agreeCtr');		
		
		if(length == chkLength){
			$(agreeDiv).children('a').text($(this).attr("id").indexOf("ck0") > -1?"전체선택완료":"동의완료");
			$(agreeDiv).addClass('on');
			$(agreeDiv).children('.btnView').addClass('act');
			$(agreeDiv).children('.btnView').find('.state').text($(this).attr("id").indexOf("ck0") > -1?"연락 방식 열기":"약관 열기");
			$(this).parent().parent().attr('aria-hidden' , true).hide();
		}else{
			$(agreeDiv).children('a').text($(this).attr("id").indexOf("ck0") > -1?"전체선택하기":"전체동의");
			$(agreeDiv).removeClass('on');
			$(agreeDiv).children('.btnView').removeClass('act');
			$(agreeDiv).children('.btnView').find('.state').text($(this).attr("id").indexOf("ck0") > -1?"연락 방식 닫기":"약관 닫기");
			$(this).parent().parent().attr('aria-hidden' , false).show();
		}
	});
	
	$(document).on('click',"input:radio[name=agrmExprCltMob]", function(){
		// 개인정보 보유기간 선택(5년/4년/3년)
		var agrmExprYear = $(":radio[name=agrmExprCltMob]:checked").val();
		if(agrmExprYear != ""){
			$("#agrmExprYear").val(agrmExprYear);
		}
	});	
	
	$(document).on('click',"input:radio[name=agrmExprPrdMob]", function(){
		 // 개인정보 보유기간 선택(5년/4년/3년)
		var agrmExprYear = $(":radio[name=agrmExprPrdMob]:checked").val();
		if(agrmExprYear != ""){
			$("#agrmExprYear").val(agrmExprYear);
		}
	});	
	
	/**
	 * @alias 모두 전체동의(필수, 선택)
	 */
	$(document).on('click',"#agreeAllbtn", function(){
		if($("ul[id^='agreeAll']:visible li input").length != $("ul[id^='agreeAll']:visible li input:checked").length){
			$(this).parent().addClass('on');
	        $("ul[id^='agreeAll']:visible li input").each(function(){
	            if(!$(this).is(":checked")){
	            	$(this).prop('checked',true);
	            }
	        });
	        // 필수, 선택 동의
			$("ul[id^='agreeAll']:visible").prev(".agreeCtr").find("input:radio[value=Y]").prop("checked", true);
			$("ul[id^='agreeAll']:visible").prev(".agreeCtr").find("input:radio[value=N]").prop("checked", false);
	        
	        $("ul[id^='agreeAll']:visible").prev(".agreeCtr").addClass("on");
	        $("ul[id^='agreeAll']:visible").prev(".agreeCtr").find("button").addClass("act");
	        $("ul[id^='agreeAll']:visible").prev(".agreeCtr").find(".btnView .state").text("약관 열기");
	        $("ul[id^='agreeAll']:visible").prev(".agreeCtr").find("input:radio[value=Y]").next().text("동의완료");
	        $("ul[id^='agreeAll']:visible").attr('aria-hidden' , true).hide();
	        
	        if($("#agreeZZ:visible").length > 0){
	        	// 선택동의 (전체동의, 전체미동의)
				fnAgreeRdoChk("Y");
	        }
	    }else{
	    	$(this).parent().removeClass('on');
	    	$("ul[id^='agreeAll'] li input").each(function(){
	            if($(this).is(":checked")){
	            	$(this).prop('checked',false);
	            }
	        });
	        // 필수, 선택 동의
	        $(".agreeCtr:visible").next("ul[id^='agreeAll']").prev(".agreeCtr").find("input:radio[value=Y]").prop("checked", false);
	        $(".agreeCtr:visible").next("ul[id^='agreeAll']").prev(".agreeCtr").find("input:radio[value=N]").prop("checked", false);
	        
	        $(".agreeCtr:visible").next("ul[id^='agreeAll']").prev(".agreeCtr").removeClass("on");
	        $(".agreeCtr:visible").next("ul[id^='agreeAll']").prev(".agreeCtr").find("button").removeClass("act");
	        $(".agreeCtr:visible").next("ul[id^='agreeAll']").prev(".agreeCtr").find(".btnView .state").text("약관 닫기");
	        $(".agreeCtr:visible").next("ul[id^='agreeAll']").prev(".agreeCtr").find("input:radio[value=Y]").next().text("전체동의");
	        $(".agreeCtr:visible").next("ul[id^='agreeAll']").attr('aria-hidden' , false).show();
	        
	        if($("#agreeZZ:visible").length > 0){
	        	// 선택동의 (전체동의, 전체미동의)
				fnAgreeRdoChk("defualt");
	        }
	    }
	});	
	
	// 열기
	function fnOpenPresonalAgree(obj, callBack) {
		agreeCallBack = callBack;
		
		if (personalOpenYN == "N") {
			personalOpenYN = "Y";
			goAgreeAjax(obj);
		}
		
		openLayer("presonalAgree");
		
		/* 2019.12.04 가입설계동의 생략 프로세스 제거
		 *
		var val_bzCat = 'AUTO';
		
		// 자동차만 가입설계동의 간소화 적용
		if(val_bzCat != ""){
			var rtn;
			HiJS.svr.doRequestAjax("DHCO0310M05S", {
				loadingbar: false,
				callback : {
					success : function(responseObj) {
						console.log("pravAgrmPass====" + responseObj.data.pravAgrmPass);
						rtn = responseObj.data.pravAgrmPass;
						
						if(rtn == "Y"){
							//생략 시 실행 함수
							fnConfirmAgree();
						}else{
							if (personalOpenYN == "N") {
								personalOpenYN = "Y";
								goAgreeAjax(obj);
							}
							
							openLayer("presonalAgree");
						}
					}
					,failure : function(responseObj) {
						if (personalOpenYN == "N") {
							personalOpenYN = "Y";
							goAgreeAjax(obj);
						}
						
						openLayer("presonalAgree");
					}
				}
			});
		}else{
			if (personalOpenYN == "N") {
				personalOpenYN = "Y";
				goAgreeAjax(obj);
			}
			
			openLayer("presonalAgree");
		}
		*/
	}
	
	function goAgreeAjax(obj){

		HiJS.svr.doRequestAjax("DHCO0310M03S", {
			loadingbar: false,
			callback : {
				success : function(responseObj) {
					var agreeArr = responseObj.data.dhco0310voList;
					var agreeArr1 = new Array();
					var agreeArr2 = new Array();
					if($("#ptyKorNmIpt").val() != ""){
						var val_ptyKorNmIpt = $("#ptyKorNmIpt").val();
					}
					$.each(agreeArr, function(idx, value){
						var agreeHtml = "";
						
						if(value.cntnMgntId == 'BFAA00' || value.cntnMgntId == 'BFZZ00'){
							// 필수,선택 소비자 권익보호에 관한 사항 내용 노출 처리
							//agreeHtml += "<div><br>"+value.title+"<br>"+value.cnts+"</div>";
							
							// li로 인식되지 않기 위해 <div><li>로 처리, agree5 --> 약관명이 아닌, li 인덱스(agree + i)로 처리하는 로직 있음.
							agreeHtml += "<div class='mgbSs'><li>";
							agreeHtml += "<a href=\"javascript:void(0);\" onclick=\"javascript:goMgntAgreeDetail(this);\" title=\"약관보기 새창\" id='"+value.cntnMgntId+"'>"+value.title+"</a>";
							agreeHtml += "</li></div>";
							if(mdCtrtrCat == 'Y'){
								if(value.cntnMgntId == "BFAA00"){
									agreeHtml += "<div class='mgbSs'><li>";
									agreeHtml += "<a href=\"javascript:void(0);\" onclick=\"javascript:goMgntAgreeDetail(this);\" title=\"약관보기 새창\" id='"+value.cntnMgntId+"'>"+value.title+"(피보험자 : "+val_ptyKorNmIpt+")</a>";
									agreeHtml += "</li></div>";
								}
							}
						}else{
							// 필수동의 질병상해 민감정보 동의 자동차제외 문구추가 202007 (자동차만)	
							var agreeTitle = value.title;
							if(value.cntnMgntId == "BFAA04" && "AUTO" == "AUTO"){
								agreeTitle = value.title + " - 자동차보험은 해당없음";
							}
							
							// 필수동의 민감정보 삭제  2021.05 --> 상품소개 동의 agree5 로 검증하는 로직으로 인한 삭제 대신 숨김 및 동의 처리
							var agreeStyle = "";
							if(value.cntnMgntId == "BFAA04" || value.cntnMgntId == "BFAA05"){
								agreeStyle = "style='display:none'";
							}
							
							agreeHtml += "<li "+agreeStyle+">";
							agreeHtml += "<input type=\"checkbox\" id=\""+value.cntnMgntId+"_input\" name=\""+value.cntnMgntId+"\"><label for=\""+value.cntnMgntId+"_input\"><span class=\"hide\">"+agreeTitle+"</span></label>";
							agreeHtml += "<a href=\"javascript:void(0);\" onclick=\"javascript:goMgntAgreeDetail(this);\"  title=\"약관보기 새창\" id='"+value.cntnMgntId+"'>"+agreeTitle+"</a>";
							agreeHtml += "</li>";
							if(mdCtrtrCat == 'Y'){
								if(value.cntnMgntId == "BFZZ01" || value.cntnMgntId == "BFZZ04"){
								}
								else if(value.cntnMgntId == "BFAA04" || value.cntnMgntId == "BFAA05"){
									agreeStyle = "style='display:none'";
								}
								else{
									agreeHtml += "<li>";
									agreeHtml += "<input type=\"checkbox\" id=\""+value.cntnMgntId+"_input\" name=\""+value.cntnMgntId+"\"><label for=\""+value.cntnMgntId+"_input\"><span class=\"hide\">"+agreeTitle+"</span></label>";
									agreeHtml += "<a href=\"javascript:void(0);\" onclick=\"javascript:goMgntAgreeDetail(this);\"  title=\"약관보기 새창\" id='"+value.cntnMgntId+"'>"+agreeTitle+"(피보험자 : "+val_ptyKorNmIpt+")</a>";
									agreeHtml += "</li>";
								}
							}
						}
						
						if(value.cntnMgntId.indexOf('BFAA') >= 0){
							agreeArr1.push(agreeHtml);
							if(mdCtrtrCat == 'N'){
							}
						}
						
						if(value.cntnMgntId.indexOf('BFZZ') >= 0){
							if(mdCtrtrCat == 'Y'){
							}
							if(value.cntnMgntId == "BFZZ02"){
								console.log("[COCO0140G]del:"+value.cntnMgntId);
							}else if("AUTO" == "AUTO" && value.cntnMgntId == "BFZZ15"){
								//보험개발원약관 자동차만 skip
							}else{
								if(value.cntnMgntId == "BFZZ01"){ 
									$("#BFZZ01_title").append(value.title);
								}
								
								if(value.cntnMgntId == "BFZZ03"){
									if(obj.threeYn == "Y"){
										agreeArr2.push(agreeHtml);	
									}
								}else{								
									agreeArr2.push(agreeHtml);
								}
								
							}
						}
						agreeCnts['cnts_'+value.cntnMgntId] = value.cnts;
						
					});
					
					$.each(agreeArr1, function(idx, value){
						$("#agreeAll1").append(value);
					});
					
					//선택동의 동의여부에 따른 선택동의 숨김처리
					if(responseObj.data.mktgUtlAgrmExistYn == "Y"){
						$("#agreeZZ").prev().hide();
						$("#agreeZZ").hide();
					}else{
						$.each(agreeArr2, function(idx, value){
							$("#agreeAll2").append(value);
						});
					}
					
					fnSetAgree(obj);
				}
				,failure : function(resData){
					HiJS.svr.defaultFailure(resData);
					$.unblockUI();
				}
			}
		});
	}
	
	function fnSetAgree(obj){
		var allCheckAgree1 = true;
		var allCheckAgree2 = true;
		$("ul[id^='agreeAll'] > li").each(function(idx, li){
			if(obj['agree'+(idx+1)] != undefined && obj['agree'+(idx+1)] == "Y"){
				$(li).addClass("on");
				$(li).find("input").attr("checked", true);
			}else{
				if(idx < 5){
					allCheckAgree1	= false;
				}else{
					allCheckAgree2 = false;
				}
			}
		});
		
		if(allCheckAgree1){
			$("#agreeAA").addClass("on");
			$("#agreeAA").find("button").addClass("act");
			$("#agreeAA").find(".btnView .state").text("약관 열기");
			$("#agreeAA").find("input:radio[value=Y]").next().text("동의완료");
			$("#agreeAll1").attr('aria-hidden' , true).hide();
		}
		
		if(allCheckAgree2){
			$("#agreeZZ").addClass("on");
			$("#agreeZZ").find("button").addClass("act");
			$("#agreeZZ").find(".btnView .state").text("약관 열기");
			$("#agreeZZ").find("input:radio[value=Y]").next().text("동의완료");
			$("#agreeAll2").attr('aria-hidden' , true).hide();
		}		
		
		$("#detail_cnts_BFZZ01").html(agreeCnts['cnts_BFZZ01']);
		
		$("[id^='ck0']").each(function(idx){
			if(obj['agreeSelect'+(idx+1)]){
				$(this).prop("checked", true);
			}
		});
		
		//실손 중복 담보 조회 관련 로직 추가 (운전자 보험)
		lossSearch = "N";
		if(obj['lossYn'] =='Y'){
			lossSearch = "Y";
			$("#lossSearchUl").show();
		}
	}
	
	/**
	 * @alias 가입권유 연락방식 동의
	 */ 
	function fnAgreeSubChk(subYn){
		
		//가입권유 연락방식 선택
		var thisAgreeDiv = $("#ck0102").parent().parent().prev('.agreeCtr');
		if(subYn == "Y"){
			$("[id^='ck0']").prop("checked", true);
			$(thisAgreeDiv).children('a').text("전체선택완료");
			$(thisAgreeDiv).addClass('on');
			$(thisAgreeDiv).children('.btnView').addClass('act');
			$(thisAgreeDiv).children('.btnView').find('.state').text('연락 방식 열기');
			$("#ck0102").parent().parent().attr('aria-hidden' , true).hide();
		}else{
			$("[id^='ck0']").prop("checked", false);
			$(thisAgreeDiv).children('a').text("전체선택하기");
			$(thisAgreeDiv).removeClass('on');
			$(thisAgreeDiv).children('.btnView').removeClass('act');
			$(thisAgreeDiv).children('.btnView').find('.state').text('연락 방식 닫기');
			$("#ck0102").parent().parent().attr('aria-hidden' , false).show();
		}
	}
	
	/**
	 * @alias 전체동의  (flag 1:필수 , 2:선택)
	 */
	function fnAgreeAll(flag, agreeYn){
		// 가입설계동의
		if(agreeYn != "Y"){
			if(flag == "2"){
				// 선택동의 (전체동의, 전체미동의)
				fnAgreeRdoChk(agreeYn);
			}
			$("label[for='allAgreeBtn"+flag+"']").text("전체동의");	
		}else{
			if(flag == "2"){
				// 선택동의 (전체동의, 전체미동의)
				fnAgreeRdoChk(agreeYn);
			}
			$("label[for='allAgreeBtn"+flag+"']").text("동의완료");
		}
	}
	
	/**
	 * @alias 선택동의 (전체동의, 전체미동의) 라디오버튼 추가
	 */
	function fnAgreeRdoChk(rdoYn){
		var agreeRdo = $("input:radio[name='agreeRdo']");
		if(rdoYn == "Y"){
			$(".agreeCtr input:radio[name=agreeRdo][value=Y]").prop("checked", true);
			
			// 전체미동의 숨김
            $("#allAgreeBtn2_N").parent().hide();
            
         	// 가입권유 연락방식 동의
            fnAgreeSubChk("Y");
			
		}else if(rdoYn == "N"){
			$(".agreeCtr input:radio[name=agreeRdo][value=N]").prop("checked", true);
			
         	// 전체미동의 보여줌
            $("#allAgreeBtn2_N").parent().show();
            
         	// 가입권유 연락방식 동의
            fnAgreeSubChk("N");
         	
		}else{
			$(".agreeCtr input:radio[name=agreeRdo]").prop("checked", false);
			
         	// 전체미동의 보여줌
            $("#allAgreeBtn2_N").parent().show();
            $("label[for='allAgreeBtn2']").text("전체동의");
            
         	// 가입권유 연락방식 동의
            fnAgreeSubChk("N");
		}
	}
	
	function goMgntAgreeDetail(obj){

		if($(obj).attr("id") != "BFZZ01"){
			$("#detail_text").html($(obj).text());
			$("#detail_cnts").html(agreeCnts['cnts_'+$(obj).attr("id")]);
			$("#agreeDetailId").val($(obj).attr("id"));
			
			openLayer('agree_detail');
		}else{
			$("#detail_text").html($(obj).text());
			openLayer('agree_detail_BFZZ01');
		}
		
		//상품소개동의 개인정보 유효기간
        if($("#agrmExprYear").val() != undefined && $("#agrmExprYear").val() != ""){
        	var val = $("#agrmExprYear").val();
        	$("input:radio[name=agrmExprCltMob][value="+val+"]").prop("checked", true);
        	$("input:radio[name=agrmExprPrdMob][value="+val+"]").prop("checked", true);
        }
	}
	
	// 확인
	function fnConfirmAgree() {
		returnAgreeObj0140 = {};
		var chkAgree = false;
		var agree2Bool = false;
		var companyGroup = ""; //제휴일때 팝업 문구 변경
		var parterCat = ""; //몰테일 그룹

		var companyGroupYn = "N";
		
		if(companyGroup == "KAKAO_PAGE" || companyGroup == "NEOWIZ" 
				|| companyGroup == "LEZHIN" || companyGroup == "LOTTE_DOTCOM" || companyGroup == "AK_MALL"
				|| companyGroup == "NAVERWEBTOON"	|| companyGroup == "NINEFRUITS" || companyGroup == "AJSELKA"
				|| companyGroup =="HANA_DREAM_CAR" || companyGroup == "NAVER_SERIES" || companyGroup == "DAUM_WEBTOON"
				|| companyGroup == "TOK_SODA" || companyGroup == "MOB_POP" || companyGroup == "BUZ_SCR"
				|| companyGroup == "BTV" || companyGroup == "PARTZONE" || companyGroup == "CARBY"
			    || companyGroup == "KAKAO_PAGE2" || companyGroup == "TIMON_BIGCHA"
				|| parterCat == "MALLTEILPARTNER" || parterCat == "NINEFGROUP" || parterCat == "KAKAOGROUP" || "" == "CASHFRIENDS"
				){
			companyGroupYn = "Y";
		}
		
		$("ul[id^='agreeAll'] > li").each(function(idx, li){
			if($(li).find("input").is(':checked')){
				returnAgreeObj0140['agree'+idx] = "Y";
			}else if($(li).parent().attr("id") == "agreeAll1"){
				if($(li).find("input").attr("name") == "BFAA04" || $(li).find("input").attr("name") == "BFAA05"){
					// 필수동의 민감정보 삭제  2021.05 --> 상품소개 동의 agree5 로 검증하는 로직으로 인한 삭제 대신 숨김 및 동의 처리
					returnAgreeObj0140['agree'+idx] = "Y";
				}else{
					alert($(li).children("a").text() + "에 동의하여 주시기 바랍니다.","$('#"+$(li).children("input").attr("id")+"').focus()");
					chkAgree = true;
					return false;
				}
			}else if($(li).parent().attr("id") == "agreeAll2"){
				agree2Bool = true;
			}else{
				returnAgreeObj0140['agree'+idx] = "N";
			}
		});
		
		console.log("COCO0140G", returnAgreeObj0140);
		
		if(!chkAgree){
			//실손 중복 담보 조회 관련 로직 추가 (운전자 보험)
			if(lossSearch == "Y"){
				if (!$('input[name="lossSearch"]:checked').val()) {
					alert('실손담보 중복 사전조회에 동의해 주세요.',"$('#lossSearch').focus()");
					return;
				}
			}
			
			if(agree2Bool && ($('#agreeAll2').is(':visible') || $("input:radio[name='agreeRdo']:checked").val() == "N") && companyGroupYn == "N"){
				//20190830 자동차보험 상품소개 미 동의 시 안내 문구 변경
				//20220615 (선택) '상품소개동의' 고객동의 획득 활성화
				if("AUTO" == "AUTO"){
					confirm("상품 소개 항목에 동의하지 않을 경우 1:1상담 서비스 및 이벤트 안내 등 다양한 서비스를 제공받으실 수 없습니다.\n 상품 소개에 동의 상태로 다음 단계를 진행하려면 <확인> 버튼을, 상품 소개에 동의하지 않고 진행하시려면 <취소> 버튼을 클릭해 주세요!","fnAgreeMarketSucc()","fnAgreeMarketFail()");
				}else{
					confirm("상품 소개 항목에 동의하지 않을 경우 1:1상담 서비스 및 이벤트 안내 등 다양한 서비스를 제공받으실 수 없습니다.\n 상품 소개에 동의 상태로 다음 단계를 진행하려면 <확인> 버튼을, 상품 소개에 동의하지 않고 진행하시려면 <취소> 버튼을 클릭해 주세요!","fnAgreeMarketSucc()","fnAgreeMarketFail()");
				}
			}else if(agree2Bool && ($('#agreeAll2').is(':visible') || $("input:radio[name='agreeRdo']:checked").val() == "N") && companyGroupYn == "Y"){
				confirm("<p align=left>죄송합니다.</p><p align=left>이벤트 참여를 위해서는 상품 소개를 위한</p><p align=left>동의(선택)를 선택하셔야 합니다.</p><p align=left>미동의 시 보험료계산/가입은 가능하나</p><p align=left>이벤트 경품은 지급되지 않습니다.</p><p align=left>동의 후 진행하시겠습니까?","fnAgreeMarketSucc2()","fnAgreeMarketFail2()");
			}else{
				$("[id^='ck0']").each(function(idx){
					if($(this).is(':checked')){
						returnAgreeObj0140['agreeSelectPop'+idx] = "Y";
					}else{
						returnAgreeObj0140['agreeSelectPop'+idx] = "N";
					}
				});
				
				//마케팅 동의를 진행한사람의 경우 선택동의가 보여지지 않기때문에 마케팅동의 선택처리함
				if($("#agreeAll2").is(":visible") == false){
					returnAgreeObj0140['agree5'] = "Y";
					returnAgreeObj0140['agreeSelectPop0'] = "Y";
					returnAgreeObj0140['agreeSelectPop1'] = "Y";
					returnAgreeObj0140['agreeSelectPop2'] = "Y";
					returnAgreeObj0140['agreeSelectPop3'] = "Y";
				}
				
				agreeCallBack(returnAgreeObj0140);
				$("#presonalAgree").hide();
			}
		}
	}
	
	function fnAgreeMarketSucc(){
		$("#allAgreeBtn2").click();
		fnAgreeAll('2','Y');
			
		$("[id^='ck0']").each(function(idx){
			//기존 확인 로직
			/* if($(this).is(':checked')){
				returnAgreeObj0140['agreeSelectPop'+idx] = "Y";
				sessionStorage.setItem("ltAgree", "Y");
			}else{
				returnAgreeObj0140['agreeSelectPop'+idx] = "N";
				sessionStorage.setItem("ltAgree", "N");
			} */
			
			//20220615 고객 동의 활성화 로직 변경
			//확인 버튼 클릭시 동의함으로 설정하고 진행
			returnAgreeObj0140['agree5'] = "Y";
			returnAgreeObj0140['agree6'] = "Y";
			returnAgreeObj0140['agreeSelectPop'+idx] = "Y";
			sessionStorage.setItem("ltAgree", "Y");
			
		});
		console.log("COCO0140G ** ", returnAgreeObj0140);
		agreeCallBack(returnAgreeObj0140);
		$("#presonalAgree").hide();		
	}
	
	function fnAgreeMarketFail(){
		//기존 취소
		//return;
		
		//20220615 고객 동의 활성화 로직 변경
		//취소 버튼 클릭시 동의하지 않음으로 설정하고 진행
		$("[id^='ck0']").each(function(idx){
			returnAgreeObj0140['agreeSelectPop'+idx] = "N";
			sessionStorage.setItem("ltAgree", "N");
		});
		
		agreeCallBack(returnAgreeObj0140);
		$("#presonalAgree").hide();
	}
	
	function fnAgreeMarketSucc2(){

		// 선택동의 (전체동의, 전체미동의)
		fnAgreeRdoChk("Y");
		
		$("[id^='ck0']").each(function(idx){
			if($(this).is(':checked')){
				returnAgreeObj0140['agreeSelectPop'+idx] = "Y";
			}else{
				returnAgreeObj0140['agreeSelectPop'+idx] = "N";
			}
			
			console.log("returnAgreeObj0140_"+idx+"]:" + returnAgreeObj0140['agreeSelectPop'+idx]);
		});
		
		returnAgreeObj0140['eventAgree'] = "Y";
		
		agreeCallBack(returnAgreeObj0140, fnMove);
		$("#presonalAgree").hide();
		
	}
	
	function fnAgreeMarketFail2(){
		
		$("[id^='ck0']").each(function(idx){
			if($(this).is(':checked')){
				returnAgreeObj0140['agreeSelectPop'+idx] = "Y";
			}else{
				returnAgreeObj0140['agreeSelectPop'+idx] = "N";
			}
		});
		
		returnAgreeObj0140['eventAgree'] = "N";
		
		agreeCallBack(returnAgreeObj0140);
		$("#presonalAgree").hide();	
	}
	
	// 닫기
	function fnCloseAgreeLayer() {
		if("" == "MD"){
			location.reload();
		}
		closeLayer("presonalAgree");
	}
	
	// 동의내용 상세보기 닫기
	function fnCloseDetailAgreeLayer(divId) {
		// 자세히보기 내용 라디오버튼 항목 확인 (필수동의만 .filsu)
		if( $(".popWrap:visible #agreeMob .filsu.radioBtn").size() > 0){
	    	var $nas = $(".popWrap:visible #agreeMob .filsu.radioBtn");
	    	for(var i = 0; na = $nas[i]; i++) {	
	    		//동의 미선택 항목 체크		
	    		if ($(na) && !$(na).find("input[value=Y]").is(":checked")  ) {
	    			alert("본 동의는 '고객정보 관리 및 가입설계'를 위해 필수적인 사항이므로  동의를 거부하시는 경우 관련 업무 수행이 불가합니다." ,$(na).find("input").focus());
	    			return false;	
	    		}		
	    	}
	    	
	    	// 확인버튼 선택 시 해당 동의내용 체크
			var agreeDetailId = $("#agreeDetailId").val();
			$("#"+agreeDetailId+"_input").prop("checked", true);
		}

		closeLayer(divId);
	}
</script>
</head>
<body>

	<div id="presonalAgree" class="popWrap" style="" aria-hidden="false" role="dialog" aria-live="polite">
	<header>
		<h1>개인정보 동의</h1>
	</header>
	<div class="popContent">
		<p class="topTxt">보험료 계산을 위해 약관에 동의해 주세요.</p>
		<section class="pdtSs">
			<!-- 모두동의버튼200715 -->
            <div class="termCont lineB pdNone">
               <div class="agreeCtr" id="" style="border:none; background:none;">
				  <a href="javascript:void(0);" class="allAgr square mgtNone" role="button" id="agreeAllbtn" title="필수, 선택약관 내용 모두동의 하기">모두동의</a>
			   </div>
            </div>
            <!-- // 모두동의버튼200715 -->
			<h2 class="mgT10"><span>(필수)</span> 고객정보 관리 및 가입설계를 위한 개인(신용)정보 처리 동의</h2>
			<div class="agreeCtr" id="agreeAA">
				<div class="radioBtn allAgree">
					<span><input type="radio" onclick="javascript:fnAgreeAll('1','Y');" value="Y" id="allAgreeBtn1"><label for="allAgreeBtn1">전체동의</label></span>
			 	    <span><input type="radio" onclick="javascript:fnAgreeAll('1','N');" value="N" id="allAgreeBtn1_N"><label for="allAgreeBtn1_N">전체미동의</label></span>
				</div>
				<button class="btnView"><span class="state">약관 닫기</span></button>
			</div>
			
			<ul class="termCont lineB" id="agreeAll1"><div class="mgbSs"><li><a href="javascript:void(0);" onclick="javascript:goMgntAgreeDetail(this);" title="약관보기 새창" id="BFAA00">소비자 권익보호에 관한 사항</a></li></div><li><input type="checkbox" id="BFAA01_input" name="BFAA01"><label for="BFAA01_input"><span class="hide">개인(신용)정보의 수집·이용에 관한 사항</span></label><a href="javascript:void(0);" onclick="javascript:goMgntAgreeDetail(this);" title="약관보기 새창" id="BFAA01">개인(신용)정보의 수집·이용에 관한 사항</a></li><li><input type="checkbox" id="BFAA02_input" name="BFAA02"><label for="BFAA02_input"><span class="hide">개인(신용)정보의 제공에 관한 사항</span></label><a href="javascript:void(0);" onclick="javascript:goMgntAgreeDetail(this);" title="약관보기 새창" id="BFAA02">개인(신용)정보의 제공에 관한 사항</a></li><li><input type="checkbox" id="BFAA03_input" name="BFAA03"><label for="BFAA03_input"><span class="hide">개인(신용)정보의 조회에 관한 사항</span></label><a href="javascript:void(0);" onclick="javascript:goMgntAgreeDetail(this);" title="약관보기 새창" id="BFAA03">개인(신용)정보의 조회에 관한 사항</a></li><li style="display:none"><input type="checkbox" id="BFAA04_input" name="BFAA04"><label for="BFAA04_input"><span class="hide">민감정보 및 고유식별정보의 처리에 관한 사항(질병·상해정보 처리) - 자동차보험은 해당없음</span></label><a href="javascript:void(0);" onclick="javascript:goMgntAgreeDetail(this);" title="약관보기 새창" id="BFAA04">민감정보 및 고유식별정보의 처리에 관한 사항(질병·상해정보 처리) - 자동차보험은 해당없음</a></li><li style="display:none"><input type="checkbox" id="BFAA05_input" name="BFAA05"><label for="BFAA05_input"><span class="hide">민감정보 및 고유식별정보의 처리에 관한 사항 (주민등록번호·외국인등록번호 처리)</span></label><a href="javascript:void(0);" onclick="javascript:goMgntAgreeDetail(this);" title="약관보기 새창" id="BFAA05">민감정보 및 고유식별정보의 처리에 관한 사항 (주민등록번호·외국인등록번호 처리)</a></li></ul>
			
			<h2 style="display: none;"><span>(선택)</span> 상품소개 등을 위한 개인(신용)정보 처리 동의</h2>
			<div class="agreeCtr" id="agreeZZ" style="display: none;">
				<div class="radioBtn allAgree">
				     <span><input type="radio" onclick="javascript:fnAgreeAll('2','Y');" value="Y" name="agreeRdo" id="allAgreeBtn2"><label for="allAgreeBtn2">전체동의</label></span>
			 	     <span><input type="radio" onclick="javascript:fnAgreeAll('2','N');" value="N" name="agreeRdo" id="allAgreeBtn2_N"><label for="allAgreeBtn2_N">전체미동의</label></span>
			    </div>
				<button class="btnView"><span class="state">약관 닫기</span></button>
			</div>
			
			<ul class="termCont lineB" id="agreeAll2" style="display: none;"><div class="mgbSs"><li><a href="javascript:void(0);" onclick="javascript:goMgntAgreeDetail(this);" title="약관보기 새창" id="BFZZ00">소비자 권익보호에 관한 사항</a></li></div><li><input type="checkbox" id="BFZZ01_input" name="BFZZ01"><label for="BFZZ01_input"><span class="hide">개인(신용)정보의 수집·이용에 관한 사항</span></label><a href="javascript:void(0);" onclick="javascript:goMgntAgreeDetail(this);" title="약관보기 새창" id="BFZZ01">개인(신용)정보의 수집·이용에 관한 사항</a></li><li><input type="checkbox" id="BFZZ04_input" name="BFZZ04"><label for="BFZZ04_input"><span class="hide">개인(신용)정보의 제공에 관한 사항</span></label><a href="javascript:void(0);" onclick="javascript:goMgntAgreeDetail(this);" title="약관보기 새창" id="BFZZ04">개인(신용)정보의 제공에 관한 사항</a></li></ul>
			<!-- 삭제 20180419 s
			<div class="termBox" style="display:none">-->
			<div class="termBox" style="display:none">
				<a href="javascript:void(0);" onclick="javascript:openLayer('agreeCustomer');">
					소비자 권익보호에 관한 사항
				</a>
			</div>
			<!-- 삭제 20180419 e -->
			<!-- EDIT 약관동의 -->
			<div class="agreeBox" id="lossSearchUl" style="display: none;">
				<strong>실손담보 중복 사전조회를 진행하시겠습니까?</strong>
				(일부 담보의 경우 비례보상처리가 되므로 타 보험의 가입여부를 확인하는 절차입니다.)
				<p>
					<input type="checkbox" id="lossSearch" name="lossSearch">
					<label for="lossSearch"><span class="hide">약관동의</span></label>
					<span>위 내용에 동의합니다.</span>
				</p>
			</div>
			<!-- //EDIT 약관동의 -->
			
			<!-- //style 체크 콘텐츠 변경 -->
			
			<ul class="listDot">
				<li>관련 법률 및 규정에 따라 본인인증이 필요합니다. 본인인증 후 보험료 계산이 진행됩니다.</li>
			</ul>
		</section>
	</div>
	<div class="btnWrap">
		<span><a href="javascript:void(0);" onclick="javascript:fnCloseAgreeLayer();" role="button">취소</a></span>
		<span><a href="javascript:void(0);" class="on" onclick="javascript:fnConfirmAgree();" role="button">확인</a></span>
	</div>
	<button type="button" class="btnClose" onclick="javascript:fnCloseAgreeLayer();">창닫기</button>
</div>

<div class="popWrap" id="agree_detail" style="display:none;">
	<header>
		<h1 id="detail_text"></h1>
	</header>
	<div class="popContent">
		<section class="agrSection" id="detail_cnts"></section>
		<div class="btnWrap">
			<a href="javascript:void(0);" onclick="fnCloseDetailAgreeLayer('agree_detail');" role="button">확인</a>
		</div>
	</div>
	<input type="hidden" name="agreeDetailId" id="agreeDetailId" value="">
	<button type="button" class="btnClose" onclick="closeLayer('agree_detail');">창닫기</button>
</div>

<div class="popWrap" id="agreeCustomer" style="display:none;">
	<header>
		<h1>소비자 권익보호에 관한 사항</h1>
	</header>

	<div class="popContent">
		<section class="agrSection2">
			<p>본 동의를 거부하시는 경우에는 보험계약 상담 등 정상적인 서비스제공이 불가능하며, 본 동의서에 의한 개인(신용) 정보 조회는 귀하의 신용등급에 영향을 주지 않습니다. 또한, 동의하시더라도 당사 홈페이지 및 고객센터(1577-1001)를 통해 철회하거나 보험계약상담 목적의 연락에 대한 중단을 요청하실 수 있습니다.</p>
		</section>
		<div class="btnWrap"> <a href="javascript:void(0);" onclick="closeLayer('agreeCustomer');" role="button">확인</a> </div>
	</div>
	<button type="button" class="btnClose" onclick="closeLayer('agreeCustomer');">창닫기</button>
</div>

<div class="popWrap" id="agree_detail_BFZZ01" style="display:none;">
	<header>
		<h1 id="BFZZ01_title">개인(신용)정보의 수집·이용에 관한 사항</h1>
	</header>
	<div class="popContent">
		<section class="agrSection" id="detail_cnts_BFZZ01"><!-- 홈페이지 -->
<div id="agreeWeb" style="display:none;">
<h3 class="fz19 fl"><strong>1. 수집·이용에 관한 사항</strong></h3>
<div style="text-align:right"><img class=" ml10"src="https://qadirect.hi.co.kr/images/common/img_agree_qr.gif" alt="qr코드"><img class=" ml10" src="https://qadirect.hi.co.kr/images/common/img_agree_state_3.gif" alt="안심,양호,보통,신중,주의"></div>
<p class="fz15">※ 위 등급은 사생활 침해 위험, 혜택, 명확성 등을 종합적으로 고려하여 동의내용의 평가등급을 제공하는 제도입니다.(자세한 사항 QR코드 참조)</p>
<table class="contentTable mt10">
    <caption>수집·이용 목적, 보유 및 이용기간, 거부 권리 및 불이익에 관한 내용 테이블</caption>
    <colgroup>
        <col width="150px">
        <col width="*">
    </colgroup>
    <tbody>
        <tr>
            <th class="fz19" scope="row">수집·이용 목적</th>
            <td class="tal fz15">- 상품ㆍ서비스 소개 및 판매, 사은ㆍ판촉행사 안내, 시장조사</td>
        </tr>
        <tr>
            <th class="fz19" scope="row">보유 및 이용기간</th>
            <td class="tal"><strong class="fz19">- 보험계약 체결실적이 있는 경우 : 동의일로부터 5년<br>- 보험계약 체결실적이 없는 경우 : 동의일로부터 2년 (비대면채널 3년)</strong></td>
        </tr>
        <tr>
            <th class="fz19" scope="row">거부 권리 및 불이익</th>
            <td class="tal fz15"><strong>귀하는 아래 개인(신용)정보 수집ㆍ이용에 관한 동의를 거부하실 수 있습니다.<br>다만, 동의하지 않으실 경우 상품 ㆍ서비스 소개 등에 대한 혜택을 받지 못할 수 있습니다.</strong></td>
        </tr>
    </tbody>
</table>

<!-- 2021.05 상품소개동의 개편으로 인한 주석처리
<ul class="inputArea mt5 mb10">
    <li class="item">
    <div class="radio mr18 fontLevel1">기간</div>
    <div class="radio mr20"><input type="radio" name="agrmExprCltWeb" value="5" id="agrmExprCltWeb_5" checked="checked" /><label for="agrmExprCltWeb_5">5년</label></div>
    <div class="radio mr20"><input type="radio" name="agrmExprCltWeb" value="4" id="agrmExprCltWeb_4" /><label for="agrmExprCltWeb_4">4년</label></div>
    <div class="radio mr20"><input type="radio" name="agrmExprCltWeb" value="3" id="agrmExprCltWeb_3" /><label for="agrmExprCltWeb_3">3년</label></div>
    </li>
</ul>
-->
    
<p class="fz19 mt15">수집·이용 항목</p>
<table class="contentTable mt10">
    <caption>수집·이용 항목 개인(신용)정보의 일반개인정보, 신용거래정보에 관한 내용 테이블</caption>
    <colgroup>
        <col width="140px">
        <col width="*">
    </colgroup>
    <tbody>
        <tr>
          <th class="fz19" scope="row">개인(신용)정보</th>
          <td class="tal">&nbsp;</td>
        </tr>
        <tr>
          <th scope="row" class="fz15">일반개인정보</th>
          <td class="tal fz15">성명, 주소, 생년월일, 이메일, 유·무선 전화번호, 직업</td>
        </tr>
        <tr>
          <th scope="row" class="fz15">신용거래정보</th>
          <td class="tal fz15">보험계약정보(상품종류, 기간, 보험가입금액 등)</td>
        </tr>
        <tr>
          <th scope="row">&nbsp;</th>
          <td class="tal fz15">위 개인신용정보 <u>수집·이용</u>에 동의하십니까?<img class=" ml10"src="https://qadirect.hi.co.kr/images/common/img_agree_state_4.gif" alt="다소안심">
			<div class="suntaek agreeRadio fr">
			<div class="radio"><input type="radio" name="hDirectAgree1" id="hDirectAgree1_N" class="no" value="N"><label for="hDirectAgree1_N">동의하지 않음</label></div>
			<div class="radio"><input type="radio" name="hDirectAgree1" id="hDirectAgree1_Y" class="yes" value="Y" checked="checked"><label for="hDirectAgree1_Y">동의함</label></div>
			</div>
          </td>
        </tr>
    </tbody>
</table>
<ul class="listStyle star fz15">
   <li>본 동의는 당사와 모집위탁계약을 체결한 업무수탁자(당사 전속 설계사 및 대리점, 비전속의 경우 동 계약을 모집한 대리점)가 수집ㆍ이용하는 것을 포함합니다.</li>
   <li>상기 내용에 동의하시는 경우 당사 임직원 또는 업무수탁자가 상품ㆍ서비스 소개 및 판매 안내연락(TM 등)을 드릴 수 있습니다.</li>
</ul>

<p class="fz19 mt15">광고성 정보의 수신 동의</p>
<table class="contentTable mt10">
    <caption>광고성 정보의 수신 동의에 관한 내용 테이블</caption>
    <colgroup>
        <col width="*">
    </colgroup>
    <tbody>
        <tr>
            <td class="tal fz15">전자적 전송매체를 통한 광고성 정보의 수신을 동의하시겠습니까?
				<div class="suntaek agreeRadio fr">
				<div class="radio"><input type="radio" name="hDirectAgree2" id="hDirectAgree2_N" class="no" value="N"><label for="hDirectAgree2_N">동의하지 않음</label></div>
				<div class="radio"><input type="radio" name="hDirectAgree2" id="hDirectAgree2_Y" class="yes" value="Y" checked="checked"><label for="hDirectAgree1_Y">동의함</label></div>
				</div>
            </td>
        </tr>
        <tr>
		<td class="tal">
			<div class="checkbox"><input type="checkbox" name="agreeTel" id="agreeTel" checked="checked"><label for="agreeTel">전화(ARS)</label></div>
			<div class="checkbox ml20"><input type="checkbox" name="agreeSms" id="agreeSms" checked="checked"><label for="agreeSms">문자</label></div>
			<div class="checkbox ml20"><input type="checkbox" name="agreeEmail" id="agreeEmail" checked="checked"><label for="agreeEmail">이메일</label></div>
			<div class="checkbox ml20"><input type="checkbox" name="agreePost" id="agreePost" checked="checked"><label for="agreePost">DM</label></div>
		</td>
        </tr>
    </tbody>
</table>
</div>
<input type="hidden" name="agreeCntnMgntId" id="agreeCntnMgntId" value="">


<!-- 모바일 -->
<div id="agreeMob" style="">
<h2 class="font18">1. 수집·이용에 관한 사항</h2>
<div style="text-align:right"><img style="height:37px;" src="https://mdirect.hi.co.kr/images/content/img_agree_mo_state_3.png" alt="안심,다소안심,보통,신중,주의"></div>
<p class="fz15">※ 위 등급은 사생활 침해 위험, 혜택, 명확성 등을 종합적으로 고려하여 동의내용의 평가등급을 제공하는 제도입니다.</p>
<table class="tbl04 mgT10">
    <caption>수집·이용 목적, 보유 및 이용기간, 거부 권리 및 불이익에 관한 내용 테이블</caption>
    <colgroup>
        <col width="30%">
        <col width="*">
    </colgroup>
    <tbody>
        <tr>
            <th class="font18" scope="row">수집·이용 목적</th>
            <td class="tal">- 상품ㆍ서비스 소개 및 판매, 사은ㆍ판촉행사 안내, 시장조사</td>
        </tr>
        <tr>
            <th class="font18" scope="row">보유 및 이용기간</th>
            <td class="tal"><strong class="font18">- 보험계약 체결실적이 있는 경우 : 동의일로부터 5년<br>- 보험계약 체결실적이 없는 경우 : 동의일로부터 2년 (비대면채널 3년)</strong></td>
        </tr>
        <tr>
            <th class="font18" scope="row">거부 권리 및 불이익</th>
            <td class="tal"><strong>귀하는 아래 개인(신용)정보 수집ㆍ이용에 관한 동의를 거부하실 수 있습니다.<br>다만, 동의하지 않으실 경우 상품 ㆍ서비스 소개 등에 대한 혜택을 받지 못할 수 있습니다.</strong></td>
        </tr>
    </tbody>
</table>

<!-- 2021.05 상품소개동의 개편으로 인한 주석처리
<div class="radioBtn mgtS mgbM pdtS pdbS" style="font-weight:normal">
	<span style="width:15%;height:24px;line-height:23px;font-size:1.3rem"><strong>기간</strong></span>                          
	<span style="width:25%"><input type="radio" name="agrmExprCltMob" value="5" id="agrmExprCltMob_5" checked="checked" /><label for="agrmExprCltMob_5">5년</label></span>
	<span style="width:25%"><input type="radio" name="agrmExprCltMob" value="4" id="agrmExprCltMob_4" /><label for="agrmExprCltMob_4">4년</label></span>
	<span style="width:25%"><input type="radio" name="agrmExprCltMob" value="3" id="agrmExprCltMob_3" /><label for="agrmExprCltMob_3">3년</label></span>
</div>
-->

<p class="font18 mgT15">수집·이용 항목</p>
<table class="tbl04 mgt10">
    <caption>수집·이용 항목 개인(신용)정보의 일반개인정보, 신용거래정보에 관한 내용 테이블</caption>
    <colgroup>
        <col width="30%">
        <col width="*">
    </colgroup>
    <tbody>
        <tr>
          <th class="font18" scope="row">개인(신용)정보</th>
          <td class="tal">&nbsp;</td>
        </tr>
        <tr>
          <th scope="row">일반개인정보</th>
          <td class="tal">성명, 주소, 생년월일, 이메일, 유·무선 전화번호, 직업</td>
        </tr>
        <tr>
          <th scope="row">신용거래정보</th>
          <td class="tal">보험계약정보(상품종류, 기간, 보험가입금액 등)</td>
        </tr>
        <tr>
          <th scope="row">&nbsp;</th>
          <td class="tal">위 개인신용정보 <u>수집·이용</u>에 동의하십니까?<img style="height:20px; margin-left:2px;" src="https://mdirect.hi.co.kr/images/content/img_agree_mo_state_4.png" alt="다소안심">
          <div class="suntaek radioBtn boderNone pdNone">
          <span><input type="radio" id="mDirectAgree4_1_N" name="mDirectAgree4_1" value="N"><label for="mDirectAgree4_1_N">동의하지 않음</label></span>
          <span><input type="radio" id="mDirectAgree4_1_Y" name="mDirectAgree4_1" value="Y" checked="checked"><label for="mDirectAgree4_1_Y">동의함</label></span>
          </div>
          </td>
        </tr>
    </tbody>
</table>
<ul class="listEtc">
   <li>본 동의는 당사와 모집위탁계약을 체결한 업무수탁자(당사 전속 설계사 및 대리점, 비전속의 경우 동 계약을 모집한 대리점)가 수집ㆍ이용하는 것을 포함합니다.</li>
   <li>상기 내용에 동의하시는 경우 당사 임직원 또는 업무수탁자가 상품ㆍ서비스 소개 및 판매 안내연락(TM 등)을 드릴 수 있습니다.</li>
</ul>

<p class="font18 mgT15">광고성 정보의 수신 동의</p>
<table class="tbl04 mgt10">
    <caption>광고성 정보의 수신 동의에 관한 내용 테이블</caption>
    <colgroup>
        <col width="*">
    </colgroup>
    <tbody>
        <tr>
			<td class="tal">전자적 전송매체를 통한 광고성 정보의 수신을 동의하시겠습니까?
			<div class="suntaek radioBtn boderNone pdNone">
			<span><input type="radio" id="mDirectAgree4_2_N" name="mDirectAgree4_2_2" value="N"><label for="mDirectAgree4_2_N">동의하지 않음</label></span>
          	<span><input type="radio" id="mDirectAgree4_2_Y" name="mDirectAgree4_2_2" value="Y" checked="checked"><label for="mDirectAgree4_2_Y">동의함</label></span>
			</div>
			</td>
        </tr>
    </tbody>
</table>
<div class="mgT15 agreeCtr"><a class="allAgr" title="연락방식 전체선택하기" role="button" href="#none">전체선택하기</a><button class="btnView" type="submit"><span class="state">연락 방식 숨기기</span></button></div>
<ul class="termCont">
	<li><input id="ck0102" type="checkbox" value="on"><label for="ck0102"><span class="hide">전화(ARS) 선택</span></label> <span>전화(ARS)</span></li>
	<li><input id="ck0202" type="checkbox" value="on"><label for="ck0202"><span class="hide">문자 선택</span></label> <span>문자</span></li>
	<li><input id="ck0302" type="checkbox" value="on"><label for="ck0302"><span class="hide">이메일 선택</span></label> <span>이메일</span></li>
	<li><input id="ck0402" type="checkbox" value="on"><label for="ck0402"><span class="hide">DM 선택</span></label> <span>DM</span></li>
</ul>
</div></section>
		<div class="btnWrap">
			<a href="javascript:void(0);" onclick="closeLayer('agree_detail_BFZZ01');" role="button">확인</a>
		</div>
	</div>
	<button type="button" class="btnClose" onclick="closeLayer('agree_detail_BFZZ01');">창닫기</button>
</div>
	











<script type="text/javascript">

// 브라우저 정보를 가져오기 위한 변수
var browserInfo = {
		alias : "",
		name : "",
		vsn : "-1",
		cd : "",
		x64 : false
};

// OS 정보를 가져오기 위한 변수
var osInfo = {
		cd : "",
		vsn : "",
		pad : ""
};

/**
 * @alias getOsInfo : 브라우저 종류 및 버전 조회
 */
function fnSettingChInfo() {
	try {
		var pf = navigator.platform.toLowerCase();
		var ua = navigator.userAgent.toLowerCase();
		
		var index = -1;
		var tmp = "";
		
		if (navigator.appName == "Microsoft Internet Explorer") {
			browserInfo.alias = "MSIE";
			browserInfo.name = "IE";
			index = navigator.userAgent.indexOf(browserInfo.alias)+browserInfo.alias.length+1;
			tmp = navigator.userAgent.substring(index);
			index = tmp.indexOf(";");
			if (index < 0) {
				index = tmp.indexOf(")");
			}
			browserInfo.vsn = tmp.substring(0, index);
			browserInfo.cd = "10121001"; // IE
		} else if (navigator.userAgent.match(/Navigator/i)) { // Firefox
			browserInfo.alias = "Navigator";
			browserInfo.name = "Firefox";
			index = navigator.userAgent.lastIndexOf(browserInfo.alias) + browserInfo.alias.length + 1;
			tmp = navigator.userAgent.substring(index);
			browserInfo.vsn = tmp;
			index = tmp.indexOf(" ");
			if (index > 0) {
				browserInfo.vsn = tmp.substring(0, index);
			}
			browserInfo.cd = "10121005"; // 파이어폭스
		} else if (navigator.userAgent.match(/OPR/i)) {
			browserInfo.alias = navigator.appName;
			browserInfo.name = "Opera";
			index = navigator.userAgent.lastIndexOf("OPR") + "OPR".length + 1;
			tmp = navigator.userAgent.substring(index);
			browserInfo.vsn = tmp;
			index = tmp.indexOf(" ");
			if (index > 0) {
				browserInfo.vsn = tmp.substring(0, index);
			}
			browserInfo.cd = "10121004"; // 오페라
		} else if (navigator.userAgent.match(/Firefox/i)) {
			browserInfo.alias = "Firefox";
			browserInfo.name = "Firefox";
			index = navigator.userAgent.lastIndexOf(browserInfo.alias) + browserInfo.alias.length + 1;
			tmp = navigator.userAgent.substring(index);
			browserInfo.vsn = tmp;
			index = tmp.indexOf(" ");
			if (index > 0) {
				browserInfo.vsn = tmp.substring(0, index);
			}
			browserInfo.cd = "10121005"; // 파이어폭스
		} else if (navigator.userAgent.match(/Chrome/i)) { // Chrome
			browserInfo.alias = "Chrome";
			browserInfo.name = "Chrome";
			if (navigator.userAgent.match(/ChromePlus/i)) {
				browserInfo.alias = "ChromePlus";
				browserInfo.name = "Chrome";
			}
			index = navigator.userAgent.lastIndexOf(browserInfo.alias)+browserInfo.alias.length+1;
			tmp = navigator.userAgent.substring(index);
			browserInfo.vsn = tmp;
			index = tmp.indexOf(" ");
			if (index > 0) {
				browserInfo.vsn = tmp.substring(0, index);
			}
			browserInfo.cd = "10121002"; // 크롬
		} else if (navigator.userAgent.match(/Safari/i)) { // Safari
			browserInfo.alias = "Safari";
			browserInfo.name = "Safari";
			// index = navigator.userAgent.lastIndexOf(browserInfo.alias) + browserInfo.alias.length + 1;
			index = navigator.userAgent.lastIndexOf("vsn") + "vsn".length + 1;
			tmp = navigator.userAgent.substring(index);
			browserInfo.vsn = tmp;
			index = tmp.indexOf(" ");
			if (index > 0) {
				browserInfo.vsn = tmp.substring(0, index);
			}
			browserInfo.cd = "10121003"; //사파리
		} else if (navigator.userAgent.match(/Opera/i)) {
			browserInfo.alias = navigator.appName;
			browserInfo.name = "Opera";
			index = navigator.userAgent.lastIndexOf("vsn") + "vsn".length + 1;
			tmp = navigator.userAgent.substring(index);
			browserInfo.vsn = tmp;
			index = tmp.indexOf(" ");
			if (index > 0) {
				browserInfo.vsn = tmp.substring(0, index);
			}
			browserInfo.cd = "10121004"; //오페라
		} else if (navigator.userAgent.match(/Trident/i)) {
			browserInfo.alias = "MSIE";
			browserInfo.name = "IE";
			index = navigator.userAgent.lastIndexOf("rv:") + "rv:".length;
			tmp = navigator.userAgent.substring(index);
			index = tmp.indexOf(")");
			if (index < 0) {
				index = tmp.indexOf(" ");
			}
			browserInfo.vsn = tmp.substring(0, index);
			browserInfo.cd = "10121001"; //IE
		} else {
			browserInfo.name = navigator.appName;
			browserInfo.vsn = "기타브라우저";
			browserInfo.cd = "10121006"; //Etc
		}
		
		if (browserInfo.alias == "MSIE") {
			if (navigator.userAgent.indexOf("Trident/4.0") != -1) {
				browserInfo.vsn = "8";// IE8
			} else if (navigator.userAgent.indexOf("Trident/5.0") != -1) {
				browserInfo.vsn = "9";// IE9
			} else if (navigator.userAgent.indexOf("Trident/6.0") != -1) {
				browserInfo.vsn = "10";// IE10
			} else if (navigator.userAgent.indexOf("Trident/7.0") != -1) {
				browserInfo.vsn = "11";// IE11
			} else {
				browserInfo.vsn = browserInfo.vsn.charAt(0); // IE7 이하 or IE12 이상
			}
		}
		
		// alert("browserInfo.name=>"+ browserInfo.name + " / " + "browserInfo.vsn=>" + browserInfo.vsn);
		
		// x64
		if (ua.indexOf("win64") > -1 || pf.indexOf("mac") > -1) {
			browserInfo.vsn = browserInfo.vsn + " x64";
		}
	} catch(e) {
		// alert(":"+e.description+" : "+e);
	}
	
	return browserInfo;
}

/**
 * @alias getOsInfo : 운영체계(OS) 종류 및 버전 조회
 */
function getOsInfo() {
	try {
		var pf = navigator.platform.toLowerCase();
		var ua = navigator.userAgent.toLowerCase();
		
		//alert("pf=>" + pf);
		//alert("ua=>" + ua);
		
		// OS name
		if (pf.indexOf("win32") > -1 || pf.indexOf("win64") > -1) {
			osInfo.window = true;
			osInfo.cd = "10111001"; //윈도우
			if (ua.indexOf("nt 6.3") > -1) {
				osInfo.vsn = "8.1";
			} else if (ua.indexOf("nt 6.2") > -1) {
				osInfo.vsn = "8";
			} else if (ua.indexOf("nt 6.1") > -1) {
				osInfo.vsn = "7";
			} else if (ua.indexOf("nt 6.0") > -1) {
				osInfo.vsn = "Vista/Server 2008";
			} else if (ua.indexOf("nt 5.2") > -1) {
				osInfo.vsn = "Server 2003";
			} else if (ua.indexOf("nt 5.1") > -1) {
				osInfo.vsn = "XP";
			} else if (ua.indexOf("nt 5.0") > -1) {
				osInfo.vsn = "2000";
			} else if (ua.indexOf("nt") > -1) {
				osInfo.vsn = "NT";
			} else if (ua.indexOf("9x 4.90") > -1) {
				osInfo.vsn = "Me";
			} else if (ua.indexOf("98") > -1) {
				osInfo.vsn = "98";
			} else if (ua.indexOf("95") > -1) {
				osInfo.vsn = "95";
			} else if (ua.indexOf("win16") > -1) {
				osInfo.vsn = "3.x";
			} else if (ua.indexOf("windows") > -1) {
				osInfo.vsn = "계열";
			} else {
				osInfo.vsn = "계열";
			}
		} else if (pf.indexOf("linux armv") > -1) {
			osInfo.cd = "10111004"; // 안드로이드
			if (ua.indexOf("shw-m") > -1) {
				osInfo.pad ="10111004"; // 안드로이드
			}
		} else if (pf.indexOf("linux") > -1) {
			osInfo.linux = true;
			osInfo.cd = "10111002"; //리눅스
			if (ua.indexOf("fedora") > -1) {
				osInfo.vsn = "페도라";
			} else if (ua.indexOf("ubuntu") > -1) {
				osInfo.vsn = "리눅스 우분투";
			} else {
				osInfo.vsn = "계열";
			}
		} else if (pf.indexOf("mac") > -1) {
			osInfo.vsn = osInfo.vsn + " x64";
			osInfo.cd = "10111003"; // MAC OS
			if (ua.indexOf("os x 10_9") > -1) {
				osInfo.vsn = "매버릭스";
			} else if (ua.indexOf("os x 10_8") > -1) {
				osInfo.vsn = "마운틴 라이언";
			} else if (ua.indexOf("os x 10_7") > -1) {
				osInfo.vsn = "라이언";
			} else if (ua.indexOf("os x 10_6") > -1) {
				osInfo.vsn = "스노우 레퍼드";
			} else {
				osInfo.vsn = "계열";
			}
		} else if (pf.indexOf("ipad") > -1 || pf.indexOf("iphone") > -1 || pf.indexOf("ipod") > -1 || pf.indexOf("ios") > -1) {
			osInfo.cd = "10111005"; // IOS
			if (pf.indexOf("ipad") > -1) {
				osInfo.pad ="10111005"; //ipad
			}
			
			if ( pf.indexOf("iphone") > -1 ){
				index = ua.lastIndexOf('iphone os') + ('iphone os').length + 1  ;
				tmp = navigator.userAgent.substring(index, index+6);
				tmp = replaceAll(tmp, ";", "");
				tmp = replaceAll(tmp, " ", "");
				osInfo.vsn = tmp;
			}
		}
		
		if (ua.indexOf("windows phone") > -1 || ua.indexOf("windows ce") > -1) {
			osInfo.cd = "10111006"; // 윈도우 모바일
		} else if (ua.indexOf("symbian") > -1) {
			osInfo.cd = "10111008"; // 심비안
		} else if (ua.indexOf("blackberry") > -1) {
			osInfo.cd = "10111007"; // 블랙베리
		} else if (ua.indexOf("android") > -1) {
			osInfo.cd  = "10111004"; // 안드로이드
			osInfo.alias = "Android";
			index = navigator.userAgent.lastIndexOf('Android') + osInfo.alias.length + 1  ;
			tmp = navigator.userAgent.substring(index, index+5);  // 안드로이드버전이 8.0.0 이런식으로 들어와서 + 5를 함
			
			tmp = replaceAll(tmp, ";", "");
			tmp = replaceAll(tmp, " ", "");
			
			osInfo.vsn = tmp;
		}
		
		// x64
		if (ua.indexOf("wow64") > -1 || ua.indexOf("win64") > -1) {
			osInfo.vsn = osInfo.vsn + " x64";
		}
		if (osInfo.group == "linux") {
			if (pf.indexOf("x86_64") > -1) {
				osInfo.vsn = osInfo.vsn + " x64";
			}
			if (ua.indexOf("x86_64") > -1) {
				osInfo.vsn = osInfo.vsn + " x64";
			}
		}
		// alert("osInfo.name=>" + osInfo.name + " / " + "osInfo.mobile=>" + osInfo.mobile + " / " + "osInfo.x64=>" + osInfo.x64 ;
	} catch(e) {
		
	}
	
	return osInfo;
}

</script>









<script type="text/javascript">
	//console.log('[0091]----------');
	console.log("[COCO0091] media_no", "");
	console.log("[COCO0091] pinAuthView", "Y");

	// 전역변수 선언
	var g_appYn = "N";
	var g_os = "";
	var g_osVer = "";
	var g_etcInfo = "";
	var g_interval; // 공인인증서 본인인증 체크(일반 브라우저 사용시에만 사용)시 사용
	var g_auto_cert_cnt = 0; // 공인인증서 비밀번호 인증 결과 조회 횟수
	var fidoInfoVO = {};
	var chkInfoVO = {};
	var mAuthTechCd;	// 기술인증코드
	var authTech;
	var appInfo;
	
	var ag = navigator.userAgent;
	var kakaoTalkWebYn = "N";
	
	var hpOnlyCk = "N";	//핸드폰 인증만 보여줄지 여부
	
	if ( ag.indexOf("KAKAOTALK") > -1 ) {
		kakaoTalkWebYn = "Y";
	}
	//console.log("kakaoTalkWebYn===>"+kakaoTalkWebYn);

	$(document).ready(function () {
		authTech = sessionStorage.getItem("authTechList");
		appInfo = JSON.parse(sessionStorage.getItem('appInfo'));
		
		// window.addEventListener 시작 ( PIN인증관련 소스 - COPN0010G.jsp , COPN0020G.jsp와 통신하기 위해 사용 )
		window.addEventListener('message',  function(e) {
 		   
			if  ( e.data.func == "alert"){
 		   		alert(e.data.msg, null , 'N' );
 		   } else if  ( e.data.func == "close"){
 		   		closeLayer(e.data.msg);
 		   } else if  ( e.data.func == "suc"){
 			   callBackPinCert(e.data.msg);
 		   } else if  ( e.data.func == "chgPop"){
 			   // gb : 01.신규등록 02.초기화
 			   var gb = e.data.msg;
 			   lpPinCert(gb);
 		   } else if  ( e.data.func == "pinSes"){ //세션 종료
 			   alert(e.data.msg, "location.href = '/service.do?m=7c6641ec8a'");  // b5eef5f9a4.모바일 메인 화면 서비스ID
 			   //fnSelPinInfo(certRegNo1,certRegNo2);
 		   } else if  ( e.data.func == "lockPinCert"){  // 5회이상 오류로 잠금 시 
 			   if (  e.data.msg == "01" ){
 				   lpOpener("layerPinLock"); 
 				   fnSelPinInfo(certRegNo1,certRegNo2);
 			   } else {
 				  confirm("비밀번호 5회 이상 오류로 현재  PIN인증을 사용할 수 없습니다.<BR/>먼저 PIN번호 재설정을 수행해주세요.", "lpPinCert('02')");
 			   }
 			   $("#pinViewGb"). val("02");
 			   fnSelPinInfo(certRegNo1,certRegNo2);
 			   
 		   } else if  ( e.data.func == "viewPin"){ // PIN 인증 화면 변경 
 			   
 			  $("#pinViewGb").val( e.data.msg );
 			  fnSelPinInfo(certRegNo1,certRegNo2);
 		   } else if  ( e.data.func == "regEvnt"){ // PIN활성화를 인한 타 인증 후 바로 PIN등록 처리 
 			  alert(e.data.msg , "alertCallback()");	
 		   } else if  ( e.data.func == "regEvntCls"){ // PIN활성화를 인한 타 인증 후 바로 PIN등록 처리 
 			  alertCallback();	
 		   }
			
 		   
 	   });  
		// window.addEventListener끝
 	   
		//카카오톡이면서 간편갱신으로 접근시에도 처리(간편갱신은 강제로 medai_no가 A364로 변환됨) - 2020.11.09 심흥무
		if(utm_source == 'kakaotalk'){
			fnOnlyHpCert();
		}
		
		// 이륜차 배달플랫폼
		if("" == "B648"){
			fnOnlyHpCert();
		}

		//ars 상담신청
		if("b5eef5f9a4" == "495b495080"){
			$("#certificateLayerTab2").hide();
			$("#certificateLayerTab5").show();	//카카오
			
		}
		
		if ("D" != "D") {
			$("#certiPassSpan").hide();
		}
		
		getAppInfo();
		getOsInfo();         // 운영체제
		fnSettingChInfo();   // 브라우저정보
		
		// 앱여부 확인
		if ( window.HiDirect != undefined ){
			g_appYn = "Y";
		}

		g_os     = osInfo.cd;
		g_osVer  = osInfo.vsn;
		g_etcInfo= "[browser]" + browserInfo.name + " " + browserInfo.vsn;
		
		//전체동의
		$("#certificateLayer .commonCheck").click(function(e){
			if($(this).hasClass('done') == true) {
				
				$(this).removeClass('done');
				$(this).text("전체동의");
				
				$("section:visible").find("#termContCert > li").each(function() {
					$(this).children("input").prop("checked",false);
				});
				$("section:visible").find("#termContCert").attr('aria-hidden',false).show();
				
			} else {
				$(this).addClass('done');
				$(this).text("동의완료");
				
				$("section:visible").find("#termContCert > li").each(function() {
					$(this).children("input").prop("checked",true);
				});
				$("section:visible").find("#termContCert").attr('aria-hidden',true).hide();
			}
		});
		
		$(".rqstnum").click(function(e){
			
			if(!fnCertMpAgreeCheck()){
				return;
			}
			
			if(!fnCertMpCheck()){
				return; //통신사 체크
			}
			
			//console.log('[COCO0091G, .rqstnum] 1.certMPSendCnt: '+certMPSendCnt+', 2.mpSendClick: '+mpSendClick+', 3.hasClass: '+$(this).hasClass('bgOrange'));
			
			if($(this).hasClass('bgOrange') == true && parseInt(mpSendClick) == 0) {
				$(this).addClass('bgGrey');
				$(this).removeClass('bgOrange');
				$(this).text("인증번호받기")
			} else if($(this).hasClass('org') == true && parseInt(mpSendClick) == 0) {
				$(this).addClass('bgGrey');
				$(this).removeClass('org');
				$(this).text("인증번호받기")
			} else {
				$(this).removeClass('bgGrey');
				$(this).removeClass('bgOrange');
				$(this).addClass('org');
				$(this).text("재전송")
			}
			
			//인증번호 발송요청
			fnCertiMPSend();
			
		});
		
		$("#termContCert li a, a.btnHelp").click(function() {
			$(this).addClass('backFocus'); // 접근성 /2005
		});
		
		irisCheck();
	});  // ready 끝
	
	
	/**
	 * @alias 다른 인증수단을 제외한 휴대폰인증만 보여주기 위한 세팅 2022.02
	 */
	function fnOnlyHpCert(){
		$("#selChoisDiv").hide();
		$("#certSubTitle").removeClass("topTxt01");
		$("#certSubTitle").addClass("topTxt");
		
		$("#certSubTitle").hide();
		$("#onlyHpCertTitle").show();
		hpOnlyCk = "Y";
	}
	
	/********************************************************************************
	 * lpPinCert : PIN인증 재설정 레이어 오픈
	 ********************************************************************************/
	function lpPinCert(gb){
		
		document.pinForm.target = "ifmPinCertChg";  // PIN번호 재설정용 iframe
        $("#pinPopGb").val(gb); // gb 01.등록 02. 재설정 , 10.PIN인증 활성화를 위한 타인증(휴대폰.공동 등)후 바로 등록
		
        //* 등록/재설정 팝업 오픈 ( 인증 → 등록/재설정 순으로 진행 ) */
        document.pinForm.action =  "/service.do?m=249d236bbd";
        document.pinForm.acceptCharset = "utf-8";
        if (pinForm.canHaveHTML) { // detect IE
           document.charset = pinForm.acceptCharset;
        }
        document.pinForm.submit();
        
        //* 재설정 팝업 오픈 */
        lpOpener("pinCertLayer");
	}
	
	
	$(document).on("click","#tabChoisDiv > a",function() {
		
		//* 인증 설명 부분 하이드 처리 */
		$('#cont1').hide(); // 휴대폰인증 내용
		$('#cont2').hide(); // 카카오페이인증 내용
		$('#cont6').hide(); // PIN인증 내용
		
		if ( $("#certLayerBtn").hasClass("eventNone") ) {
			$("#certLayerBtn").removeClass("eventNone");
		}
		
		if ($(this).attr("id") == "certificateLayerTab1") {
			$("#certificateLayerTab1").addClass("on").siblings("a").removeClass("on");
			
			$('#cont1').show(); // 휴대폰인증 내용
			$('#cont2').hide(); // 카카오페이인증 내용	
			$('span > #certBtn').text('확인');
		} else if ($(this).attr("id") == "certificateLayerTab2") {
			$("#certificateLayerTab2").addClass("on").siblings("a").removeClass("on");
			/**
			 * @alias 공인인증서 본인인증
			 */
			if (window.HiDirect != undefined) {
				HiJS.svr.doRequestAjax('DHCO0099M21S', {

					loadingbar : false,
					callback : {
						success:function(responseData) {
							var serverCertPem = responseData.data.pem;
							window.HiDirect.NA_CertifyWithVID(serverCertPem, "JS_ReceivedCertifyData");
						}
					}
				});
			} else {
				// 2018.11.07. 김기정 브라우저에서 본인인증 앱 호출 또는 앱설치
				//lpOpener("appInfoLayer");
				
				var frm = document.certificateMPFrm;
				if (osInfo.cd == "10111004") { // Android
					// 타임스탬프 + 난수4자로(중복방지를 위한) 본인인증 요청 cert_id 값을 생성 36진수로 변환
					var timestemp = (new Date().getTime()).toString(36);
					var random36 = parseInt( randomNum(4) ).toString(36);
					var cert_id = timestemp + random36; // 36진수 timestemp와 4자리 난수로 cert_id 생성
					// intent로 앱 실행(설치 안되었을 시 마켓으로 이동) 시 공인인증서 본인인증 할 수 있도록 설정값 설정
					intent = "Intent://main";
					intent += "?is_certi=true";
					intent += "&cert_id=" + cert_id;
					intent += "#Intent;scheme=hidirect;action=android.intent.action.VIEW;category=android.intent.category.BROWSABLE;package=kr.co.direct.hi.hyundai.android;end";
					$(location).attr('href', intent); //앱이 설치 되어있을 시 앱이 실행되고(공인인증서 본인인증) 설치가 되어있지 않을 시 플레이스토어 연결
					
					clearInterval(g_interval); // 실행중이던 기존 interval 중지
					g_auto_cert_cnt = 0;
					// 1초 간격으로 인터벌 실행(3회)
					setTimeout(function() { // 특정기기에서 최초 앱 실행 시 getHiddenState()가 늦는 경우가 발생해 2초 지연 실행 
						g_interval = setInterval(function(){
							// 인터벌로 결과 조회는 3회만 하도록 설정
							if( !getHiddenState() && g_auto_cert_cnt < 3 ){				
								g_auto_cert_cnt ++;
								// 조회 후 본인인증
								searchCertByCertId(cert_id);
							} else if( !getHiddenState() && g_auto_cert_cnt >=3 ){
								alert("공동인증서 버튼을 눌러 다시 시도해주세요");
								clearInterval(g_interval); //인터벌 종료
							}
						}, 1000);
					}, 2000);
					
					
				}else{
					lpOpener("appInfoLayer");
				}
			}
		} else if ($(this).attr("id") == "certificateLayerTab3") {
			
			if ( false ) {
				alert('○ 금융결제원 바이오인증 장비 교체에 따른<br/>서비스 일시 중단 안내<br/>- 2019.11.09(토) 01:00 ~ 02:00 (1시간 업무중단)');
				$("#certificateLayerTab1").click(); 
				return; 
			}
			
			//앱버전 확인
			if (appInfo != undefined && appInfo.osType != undefined && appInfo.osType == 'AOS') {
				var appVer = appInfo.appVersion.toString();
				
				if(appVer >= "1.0.9"){
					console.log("독자인증이용가능");
				}else{
					console.log("독자인증이용불가");
					_DI_APP_INSTALL_URL = 'market://details?id=kr.co.direct.hi.hyundai.android';
					confirm("현재 고객님의 앱 버전은 " + appVer + "입니다.<br />1.0.9버전으로 업데이트가 필요합니다. <br /> 앱스토어로 이동하시겠습니까?","fnGoAppInstall('"+_DI_APP_INSTALL_URL+"')");
					return ;
				}
			}
					
		
			/**
			 * @alias 지문인증 본인인증
			 */
			if (window.HiDirect != undefined) {
				mAuthTechCd = "100";// 지문인증
				fnCheckBioDevice("fnGoBioCertProc");	// 완료 후 지문인증 프로세스
			} else {
				lpOpener("appInfoLayer");
				$(this).addClass('backFocus'); /* 접근성 /2005 */
			}
		} else if ($(this).attr("id") == "certificateLayerTab4") { // 홍채인증 본인인증
			//popuptest();
			//앱버전 확인
			if (appInfo != undefined && appInfo.osType != undefined && appInfo.osType == 'AOS') {
				var appVer = appInfo.appVersion.toString();
				
				if(appVer >= "1.0.9"){
					console.log("독자인증이용가능");
				}else{
					console.log("독자인증이용불가");
					_DI_APP_INSTALL_URL = 'market://details?id=kr.co.direct.hi.hyundai.android';
					confirm("현재 고객님의 앱 버전은 " + appVer + "입니다.<br />업데이트가 필요합니다. <br /> 앱스토어로 이동하시겠습니까?","fnGoAppInstall('"+_DI_APP_INSTALL_URL+"')");
					return ;
				}
				
			}
		
			/**
			 * @alias 홍채인증 본인인증
			 */
			if (window.HiDirect != undefined) {
				fidoInfoVO.authTechCd = "119"; // 홍채인증
				mAuthTechCd = "119"; // 홍채인증
				fnCheckBioDevice("fnBio20CrtProc");
			} else {
				lpOpener("appInfoLayer");
			}
			
		} else if ($(this).attr("id") == "certificateLayerTab5") { // 카카오페이 본인인증
			$("#certificateLayerTab5").addClass("on").siblings("a").removeClass("on");
		
			$('#cont1').hide(); // 휴대폰인증 내용
			$('#cont2').show(); // 카카오페이인증 내용
			$('span > #certBtn').text('인증하기');
		} else if ($(this).attr("id") == "certificateLayerTab6") {	//PIN인증
			
			//* PIN인증 상세내용을 보여줌 */
			$('#cont1').hide(); // 휴대폰인증 내용
			$('#cont2').hide(); // 카카오페이인증 내용
			$('#cont6').show(); // 휴대폰인증 내용
			
			//* PIN 00.조회 , 01.등록 02. 재설정  // eventNone : 다음버튼 비활성화 및 이벤트안 먹게 세팅됨  */
			if ( $("#pinViewGb").val() == "01" ||  $("#pinViewGb").val() == "02" ) { 
				if ( !$("#certLayerBtn").hasClass("eventNone") ) {
					$("#certLayerBtn").addClass("eventNone");
				}
				$('span > #certBtn').text('확인');
			} else {
				if ( $("#certLayerBtn").hasClass("eventNone") ) {
					$("#certLayerBtn").removeClass("eventNone");
				}
				$('span > #certBtn').text('인증하기');
			}
		}
	});
	
	
	
	// 지문인증 처리
	function fnGoBioCertProc(check,decId,svcCd,osType) {
		if (check == "Y") {
			// 지문인증 처리
			//서버호출... -> 가입여부판단 -> 미가입시 가입의사 확인, -> 서버에서 기가입판단시 인증I/F호출 -> 단말기 함수호출 -> 정상인증처리
			
			//인증객체 초기화
			fidoInfoVO = {};
			
			fidoInfoVO.deviceId = decId;
			fidoInfoVO.svcCode = svcCd;
			fidoInfoVO.osType = osType;
			
			fidoInfoVO.regNo = certRegNo1 + "" + certRegNo2;
			fidoInfoVO.koName = certPtyNm;
			fidoInfoVO.menuCode = certMenuCd;
			fidoInfoVO.certMenuId = certMenuId; 
			fidoInfoVO.authTechCd = mAuthTechCd;
			
			/* 가입여부 판단 및 가입처리-인증처리 호출 */
			var interfaceStr = ""; 
			if ((appInfo.osType =="AOS" && appInfo.appVersion >= "9.9.9") || (appInfo.osType =="IOS" && appInfo.appVersion >= "9.9.9")) {
				interfaceStr = "DHCO0099M46S";
			}else{
				interfaceStr = "DHCO0099M22S";
			}
			$.blockUI();
			HiJS.svr.doRequestAjax(interfaceStr, {
				data : fidoInfoVO,
				callback : {
					success : function(responseObj) {
						$.unblockUI();
						//console.log("가입여부판단 " + interfaceStr ,responseObj);
						
						if(responseObj.data.errCode == "9999"){
							alert(responseObj.data.errMessage);
							return;
						}else if(responseObj.data.errCode == "9998"){
							// alert(responseObj.data.errMessage);
							// 다이렉트 지문인증 등록 조회
							
							//홍채 인증 가능 단말 확인
							if( (appInfo.osType =="AOS" && appInfo.appVersion >= "9.9.9") && authTech != "" && authTech != null && authTech != undefined && authTech.indexOf("119") !== -1 ){
								// 홍채인증 등록되어 있는지 조회
								var srcBioInfoVO = {};
								
								srcBioInfoVO.deviceId = decId;
								srcBioInfoVO.svcCode = svcCd;
								srcBioInfoVO.osType = osType;
								
								srcBioInfoVO.regNo = certRegNo1 + "" + certRegNo2;
								srcBioInfoVO.koName = certPtyNm;
								srcBioInfoVO.menuCode = certMenuCd;
								srcBioInfoVO.certMenuId = certMenuId; 
								srcBioInfoVO.authTechCd = "119";
								HiJS.svr.doRequestAjax("DHCO0099M46S", {
									data : srcBioInfoVO,
									callback : {
										success : function(srcResObj) {
											//console.log("홍채인증 등록 검색결과 ",srcResObj);
											if( srcResObj.data.ptyId != null && srcResObj.data.ptyId != undefined && srcResObj.data.ptyId != "" ){
												confirm("고객님께서는 홍채인증에 가입하신 <br /> 내역이 있습니다. 홍채인증으로 <br /> 본인인증을 진행하시겠습니까?", "javascript:doIrisAuth();","javascript:doBioReg();")	
											}else{
												doBioReg();
											}
										}
									}
								});
							}else{
								confirm(responseObj.data.errMessage + "\n 지문인증 서비스 가입이 필요합니다. 가입하시겠습니까?","location.href = '/service.do?m=b0b1129284'");
							}
							return;
						}
						
						fidoInfoVO.ptyId = responseObj.data.ptyId;
						
						if(fidoInfoVO.regNo != responseObj.data.regNo || fidoInfoVO.koName != responseObj.data.koName){
							alert("인증처리에 실패하였습니다.");
							return;
						}
						
						if((certRegNo1 +""+ certRegNo2) != responseObj.data.regNo || certPtyNm != responseObj.data.koName){
							alert("인증처리에 실패하였습니다.");
							return;
						}
						
						if (responseObj.data.ptyId != null && responseObj.data.ptyId != undefined && responseObj.data.ptyId != "") {
							fnGoBioCertProc1();
							return;
						}else{
							//홍채 인증 가능 단말 확인
							if( (appInfo.osType =="AOS" && appInfo.appVersion >= "9.9.9") && authTech != "" && authTech != null && authTech != undefined && authTech.indexOf("119") !== -1 ){
								// 홍채인증 등록되어 있는지 조회
								var srcBioInfoVO = {};
								
								srcBioInfoVO.deviceId = decId;
								srcBioInfoVO.svcCode = svcCd;
								srcBioInfoVO.osType = osType;
								
								srcBioInfoVO.regNo = certRegNo1 + "" + certRegNo2;
								srcBioInfoVO.koName = certPtyNm;
								srcBioInfoVO.menuCode = certMenuCd;
								srcBioInfoVO.certMenuId = certMenuId; 
								srcBioInfoVO.authTechCd = "119";
								HiJS.svr.doRequestAjax("DHCO0099M46S", {
									data : srcBioInfoVO,
									callback : {
										success : function(srcResObj) {
											//console.log("홍채인증 등록 검색결과 ",srcResObj);
											if( srcResObj.data.ptyId != null && srcResObj.data.ptyId != undefined && srcResObj.data.ptyId != "" ){
												confirm("고객님께서는 홍채인증에 가입하신 <br /> 내역이 있습니다. 홍채인증으로 <br /> 본인인증을 진행하시겠습니까?", "javascript:doIrisAuth();","javascript:doBioReg();")	
											}else{
												doBioReg();
											}
										}
									}
								});
							}else{
								confirm("지문인증 서비스 가입이 필요합니다. 가입하시겠습니까?","location.href = '/service.do?m=b0b1129284'");	
							}
							return;
						}
					},
					failure : function(responseObj) {
						$.unblockUI();
						alert("인증처리중 오류가 발생했습니다.");
						return;
					}
				}
			});
		} else {
			// 문구 확인 필요
			alert("지원 가능 단말이 아닙니다.");
		}
	}
	
	function fnGoBioCertProc1() {
		// 바이오인증 DB 홈페이지 통합으로 서비스코드 002에서 001로 변경
		/* (안드로이드 이고 9.9.9 이상)이 거나 (iOS 이고 9.9.9이상일 경우) svcCode 001 로 설정 이외의 경우 002로 설정 */
		var appInfo = JSON.parse(sessionStorage.getItem('appInfo'));
		if ((appInfo.osType =="AOS" && appInfo.appVersion >= "9.9.9") 	|| (appInfo.osType =="IOS" && appInfo.appVersion >= "9.9.9")) {
			fidoInfoVO.svcCode = "001"	
		}else{
			fidoInfoVO.svcCode = "002"
		}
		//지문인증 1/2
		$.blockUI();
		HiJS.svr.doRequestAjax("DHCO0099M27S", {
			data : fidoInfoVO,
			callback : {
				success : function(responseObj) {
					$.unblockUI();
					console.log("인증 step1 DHCO0099M27S",responseObj);
					
					if(responseObj.data.errCode == '0000'){
						fidoInfoVO.tranTraceNo = responseObj.data.v201.tranTraceNo;
						//단말기 지문인증 호출
						fnBioReg115("115", responseObj.data.v201.fidoAuthReqMessage, responseObj.data.v201.tranTraceNo, responseObj.data.v201.headerVo.transactionSerialNo, "MI", responseObj.data.v201.challengeToken, "fnGoBioCertProc2");
					}else if(responseObj.data.errCode == '5401'){
						alert("5회 연속 인증 실패로 지문 로그인 사용이 중지 되어 서비스 재가입이 필요 합니다.");
						return;
					}else if(responseObj.data.errCode == '1000'){
						alert("BIO 인증 서비스가 개시되지 않았습니다.");
						return;
					}else if(responseObj.data.errCode == "5009"){
						confirm("바이오인증관련 이관 작업에 따라 바이오정보 신규 등록이 필요합니다.","location.href = '/service.do?m=b0b1129284'");
						return;
					}else{
						alert(responseObj.data.errMessage);
						return;
					}
				},
				failure : function(responseObj) {
					$.unblockUI();
					alert("인증처리중 오류가 발생했습니다.");
					return;
				}
			}
		});
		
	}
	
	var numberOfFail = 0;
	function fnGoBioCertProc2(dataKeyCode, dataKeyFido, dataKeyAuthResult, dataKeyVersion, dataKeyNidct, dataKeyAaid, osType, deviceId, swDeviceUse){
		
		//지문인증 2/2
		fidoInfoVO.authResultCd = dataKeyAuthResult;
		fidoInfoVO.aaid = dataKeyAaid;
		// fidoInfoVO.sDPubkey = dataKeysDPubkey;
		fidoInfoVO.nidcToken = dataKeyNidct;
		fidoInfoVO.uafResponse = dataKeyFido;
		fidoInfoVO.swDeviceUse = swDeviceUse;
		
		var info = g_etcInfo + " / [birthDt]" + certRegNo1 + " / [authTechCd]" + fidoInfoVO.authTechCd;
		
		fidoInfoVO.appYn      = g_appYn; 
		fidoInfoVO.os         = g_os ; 
		fidoInfoVO.osVer      = g_osVer ; 
		fidoInfoVO.etcInfo    = info ; 
		
		
		var getSessionMenu = "b5eef5f9a4";
		
		if(dataKeyAuthResult == "0000"){
			console.log("인증 step2 DHCO0099M28S 요청",fidoInfoVO);
			$.blockUI();
			HiJS.svr.doRequestAjax("DHCO0099M28S", {
				data : fidoInfoVO,
				callback : {
					success : function(responseObj) {
						$.unblockUI();
						console.log("인증 step2 DHCO0099M28S 응답",responseObj);
						if (responseObj.data.certRsltCd != "0000") {
							alert(responseObj.data.certRsltMsg);
						} else {
							console.log("####### swDeviceUse #####"+ swDeviceUse);
							if(swDeviceUse != null && "" != swDeviceUse && "null" != swDeviceUse && swDeviceUse.length > 0 && "N"==swDeviceUse){  //하드웨어 방식 사용일 경우(N)
								confirm("바이오인증 시스템 고도화에 따라 기존 이용하시던 고객님에 대하여 신규 등록 후, 서비스 이용이 가능합니다.","location.href = '/service.do?m=b0b1129284'");	
							}else{
								alertCallback = function() {
									fnCloseCertiLayer();
									certCallback("06", responseObj.data.certSeqNo, certMpNo);
								};
								alert("본인확인에 성공하였습니다.", "alertCallback()");	
							}
							
						}
					},
					failure : function(responseObj) {
						$.unblockUI();
						alert("인증처리중 오류가 발생했습니다.");
						return;
					}
				}
			});
		}else{
			$("#certificateLayerTab1").addClass("on").siblings("a").removeClass("on");
		}
	}
	
	// 인증 타입. 01:로그인, 02: 공인인증, 03: 휴대폰 인증, 04:전자서명, 05:바이오인증
	
	var reqMPVO = {};
	var certMPSendCnt = 0; //휴대폰 인증문자 발송건수
	
	var certPtyNm = "";
	var certRegNo1 = "";
	var certRegNo2 = "";
	var certMpNo = "";
	var certMenuId = "";
	var certMenuCd = "";
	var certCallback;
	var mpSendClick = 0;
	
	var reqKakaoPayAuthVO = {};			//카카오페이 인증 VO
	var reqKakaoPayAuthSubVO = {};		//카카오페이 인증 시 필요한 본인인증 공통 VO
	
	// 얼럿 콜백
	var alertCallback = function() {
		// 필요부에서 재정의
	};
	
	$(document).on('change','[id^=mpSel]',function() {
		console.log('[COCO0091G]1. change id^=mpSel');
		
		var chkBool = true;
		/*
		$("ul.termCont > li").each(function() {
			if (!$(this).children("input").is(":checked")) {
				chkBool = false;
			}
		});
		
		if (chkBool) {
			$("#allMpSel").text("동의완료");
		} else {
			$("#allMpSel").text("전체동의");
		}*/
		
		$("section:visible").find("#termContCert > li").each(function(){
			if(!$(this).children("input").is(":checked")) {
				chkBool = false;
			}
		});
		
		if(chkBool){
			$("section:visible").find(".commonCheck").addClass('done');
			$("section:visible").find(".commonCheck").text("동의완료");
			$("section:visible").find("#termContCert").attr('aria-hidden',true).hide();
			
		}else{
			$("section:visible").find(".commonCheck").removeClass('done');
			$("section:visible").find(".commonCheck").text("전체동의");
			$("section:visible").find("#termContCert").attr('aria-hidden',false).show();
		}
	});
	
	
	//$(".commonCheck").click으로 변경
	function fnAllMpSel() {
		if ($("#allMpSel").parent().hasClass("on")) {
			$("#allMpSel").text("전체동의");
		} else {
			$("#allMpSel").text("동의완료");
		}
	}
	
	// 리셋
	function fnCeriReset() {
		certMPSendCnt = 0;
		certPtyNm = "";
		certRegNo1 = "";
		certRegNo2 = "";
		certMpNo = "";
		certMenuId = "";
		certMenuCd = "";
		
		certCallback;
		$("#certTimer").removeClass("certify");
		$("#certTimer").text("");
		
		/* del
		$("#allMpSel").text("전체동의");
		$("#allMpSel").parent().removeClass("on");
		$("#allMpSel").parent().find('.btnView .state').text('약관 열기');*/
		
		//개인정보 초기화
		$(".commonCheck").removeClass('done');
		$(".commonCheck").text("전체동의")
		
		$("#certificateMPFrm #termContCert").attr('aria-hidden' , false).show();
		$("#certificateMPFrm #termContCert > li").each(function() {
			$(this).children("input").prop("checked",false);
		});
		
		$("#certkakaoPayAuthFrm #termContCert").attr('aria-hidden' , false).show();
		$("#certkakaoPayAuthFrm #termContCert > li").each(function() {
			$(this).children("input").prop("checked",false);
		});
		
		//통신사 초기화
		$(".itemListN3 > li").each(function() {
			$(this).removeClass("on");
		});
		
		//통신사 hidden값 초기화
		var frm = document.certificateMPFrm;
		frm.mvComeanCat.value = 0;
		
		//전송버튼 초기화
		$(".rqstnum").each(function() {
			$(this).addClass('bgGrey');
			$(this).removeClass('bgOrange');
			$(this).removeClass('org');
			$(this).text("인증번호받기")
		});
		
		$("#certificateLayerTab3").hide();
	}
	
	
	function fnOpenCertiLayerSession(opnType, opnId, ptyNm, regNo1, regNo2, mpNo, menuId, menuCd, callback) {
		
		if(regNo2 == "*******") {
			HiJS.svr.doRequestAjax("DHCO0099M91S", {
				data : {
						regNo1 : regNo1
						, regNo2:regNo2
					},
				messageEnabled : false,
				callback : {
					success : function(responseObj) {
						
						certRegNo2 = responseObj.data.regNo2;
						fnOpenCertiLayer(opnType, opnId, ptyNm, regNo1, certRegNo2, mpNo, menuId, menuCd, callback);
					},
					failure : function(responseObj){
						
						// 오류페이지 이동
						$.unblockUI();
						location.href="/bin/CO/CO/COCO0802G.jsp?pageGb=MT&etime=";
						return;
					}
				}
			});

		}else{
			fnOpenCertiLayer(opnType, opnId, ptyNm, regNo1, certRegNo2, mpNo, menuId, menuCd, callback)
		}
		
	}
	
	
	/*****************************************************************************************************************
	 * fnOpenCertiLayer 본인인증 레이어 열기
	 *    -  addProcYn 01.PIN번호 등록/변경을 위한 인증
	 *****************************************************************************************************************/
	function fnOpenCertiLayer(opnType, opnId, ptyNm, regNo1, regNo2, mpNo, menuId, menuCd, callback, addProcYn) {
		
		fnCeriReset();
		certPtyNm = ptyNm;
		certRegNo1 = regNo1;
		certRegNo2 = regNo2;
		certMpNo = mpNo;
		certMenuId = menuId;
		certMenuCd = menuCd;
		certCallback = callback;
		
		var frm = document.certificateMPFrm;
		frm.ptyNm.value = certPtyNm;
		frm.regNo1.value = certRegNo1;
		frm.regNo2.value = certRegNo2;
		frm.mpNo.value = mpNo;
		frm.smsNo.value = "";
		frm.mvComeanCat.value = 0;
		
		var frm2 = document.certkakaoPayAuthFrm;
		frm2.ptyNm.value = certPtyNm;
		frm2.regNo1.value = certRegNo1;
		frm2.regNo2.value = certRegNo2;
		frm2.mpNo.value = mpNo;
		
		var sData = {};
		sData.securityData = certPtyNm+""+certRegNo1+""+certRegNo2;
		// 바이오인증 사용 여부
		$.blockUI();
		
		//* PIN인증을 위해 전화번호와 고객명 세팅 */
		$("#pinTelNo").val(mpNo) ;
		$("#pinKorNm").val(certPtyNm) ;
		
		//* 등록/재설정을 위한 인증 시는 제외하고 실행 - PIN인증 등록/재설정을 위한 인증에는 바이오 인증이 없음 - 시작 */
		if ( addProcYn != "01" ) { 
			//* 바이오 인증 사용 여부 부분 */
			HiJS.svr.doRequestAjax("DHCO0099M99S", {
				loadingbar : false,
				data : sData,
				callback : {
					success:function(responseData) {
						$.unblockUI();
						if (responseData.data.delYn == "N") {
							if("b5eef5f9a4" != "495b495080"){	//ars상담신청은 제외
								//$("#tabChoisDiv").addClass("bio");
								$("#certificateLayerTab3").show();
								
							}
						} else {
							//$("#tabChoisDiv").removeClass("bio");
							$("#certificateLayerTab3").hide();
						}
						
					//해외여행보험기간연장일 경우 (지문인증 삭제)  국내여행보험 가족인증 지문인증삭제 추가
					if("b5eef5f9a4" == "8a85dbc847" || "b5eef5f9a4" == "f49de70255"|| "b5eef5f9a4" == "3cb57b4478"|| "b5eef5f9a4" == "a39d9d55e5"){	
					
						if(g_appYn == "N"){
							$("#certificateLayerTab3").hide();
							$("#certificateLayerTab2").hide();
						}else{
							$("#certificateLayerTab2").show();
							$("#certificateLayerTab3").hide();
						}
					}
					}
				}
			});
		}
		//* 등록/재설정을 위한 인증 시는 제외하고 실행 - PIN인증 등록/재설정을 위한 인증에는 바이오 인증이 없음 - 끝 */ 
		irisCheck();
		openLayer("certificateLayer");
		
		//* PIN 인증 등록/재실행을 위한 인증이 아닐 경우 PIN 인증 정보 조회 */
		if ( addProcYn != "01" ) { // 01.PIN신규등록, 재실행을 위한 인증 실행 시
			fnSelPinInfo(certRegNo1,certRegNo2);
		}
	}
	//* fnOpenCertiLayer 본인인증 레이어 열기 종료 */
	
	
	/*****************************************************************************************************************
	 * fnSelPinInfo PIN인증정보 조회
	 *****************************************************************************************************************/
	function fnSelPinInfo(regNo1,regNo2) {
		
		var pinVO = {};
		//휴대폰번호 일치여부 파악을 위한 값 추가
		//$("#pinTelNo").val(mpNo) ;
		var checkPinTelNo = "";
		if($("#pinTelNo").val() != null && $("#pinTelNo").val() != ""){
			checkPinTelNo = $("#pinTelNo").val();
		}
		pinVO = {
			regNo : regNo1+""+regNo2,
			checkPinTelNo : checkPinTelNo
		};
		
		//console.log("### COCO0091G fnSelPinInfo // pinVO=>" + JSON.stringify(pinVO) );
		
		HiJS.svr.doRequestAjax("DHCO0150M10S", {
			loadingbar : false,
			data : pinVO,
			callback : {
				success:function(responseObj) {
					
					var pinPtyId         = responseObj.data.ptyId;         // PIN번호인증 당사자id
					
					$("#pinPtyId").val(pinPtyId);
					console.log('[COCO0091G fnOpenCertiLayer] pinPtyId=>' + pinPtyId + "/rMode=>" + "D"  );
					
					if ( pinPtyId == null || pinPtyId == "" ){
						$("#certificateLayerTab6").hide(); 		
						return; 
					}
					/*
					if (  pinPtyId == "001iQ431EbvlHE" // 김태원과장 
					   || pinPtyId == "001eInH1cCyXfU" // 심흥무 팀장
					   || pinPtyId == "001eqUY1DK1Kqm" // 권오득 차장
					   || pinPtyId == "001k4gs1hnYkQC" // 사공재문 대리
					   || pinPtyId == "001mH4r1EarXge" // 김민주 대리
					   
					   || pinPtyId == "001eZeM2WFyodc" // 권정미 팀장
					   || pinPtyId == "001dCGT1g1DOOO" // 양동춘 수석
				  	   || pinPtyId == "001eIKL1htEk5Y" // 이정우 차장
				  	   || pinPtyId == "001eInw2SAHKEa" // 안윤경 차장
				  	   || pinPtyId == "001i9951JG6gq0" // 손경태 과장
					   || pinPtyId == "001ihZi2RdCxBg" // 최혜윤 과장
					   || pinPtyId == "001hsQy2WBQjei" // 정경미 과장
					   || pinPtyId == "001mp7A1FjxzVY" // 김재원 사원
				    ){
						$("#certificateLayerTab6").show(); 		
					}
					*/
					
					$("#pinPtyId").val(pinPtyId);
					
					var pinCertRegYn     = responseObj.data.pinRegYn;      // PIN번호인증 등록여부
					var pinUseYn         = responseObj.data.pinUseYn;      // PIN번호인증 사용가능여부
					var cntuFailCnt      = responseObj.data.cntuFailCnt;   // PIN번호인증 실패횟수
					var pinTelCheckYn	 = responseObj.data.pinTelCheckYn;   // PIN번호인증 실패횟수
					
					$("#pinRegYn").val(pinCertRegYn);
					
					//console.log('[COCO0091G fnOpenCertiLayer] pinCertRegYn=>' + pinCertRegYn  );
 					//console.log('[COCO0091G fnOpenCertiLayer] pinUseYn=>' + pinUseYn  );
 					//console.log('[COCO0091G fnOpenCertiLayer] cntuFailCnt=>' + cntuFailCnt  );
 					
 					//$("#pinCertView").show();
 					
 					if ( pinCertRegYn == "N" ) {
 						$("#pinViewGb").val("01");
 					}else if ( pinUseYn == "N" || cntuFailCnt >= 5 ) {
 						$("#pinViewGb").val("02");
 					} else {
 						$("#pinViewGb").val("00");
 						
 						if ( $(".btnWrap").hasClass("eventNone") ) {
 	 						$(".btnWrap").removeClass("eventNone");
 	 					}
 	 					$('span > #certBtn').text('인증하기');
 	 					
 	 				//hpOnlyCk =>핸드폰인증만 하는경우에 대한 체크
 	 					if(pinTelCheckYn  == "Y" && hpOnlyCk=="N"){
 	 						//PIN인증 등록 고객일경우, PIN인증으로 기본세팅
 	 						$('#certificateLayerTab6').trigger('click');
 	 					}
 					}
 					 			        
 				   //console.log("## pinTelNo=>" + $("#pinTelNo").val() );
 			       //console.log("## pinKorNm=>" + $("#pinKorNm").val() );
 			       
 			       // 보장분석 핀인증 이벤트
 			       // 핀인증 default 설정
 			       // 보장분석서비스 menuId = b54bcc4e54
 			       if(false){
	 			      if(_menuId == "b54bcc4e54" && !(pinPtyId == null) && !(pinPtyId == "")){
	 			      	console.log("[보장분석 PIN이벤트 ] : Y");
	 			      	$('#certificateLayerTab6').trigger('click');
	 			      	$('#pinEvntBanner').show(); // 보험진단분석 핀이벤트 배너
	 			      }
 			       }

 			        document.pinForm.action = "service.do?m=b1dd902365"; // service.do?tranId=DHCO9905M10S&view=CO/PN/COPN0010G.jsp
					document.pinForm.target = "ifmPinCertView";
						
	 				document.pinForm.acceptCharset = "utf-8";
					if (pinForm.canHaveHTML) { // detect IE
						document.charset = pinForm.acceptCharset;
					}
					
					// post로 iframe 페이지 호출
					document.pinForm.submit();
	 			},
	 			failure : function(result) {
					console.log("fnSelPinInfo// failure");
					$("#certificateLayerTab6").hide(); 		
				},
				error : function(result) {
					console.log("fnSelPinInfo// error");
					$("#certificateLayerTab6").hide(); 		
				}
			}
		});
	}
	//* fnSelPinInfo PIN인증정보 조회 - 끝 */	
		
		
	// 인증 레이어 닫기
	function fnCloseCertiLayer() {
		clearInterval(timerId);
		closeLayer("certificateLayer");
	}
	
	// 휴대폰 인증번호 받기
	function fnCertiMPSend() {
		
		$("#certificateMPFrm #smsNo").val("");
		
		if (certMPSendCnt >= 99) {
			alert("인증 가능횟수를 초과했습니다.");
			return;
		}
		
		if (!fnCertMpAgreeCheck()) {
			return;
		}
		
		if (!fnCertMpCheck()) {
			return;
		}
		
		var frm = document.certificateMPFrm;
		
		var mvComeanCat = frm.mvComeanCat.value;
		var mpNo = frm.mpNo.value;
		var ptyRegNo = frm.regNo1.value + frm.regNo2.value;
		var ptyNm = frm.ptyNm.value;
		certMpNo = mpNo;
		
		$("#pinTelNo").val(mpNo) ;
		
		var info = g_etcInfo + " / [birthDt]" + frm.regNo1.value
		
		//주번2가 ******* 아닌 경우만 수자 여부 체크
		if(frm.regNo2.value != "*******") {
			// 주민번호에 문자가 들어갔는지 여부 체크
			if (!isNumber(ptyRegNo)) {

				alert("휴대폰 인증 중 예외가 발생하였습니다. 모든 창을 닫고 다시 시도해주세요.");
				return;
			}
		}
		
		// 고객 주민번호가 13자리인지 여부를 체크
		if (ptyRegNo.length != "13") {
			alert("휴대폰 인증 중 예외가 발생하였습니다. 모든 창을 닫고 다시 시도해주세요.");
			return;
		}
			
		$("#certSignMthdCd").val("10491001"); //인증서명상세 : 10491001.휴대폰인증  10491002.공동인증서 10491003.카카오페이 10491004.네이버페이 10491005.휴대폰직접서명 10491006.금융인증서
		
		var cipa0041VOList = [{
				ptyCat : "3",
				cprnPtrEcYn : "0",
				mvComeanCat : mvComeanCat,
				mpNo : mpNo,
				ptyRegNo : ptyRegNo,
				ptyNm : ptyNm
		}];
		
		var requestVO = {
				cipa0041VOList : cipa0041VOList,
				svcMenuId : certMenuId,
				menuCode : certMenuCd,		
				appYn    : g_appYn ,
				os       : g_os    ,
				osVer    : g_osVer ,
				etcInfo  : info,
				certSignGbCd  		: $("#certSignGbCd").val(), 
				certSignMthdCd  	: $("#certSignMthdCd").val(),
				certSignDetCd 		: $("#certSignDetCd").val(),
				bzCd          		: $("#bzCd").val(),
				bzDetCd       		: $("#bzDetCd").val()
		};
		
		// 이륜차 배달플랫폼
		if("" == "B648"){
			requestVO.entryPathCat = '64';	//휴대폰 동의비용 관련 정산을 위한 구분값 (이륜차 On&Off) 
		}
		//console.log("### 인증번호 요청 requestVO=>" + JSON.stringify(requestVO) );
		
		$.blockUI();
		HiJS.svr.doRequestAjax("DHCO0099M06S", {
			data : requestVO,
			loadingbar : false,
			callback : {
				success:function(responseData) {
					$.unblockUI();
					if (responseData.data.rsltCd != "NME0000" && responseData.data.rsltCd != "0000") {
						// alert(responseData.data.rsltMsg);
						alert("휴대폰 인증 정보를 확인해주세요.");
					} else {
						var data = responseData.data;
						
						reqMPVO = {
							cipa0041VOList : data.cipa0041VOList,
							cipa0042VOList : data.cipa0042VOList,
							grpId : data.grpId,
							reqDt : data.reqDt,
							ptyNo : data.ptyNo,
							rlifLobCd : data.rlifLobCd,
							rlifUtlAgrmCat : data.rlifUtlAgrmCat,
							entryPathCat : data.entryPathCat,
							svcMenuId : certMenuId,
							menuCode : certMenuCd,
							appYn    : g_appYn ,
							os       : g_os    ,
							osVer    : g_osVer ,
							etcInfo  : info,
							certSignGbCd  		: $("#certSignGbCd").val(), 
							certSignMthdCd  	: $("#certSignMthdCd").val(),
							certSignDetCd 		: $("#certSignDetCd").val(),
							bzCd          		: $("#bzCd").val(),
							bzDetCd       		: $("#bzDetCd").val()
						};
						
						certMPSendCnt++; 
						alert("입력하신 휴대폰번호로 인증번호를 발송하였습니다.");
						
						// Android SMS 대기
						var appInfo = JSON.parse(sessionStorage.getItem('appInfo'));
						// 2019.01.04. 김기정, 구글 SMS/통화 기록 권한 사용에 대한 정책 변경에 따른 SMS 자동입력 기능 제거
						/*
						if (appInfo != undefined && appInfo.osType != undefined && appInfo.osType == 'AOS') {
							CallSMSReceived("smsNo");
						}
						*/
						// 타이머 시작
						fnStartCertTimer();
					}
					console.log('[COCO0091G, fnCertiMPSend] 3.rsltCd: '+responseData.data.rsltCd);
					mpSendClick++;
				}
			}
		});
	}
	
	// 휴대폰 인증번호 확인
	function fnCertiMPReSend() {
		
		if (!$("#certTimer").hasClass("certify")){
			alert("인증번호 받기를 확인해주세요.");
			return;
		}
		
		if (!fnCertMpAgreeCheck()) {
			return;
		}
		
		if (!fnCertMpCheck()) {
			return;
		}
		
		var frm = document.certificateMPFrm;
		var smsNo = frm.smsNo.value;
		if (smsNo == "" || smsNo.length != 6) {
			alert("인증번호 입력을 확인해주세요.");
			return;
		}
		reqMPVO.cipa0042VOList[0].smsNo = smsNo;
		reqMPVO.cipa0042VOList[0].regNo = frm.regNo1.value + "" + frm.regNo2.value;
		
		$.blockUI();
		HiJS.svr.doRequestAjax("DHCO0099M07S", {
			data : reqMPVO,
			loadingbar : false,
			callback : {
				success:function(responseData) {
					$.unblockUI();
					if (responseData.data.rsltCd != "NME0000" && responseData.data.rsltCd != "0000") {
						// alert(responseData.data.rsltMsg);
						alert("인증번호 입력을 확인해주세요.");
					} else if (responseData.data.cipa0042VOList[0].regNo.substring(0,6) != reqMPVO.cipa0042VOList[0].regNo.substring(0,6)) {
						alert("인증번호 입력을 확인해주세요.");
					} else {
						alertCallback = function() {
							fnCloseCertiLayer();
							certCallback("03", responseData.data.certSeqNo, responseData.data.cipa0042VOList[0].mblNo);
						};
						//alert("본인확인에 성공하였습니다.", "alertCallback()");
						
						//console.log("##fnCertiMPReSend/alertCallback pinPtyId=>" + $("#pinPtyId").val() );
						//console.log("##fnCertiMPReSend/alertCallback pinRegYn=>" + $("#pinRegYn").val() );
						
						if (    $("#pinPtyId").val() != ""  // 최초신규고객(고객우너장에 당사자ID가 없는 고객)이 아니고
								&& ( $("#pinRegYn").val() != "Y")   // PIN인증 미등록 고객인 경우
								&& ( $("#bzDetCd").val() == "10081001" )
						
						) { 
							lpOpener("layerPinRegEvnt");
						} else {
							alert("본인확인에 성공하였습니다.", "alertCallback()");
						}
					}
				},
				failure : function(responseData) {
					$.unblockUI();
					alert("인증번호 입력을 확인해주세요.");
					return;
				}
			}
		});
	}
	
	/********************************************************************
	 * fnCertSend : 인증하기(다음) 버튼 클릭 시 이벤트 
	 *******************************************************************/
	function fnCertSend(){
		var tabId = $("#tabChoisDiv").find('.on').attr('id');
		//console.log("### fnCertSend/tabId=>" + tabId );
		if(tabId == 'certificateLayerTab1'){  // 휴대폰 인증
			fnCertiMPReSend();
		}else if(tabId == 'certificateLayerTab5'){ // 카카오페이 인증
			fnCertKakaoPayAuthSend();
		}else if(tabId == 'certificateLayerTab6'){ // PIN 인증
			if ( $("#pinViewGb").val() == "01" ){
				alert("PIN번호 등록 후 인증해주세요");
			}else if ( $("#pinViewGb").val() == "02" ){
				alert("PIN번호 재설정 후 인증해주세요");
			} else {
				sendIfrm('cfrm');
			}
		}
	}
	
	/********************************************************************
	 * sendIfrm : PIN번호 인증 처리 요청
	 *******************************************************************/
	function sendIfrm(gb){
		
		//console.log("### COCO0091.jsp sendIfrm gb =>" + gb );
		var funcVal = gb;
    	var msgVal  = "";
    	var param2 = {'func':funcVal,'msg':msgVal};
    	   
		if ( gb == "cfrm"){  // PIN인증 처리
			document.getElementById("ifmPinCertView").contentWindow.postMessage(param2,'*');
		}
	}
	
	/*
     * 카카오페이 인증 폴링, 3초당 60회 --> 180초(3분)
     */
	function startKakaoPayAuthPolling() {
    	clearInterval(timerId);
    	
		timerId = setInterval("fnKakaoPayAuthPolling()", 3000);
		timerCount = 60;
	}
	
	// 타이머 시간 채크
	function fnKakaoPayAuthPolling() {
        if (timerCount-- <= 0) {
        	clearInterval(timerId);
		}
        
      	//카카오페이인증 확인
        fnCertKakaoPayAuthPollSend();
	}
	
	// 인증 레이어 닫기
	function fnCloseCertKakaoPayAuthLayer() {
		clearInterval(timerId);
		
		closeLayer("kakaoPayAuthReqPop");			// 카카오페이인증 안내(인증요청)
		closeLayer("kakaoPayAuthPollingPop");		// 카카오페이인증 안내(정상 처리되지 않음)
	}
	
	// 카카오페이인증 요청
	function fnCertKakaoPayAuthSend() {
		var mpNo = $("#certkakaoPayAuthFrm #mpNo").val();
		//console.log('mpNo:'+mpNo);
		if (mpNo == "" || mpNo.length < 10 || 11 < mpNo.length || !/^[0-9]*$/.test(mpNo)) {
			alert("휴대폰번호 입력을 확인해주세요.");
			return false;
		}
		
		$("#pinTelNo").val(mpNo) ;
		
		if (!$("#certkakaoPayAuthFrm #mpSel11").is(":checked")) {
			alert("개인(신용)정보의 수집·이용에 관한 사항에 동의하여 주시기 바랍니다.");
			return false;
		} else if (!$("#certkakaoPayAuthFrm #mpSel13").is(":checked")) {
			alert("개인(신용)정보의 제공에 관한 사항에 동의하여 주시기 바랍니다.");
			return false;
		}
		
		$("#certSignMthdCd").val("10491003"); //인증서명상세 : 10491001.휴대폰인증  10491002.공동인증서 10491003.카카오페이 10491004.네이버페이 10491005.휴대폰직접서명 10491006.금융인증서
		
		var frm = document.certkakaoPayAuthFrm;
		
		reqKakaoPayAuthSubVO = {
			regNo : frm.regNo1.value + frm.regNo2.value,
			name : frm.ptyNm.value,
			
			svcMenuId : certMenuId,
			menuCode : certMenuCd,
			appYn    : g_appYn ,
			os       : g_os    ,
			osVer    : g_osVer ,
			etcInfo  : g_etcInfo + " / [birthDt]" + frm.regNo1.value +" / [KKOWEB]"+kakaoTalkWebYn,
			certSignGbCd  		: $("#certSignGbCd").val(), 
			certSignMthdCd  	: $("#certSignMthdCd").val(),
			certSignDetCd 		: $("#certSignDetCd").val(),
			bzCd          		: $("#bzCd").val(),
			bzDetCd       		: $("#bzDetCd").val()
		};
		
		var ptyRegNo = frm.regNo1.value + frm.regNo2.value;
		// 주민번호에 문자가 들어갔는지 여부 체크
		if (!isNumber(ptyRegNo)) {
			alert("카카오페이 인증 중 예외가 발생하였습니다. 모든 창을 닫고 다시 시도해주세요.");
			return;
		}
		
		// 고객 주민번호가 13자리인지 여부를 체크
		if (ptyRegNo.length != "13") {
			alert("카카오페이 인증 중 예외가 발생하였습니다. 모든 창을 닫고 다시 시도해주세요.");
			return;
		}
		
		reqKakaoPayAuthVO = {
			phone_no : frm.mpNo.value,
			name : frm.ptyNm.value,
			birthday : getBirthDate(frm.regNo1.value + frm.regNo2.value, "yyyyMMdd"),
			expires_in : "300",
			call_center_no : "1899-6782",
			title : "간편본인인증",
			allow_simple_registration : "Y",
			verify_auth_name : "Y",
			kakaoTalkWebYn : kakaoTalkWebYn,
			
			dhco0099VO : reqKakaoPayAuthSubVO
		};
		
		$.blockUI();
		HiJS.svr.doRequestAjax("DHCO0090M01S", {
			data : reqKakaoPayAuthVO,
			loadingbar : false,
			async : false,
			callback : {
				success:function(responseData) {
					$.unblockUI();
					console.log('DHCO0090M01S Success');
					//console.log(responseData);
					var tx_id  = responseData.data.tx_id;
					var txcd  = responseData.data.txcd;
					var errcode = responseData.data.errcode;
					var errmsg = responseData.data.errmsg;
					
					if ( txcd == "00" ){ //정상 응답
						reqKakaoPayAuthVO = {
							token : responseData.data.token,
							tx_id : responseData.data.tx_id,
							
							phone_no : responseData.data.phone_no,
							name : responseData.data.name,
							birthday : responseData.data.birthday,
							kakaoTalkWebYn : kakaoTalkWebYn,
							dhco0099VO : reqKakaoPayAuthSubVO
						};
					
						// 카카오페이 인증 폴링 추가
						startKakaoPayAuthPolling();
					
						openLayer("kakaoPayAuthReqPop");
						
						if ( kakaoTalkWebYn == "Y" ){ // 카카오톡 플랫폼인 경우
			          	  	window.location.href="kakaotalk://kakaopay/cert/sign?tx_id="+tx_id;
			          	  } 
					} else { //오류 응답
						if ("E400" == errcode) {
							errmsg = "카카오톡 사용자가 아니거나 해지된 사용자입니다. 카카오톡 가입 후 이용해주시기바랍니다.";
						} else if ("E401" == errcode) {
							errmsg = "휴대폰 번호 누락 혹은 형식에 맞지 않습니다. 확인 후 이용해주시기 바랍니다.";
						} else if ("E402" == errcode) {
							errmsg = "고객성명 누락 혹은 형식에 맞지 않습니다. 확인 후 이용해주시기 바랍니다.";
						} else if ("E403" == errcode) {
							errmsg = "생년월일 누락 혹은 형식에 맞지 않습니다. 확인 후 이용해주시기 바랍니다.";
						} else if ("E404" == errcode) {
							errmsg = "콜센터번호 누락 혹은 형식에 맞지 않습니다. 확인 후 이용해주시기 바랍니다.";
						} else if ("E421" == errcode) {
							errmsg = "입력하신 생년월일과 카카오톡에 등록된 생년월일이 일치하지 않습니다. 확인 후 이용해주시기 바랍니다.";
						} else if ("E422" == errcode) {
							errmsg = "입력하신 고객성명과 카카오톡에 등록된 성명이 일치하지않습니다. 확인 후 이용해주시기 바랍니다.";
						} else if ("E500" == errcode) {
							errmsg = "카카오페이 서버오류입니다. 다른 방법을 시도해 주시기바랍니다.";
						} else {
							errmsg = "현재 카카오페이 인증을 이용하실 수 없습니다. 다른 방법을 시도해 주시기바랍니다.";
						}
						
						closeLayer("kakaoPayAuthReqPop");
						alert(errmsg);
						return; 
					}
				},
				failure : function(responseData){
					closeLayer("kakaoPayAuthReqPop");
					alert("현재 카카오페이 인증을 이용하실 수 없습니다. 다른 방법을 시도해 주시기바랍니다.");
					return;
				}
			}
		});
	}
	
	// 카카오페이인증 확인
	function fnCertKakaoPayAuthReSend() {
		var frm = document.certkakaoPayAuthFrm;
		
		$.blockUI();
		HiJS.svr.doRequestAjax("DHCO0090M02S", {
			data : reqKakaoPayAuthVO,
			loadingbar : false,
			async : false,
			callback : {
				success:function(responseData) {
					$.unblockUI();
					console.log('DHCO0090M02S Success');
					//console.log(responseData);
					
					var txcd  = responseData.data.txcd;
					var rsltCd = responseData.data.dhco0099VO.certRsltCd;
					var errcode = responseData.data.errcode;
					var errmsg = responseData.data.errmsg;
					
					if ( txcd == "00" && rsltCd == "NME0000"){ // 정상
						alertCallback = function() {
							fnCloseCertiLayer();
							fnCloseCertKakaoPayAuthLayer();
							certCallback("07", responseData.data.dhco0099VO.certSeqNo, responseData.data.phone_no);
						};
						//alert("본인확인에 성공하였습니다.", "alertCallback()");
						
						//console.log("##fnCertKakaoPayAuthReSend/alertCallback pinPtyId=>" + $("#pinPtyId").val() );
						//console.log("##fnCertKakaoPayAuthReSend/alertCallback pinRegYn=>" + $("#pinRegYn").val() );
						
						if (    $("#pinPtyId").val() != ""  // 최초신규고객(고객우너장에 당사자ID가 없는 고객)이 아니고
								&& ( $("#pinRegYn").val() != "Y")   // PIN인증 미등록 고객인 경우
								&& ( $("#bzDetCd").val() == "10081001" )
						
						) { 
							lpOpener("layerPinRegEvnt");
						} else {
							alert("본인확인에 성공하였습니다.", "alertCallback()");
						}
						
					}else if ( txcd == "01" ){ // 대기중
						closeLayer("");
						openLayer("kakaoPayAuthPollingPop");
					}else if ( txcd == "09" ){ // 시간초과
						fnCloseCertKakaoPayAuthLayer();
						alert("인증시간이 초과되었습니다. 다시 시도해주시기 바랍니다.");
					}else if ( txcd == "98" ){ // 검증실패
						fnCloseCertKakaoPayAuthLayer();
						alert("검증에 실패하셨습니다. 다시 시도해주시기 바랍니다.");
					} else { //오류 응답
						if ("E400" == errcode) {
							errmsg = "중복호출로 인한 잘못된 요청입니다. 다시 시도해주시기 바랍니다.";
						} else if ("E401" == errcode) {
							errmsg = "조회 식별자가 존재하지 않습니다. 다시 시도해주시기 바랍니다.";
						} else if ("E402" == errcode) {
							errmsg = "서명 결과가 존재하지 않습니다. 다시 시도해주시기 바랍니다.";
						} else if ("E403" == errcode) {
							errmsg = "서명이 완료되지 않았습니다. 다시 시도해주시기 바랍니다.";
						} else if ("E500" == errcode) {
							errmsg = "카카오페이 서버오류입니다. 다른 방법을 시도해 주시기바랍니다.";
						} else {
							errmsg = "현재 카카오페이 인증을 이용하실 수 없습니다. 다른 방법을 시도해 주시기바랍니다.";
						}
						fnCloseCertKakaoPayAuthLayer();
						alert(errmsg);
						return;
					}
				},
				failure : function(responseData){
					fnCloseCertKakaoPayAuthLayer();
					alert("현재 카카오페이 인증을 이용하실 수 없습니다. 다른 방법을 시도해 주시기바랍니다.");
					return;
				}
			}
		});
	}
	
	// 카카오페이인증 확인 (폴링 처리 --> 폴링 시 상태 이력저장 안함, 그 외 DHCO0090M02S 동일)
	function fnCertKakaoPayAuthPollSend() {
		var frm = document.certkakaoPayAuthFrm;
		
		HiJS.svr.doRequestAjax("DHCO0090M03S", {
			data : reqKakaoPayAuthVO,
			loadingbar : false,
			async : false,
			callback : {
				success:function(responseData) {
					$.unblockUI();
					console.log('DHCO0090M03S Success');
					//console.log(responseData);
					
					var txcd  = responseData.data.txcd;
					var rsltCd = responseData.data.dhco0099VO.certRsltCd;
					var errcode = responseData.data.errcode;
					var errmsg = responseData.data.errmsg;
					
					if ( txcd == "00" && rsltCd == "NME0000"){ // 정상
						
						alertCallback = function() {
							fnCloseCertiLayer();
							fnCloseCertKakaoPayAuthLayer();
							certCallback("07", responseData.data.dhco0099VO.certSeqNo, responseData.data.phone_no);
						};
						
						//console.log("##fnCertKakaoPayAuthPollSend/alertCallback pinPtyId=>" + $("#pinPtyId").val() );
						//console.log("##fnCertKakaoPayAuthPollSend/alertCallback pinRegYn=>" + $("#pinRegYn").val() );
						
						if (    $("#pinPtyId").val() != ""  // 최초신규고객(고객우너장에 당사자ID가 없는 고객)이 아니고
								&& ( $("#pinRegYn").val() != "Y")   // PIN인증 미등록 고객인 경우
								&& ( $("#bzDetCd").val() == "10081001" )
						) { 
							clearInterval(timerId); // 폴링 중지
							lpOpener("layerPinRegEvnt");
						} else {
							fnCloseCertKakaoPayAuthLayer();
							certCallback("07", responseData.data.dhco0099VO.certSeqNo, responseData.data.phone_no);
						}
						
						//국내여행보험 , 해외여행,장기체류 가족 카카오인증완료시 안내화면 
						if("b5eef5f9a4" == "f49de70255"||"b5eef5f9a4" == "3cb57b4478"||"b5eef5f9a4" == "a39d9d55e5"){								
							fnCloseCertiLayer();				
						}						
					}else if ( txcd == "01" ){ // 대기중
						//closeLayer("");
						//openLayer("kakaoPayAuthPollingPop");
					}else if ( txcd == "09" ){ // 시간초과
						fnCloseCertKakaoPayAuthLayer();
						alert("인증시간이 초과되었습니다. 다시 시도해주시기 바랍니다.");
					}else if ( txcd == "98" ){ // 검증실패
						fnCloseCertKakaoPayAuthLayer();
						alert("검증에 실패하셨습니다. 다시 시도해주시기 바랍니다.");
					} else { //오류 응답
						if ("E400" == errcode) {
							errmsg = "중복호출로 인한 잘못된 요청입니다. 다시 시도해주시기 바랍니다.";
						} else if ("E401" == errcode) {
							errmsg = "조회 식별자가 존재하지 않습니다. 다시 시도해주시기 바랍니다.";
						} else if ("E402" == errcode) {
							errmsg = "서명 결과가 존재하지 않습니다. 다시 시도해주시기 바랍니다.";
						} else if ("E403" == errcode) {
							errmsg = "서명이 완료되지 않았습니다. 다시 시도해주시기 바랍니다.";
						} else if ("E500" == errcode) {
							errmsg = "카카오페이 서버오류입니다. 다른 방법을 시도해 주시기바랍니다.";
						} else {
							errmsg = "현재 카카오페이 인증을 이용하실 수 없습니다. 다른 방법을 시도해 주시기바랍니다.";
						}
						fnCloseCertKakaoPayAuthLayer();
						alert(errmsg);
						return;
					}
				},
				failure : function(responseData){
					fnCloseCertKakaoPayAuthLayer();
					alert("현재 카카오페이 인증을 이용하실 수 없습니다. 다른 방법을 시도해 주시기바랍니다.");
					return;
				}
			}
		});
	}
	
	/**
	 * @alias 공인인증서 본인인증 callback
	 */
	function JS_ReceivedCertifyData(vidInfoMsg, signedMsg, certId) {
		var info = g_etcInfo + " / [birthDt]" + certRegNo1
		// 공인인증서창 취소 닫기
		if (signedMsg == "") {
			$("#certificateLayerTab1").trigger("click");
		} else {
			/* 기본값 설정 */
			if(!certId){
				console.log("certId:" + certId);
				certId = "";
			}
			
			$("#certSignMthdCd").val("10491002"); //인증서명상세 : 10491001.휴대폰인증  10491002.공동인증서 10491003.카카오페이 10491004.네이버페이 10491005.휴대폰직접서명 10491006.금융인증서
			
			var requestVO = {
					aSignedMsg : signedMsg,
					aVidMsg : vidInfoMsg,
					regNo1 : certRegNo1,
					regNo2 : certRegNo2,
					certType : "02",
					svcMenuId : certMenuId,
					menuCode : certMenuCd,
					appYn    : g_appYn ,
					os       : g_os    ,
					osVer    : g_osVer ,
					etcInfo  : info,
					certId	 : certId,
					certSignGbCd  		: $("#certSignGbCd").val(), 
					certSignMthdCd  	: $("#certSignMthdCd").val(),
					certSignDetCd 		: $("#certSignDetCd").val(),
					bzCd          		: $("#bzCd").val(),
					bzDetCd       		: $("#bzDetCd").val()
			};
			
			$.blockUI();
			HiJS.svr.doRequestAjax('DHCO0099M08S', {
				data : requestVO,
				loadingbar : false,
				callback : {
					success:function(responseData) {
						$.unblockUI();
						clearInterval(g_interval); // 기존 interval 중지
						if (responseData.data.successYn == 'Y') {
							alertCallback = function() {
								fnCloseCertiLayer();
								certCallback('02', responseData.data.certSeqNo, certMpNo);
							};
							alert("본인확인에 성공하였습니다.", "alertCallback()");
						} else {
							alert("본인확인에 실패하였습니다. 다시 시도해주세요.");
							if (responseData.data.certRsltMsg != '') {
								// alert(responseData.data.certRsltMsg);
							} else {
								
							}
						}
					}
				}
			});
		}
	}
	
	var timerId;
	var timerCount;
	
	// 타이머 시작
	function fnStartCertTimer() {
		timerId = setInterval("fnCertTimerCheck()", 1000);
		timerVal = 0;
		timerCount = 180;
		$("#certTimer").addClass("certify");
		$("#certTimer").text("3:00");
	}
	
	// 타이머 시간 채크
	function fnCertTimerCheck() {
		var min = Math.floor(timerCount / 60);
		var sec = (timerCount % 60);
		if (sec < 10) {
			sec = "0" + sec;
		}
		var str = min + ":" + sec;
		$("#certTimer").text(str);
		if (timerCount-- <= 0) {
			fnStopCertTimer();
		}
	}
	
	// 타이머 종료
	function fnStopCertTimer() {
		clearInterval(timerId);
		// alert("인증번호를 다시 받아주세요.");
		$("#hpCertNoSndBtn").addClass('bgOrange');
		$("#certTimer").text("0:00");
	}
	
	// 휴대폰 번호 채크
	function fnCertMpCheck() {
		
		//if ($("#certificateMPFrm #mvComeanCat option:selected").val() == "0") {
		//console.log('[fnCertMpCheck] mvComeanCat: '+$("#certificateMPFrm #mvComeanCat").val());
		if ($("#certificateMPFrm #mvComeanCat").val() == "0") {	
			alert("통신사를 선택해주세요.");
			return false;
		}
		
		var mpNo = $("#certificateMPFrm #mpNo").val();
		//console.log('mpNo:'+mpNo);
		if (mpNo == "" || mpNo.length < 10 || 11 < mpNo.length || !/^[0-9]*$/.test(mpNo)) {
			alert("휴대폰번호 입력을 확인해주세요.");
			return false;
		}
		return true;
	}
	
	// 휴대폰 약관 동의 채크
	function fnCertMpAgreeCheck() {
		if (!/^[0-9]*$/.test($("#certificateMPFrm #smsNo").val())) {
			alert("인증번호 입력을 확인해 주세요.");
			return false;
		}
		
		if (!$("#certificateMPFrm #mpSel01").is(":checked")) {
			alert("개인정보이용에 동의해 주시기 바랍니다.");
			return false;
		} else if (!$("#certificateMPFrm #mpSel03").is(":checked")) {
			alert("고유식별정보처리에 동의해 주시기 바랍니다.");
			return false;
		} else if (!$("#certificateMPFrm #mpSel05").is(":checked")) {
			alert("서비스이용약관에 동의해 주시기 바랍니다.");
			return false;
		} else if (!$("#certificateMPFrm #mpSel07").is(":checked")) {
			alert("통신사이용약관에 동의해 주시기 바랍니다.");
			return false;
		}
		return true;
	}
	
	// 91.성능테스트용 휴대폰인증 bypass
	function fnCertiMPReSendPass() {
		
		//2019 상반기 취약점점검 적용 2019-06-21 삭제
		
		var frm = document.certificateMPFrm;
		var ptyRegNo = frm.regNo1.value + frm.regNo2.value;
		var ptyNm = frm.ptyNm.value;
		
		var mpNo = $("#certificateMPFrm #mpNo").val();
		if (mpNo == "" || mpNo.length < 10 || 11 < mpNo.length || !/^[0-9]*$/.test(mpNo)) {
			alert("휴대폰번호 입력을 확인해주세요.");
			return false;
		}
		
		var cipa0041VOList = [{
			ptyRegNo : ptyRegNo,
			ptyNm : ptyNm
		}];
		
		var requestVO = {
			cipa0041VOList : cipa0041VOList
		};
		
		HiJS.svr.doRequestAjax("DHCO0099M12S", {
			data : requestVO,
			loadingbar : true,
			callback : {
				success:function(responseData) {
					alertCallback = function() {
						fnCloseCertiLayer();
						certCallback("02", "0000", mpNo);
					};
					alert("본인확인에 성공하였습니다.", "alertCallback()");
				}
			}
		});
	}
	
	//통신사선택
	function setMvComeanCat(val){
		//console.log('[COCO0091G, setMvComeanCat]val:'+val);
		var frm = document.certificateMPFrm;
		frm.mvComeanCat.value = val;
	}

	// 화면이 비활성화 되어 있을 때만 true 값을 return 한다.
	function getHiddenState(){
		if( document.hidden || document.webkitHidden || document.msHidden || document.mozHidden ){
			return true;
		}else{
			return false;
		}
	}
	
	
	
	
	// 공인인증서 비밀번호 인증 완료 된 인증이 있는지 cert_id로 조회(결과로 signedMsg, vidMsg 값 받아옴)후 인증처리
	function searchCertByCertId( strCertId ){
		var requestVO = {
				certId : strCertId
			};
		HiJS.svr.doRequestAjax("DHCO0099M34S", {
			data : requestVO,
			loadingbar : false,
			callback : {
				success:function(responseData) {
					if( responseData.data != null && responseData.data.signCd != null && responseData.data.vidCd != null ){
						var signCd = responseData.data.signCd;
						var vidCd = responseData.data.vidCd;
						// vidCd와 signCd 값을 조회 해서 인증서 인증결과 검증 
						if( signCd != undefined && vidCd != undefined && signCd != '' && vidCd != '' ){
							// 본인인증 처리
							JS_ReceivedCertifyData(vidCd, signCd, strCertId);	
						}else{
							alert("인증처리에 실패하였습니다.");
						}	
						clearInterval(g_interval); // 실행중이던 기존 interval 중지
					}
				}
			}
		});
		
	}
	/**
	* numLength 값 길이 만큼의 임의의 숫자 반환
	*/
	function randomNum( numLength ){
		var value = '';
		for(var i=0; i < numLength; i++){
			value += parseInt( Math.random() * (10) ) ;
		}
		return value;
	}
	
	/**
	* YYYY-MM-DD hh:mm:ss 형식으로 현재 시간 가져오기
	*/
	function getDateTimeString(){
		var d = new Date();
		var s =
			leadingZeros(d.getFullYear(), 4)+ '-' +
			leadingZeros(d.getMonth() + 1, 2)+ '-' +
			leadingZeros(d.getDate(),2)+ ' ' +
			
			leadingZeros(d.getHours(),2)+ ':' +
			leadingZeros(d.getMinutes(),2)+ ':' +
			leadingZeros(d.getSeconds(),2);
		
		return s;
	}
	/**
	* digits 자리수보다 작을 시에 0으로 채움 예) digits 이 3 이고 n 이 2 일경우 '002'를 리턴
	*/
	function leadingZeros(n, digits) {
		var zero = '';
		n = n.toString();
		if(n.length < digits){
			for( i = 0 ; i < digits - n.length ; i ++ ){
				zero += '0';
			}
		}
		return zero + n;
	}
	
	// fido2.0 인증 처리
	function fnBio20CrtProc(check,decId,svcCd,osType) {
		if (check == "Y") {
			// fido2.0 인증 처리
			//서버호출... -> 가입여부판단 -> 미가입시 가입의사 확인, -> 서버에서 기가입판단시 인증I/F호출 -> 단말기 함수호출 -> 정상인증처리
			
			//인증객체 초기화
			fidoInfoVO = {};
			
			fidoInfoVO.deviceId = decId;
			fidoInfoVO.svcCode = svcCd;
			fidoInfoVO.osType = osType;
			
			fidoInfoVO.regNo = certRegNo1 +""+ certRegNo2;
			fidoInfoVO.koName = certPtyNm;
			fidoInfoVO.menuCode = certMenuCd;
			fidoInfoVO.certMenuId = certMenuId; 
			fidoInfoVO.authTechCd = mAuthTechCd;
			
			/* 가입여부 판단 및 가입처리-인증처리 호출 */
			var interfaceStr = ""; 
			if ((appInfo.osType =="AOS" && appInfo.appVersion >= "9.9.9") || (appInfo.osType =="IOS" && appInfo.appVersion >= "9.9.9")) {
				interfaceStr = "DHCO0099M46S";
			}else{
				interfaceStr = "DHCO0099M22S";
			}
			
			/* 가입여부 판단 및 가입처리-인증처리 호출 */
			$.blockUI();
			HiJS.svr.doRequestAjax(interfaceStr, {
				data : fidoInfoVO,
				callback : {
					success : function(responseObj) {
						$.unblockUI();
						//console.log("가입여부판단 " + interfaceStr ,responseObj);
						
						if(responseObj.data.errCode == "9999"){
							alert(responseObj.data.errMessage);
							return;
						}else if(responseObj.data.errCode == "9998"){
							// alert(responseObj.data.errMessage);
							//지문 인증 가능 단말 확인(대표모바일 인터페이스 사용)
							if( (appInfo.osType =="AOS" && appInfo.appVersion >= "9.9.9") && authTech != "" && authTech != null && authTech != undefined && authTech.indexOf("100") !== -1 ){
								// 홍채인증 등록되어 있는지 조회
								var srcBioInfoVO = {};
								
								srcBioInfoVO.deviceId = decId;
								srcBioInfoVO.svcCode = svcCd;
								srcBioInfoVO.osType = osType;
								
								srcBioInfoVO.regNo = certRegNo1 + "" + certRegNo2;
								srcBioInfoVO.koName = certPtyNm;
								srcBioInfoVO.menuCode = certMenuCd;
								srcBioInfoVO.certMenuId = certMenuId; 
								
								srcBioInfoVO.authTechCd = "100";
								HiJS.svr.doRequestAjax("DHCO0099M46S", {
									data : srcBioInfoVO,
									callback : {
										success : function(srcResObj) {
											if( srcResObj.data.ptyId != null && srcResObj.data.ptyId != undefined && srcResObj.data.ptyId != "" ){
												confirm("고객님께서는 지문인증에 가입하신 <br /> 내역이 있습니다. 지문인증으로 <br /> 본인인증을 진행하시겠습니까?", "javascript:doFinPrtAuth();","javascript:doBioReg();");	
											}else{
												doBioReg();
											}
										}
									}
								
								});
							}else{
								confirm(responseObj.data.errMessage + "\n 바이오 인증 서비스 가입이 필요합니다. 가입하시겠습니까?","location.href = '/service.do?m=b0b1129284'");
							}
							return;
						}
						
						fidoInfoVO.ptyId = responseObj.data.ptyId;
						
						if(fidoInfoVO.regNo != responseObj.data.regNo || fidoInfoVO.koName != responseObj.data.koName){
							alert("인증처리에 실패하였습니다.");
							return;
						}
						
						if((certRegNo1 +""+ certRegNo2) != responseObj.data.regNo || certPtyNm != responseObj.data.koName){
							alert("인증처리에 실패하였습니다.");
							return;
						}
						
						if (responseObj.data.ptyId != null && responseObj.data.ptyId != undefined && responseObj.data.ptyId != "") {
							fnBio20CrtProc1( fidoInfoVO.authTechCd );
							return;
						}else{
							/**/
							//지문 인증 가능 단말 확인(대표모바일 인터페이스 사용)
							if( (appInfo.osType =="AOS" && appInfo.appVersion >= "9.9.9") && authTech != "" && authTech != null && authTech != undefined && authTech.indexOf("100") !== -1 ){
								// 홍채인증 등록되어 있는지 조회
								var srcBioInfoVO = {};
								
								srcBioInfoVO.deviceId = decId;
								srcBioInfoVO.svcCode = svcCd;
								srcBioInfoVO.osType = osType;
								
								srcBioInfoVO.regNo = certRegNo1 + "" + certRegNo2;
								srcBioInfoVO.koName = certPtyNm;
								srcBioInfoVO.menuCode = certMenuCd;
								srcBioInfoVO.certMenuId = certMenuId; 
								
								srcBioInfoVO.authTechCd = "100";
								HiJS.svr.doRequestAjax("DHCO0099M46S", {
									data : srcBioInfoVO,
									callback : {
										success : function(srcResObj) {
											if( srcResObj.data.ptyId != null && srcResObj.data.ptyId != undefined && srcResObj.data.ptyId != "" ){
												confirm("고객님께서는 지문인증에 가입하신 <br /> 내역이 있습니다. 지문인증으로 <br /> 본인인증을 진행하시겠습니까?", "javascript:doFinPrtAuth();","javascript:doBioReg();");	
											}else{
												doBioReg();
											}
										}
									}
								});
							}else{
								confirm("바이오 인증 서비스 가입이 필요합니다. 가입하시겠습니까?","location.href = '/service.do?m=b0b1129284'");
							}
							
							return;
						}
					},
					failure : function(responseObj) {
						$.unblockUI();
						alert("인증처리중 오류가 발생했습니다.");
						return;
					}
				}
			});
		} else {
			// 문구 확인 필요
			alert("지원 가능 단말이 아닙니다.");
		}
	}
	
	/**
	* FIDO 2.0 바이오인증 인증 1단계(1/2) 전문 호출
	* _authTechCd : 인증 기술 코드 - 홍채:104, 얼굴:105, 장문:115, 개인PIN:116, 삼성패스 바이오인증서 지문:118, 삼성패스 바이오인증서 홍채:119, 패턴얼굴:120
	*/
	function fnBio20CrtProc1( _authTechCd ){
		
		//FIDO 인증 step1
		fidoInfoVO.regNo = $("#regNo1").val() +""+$("#regNo2").val();
		fidoInfoVO.koName = $("#ptyNm").val();
		
		fidoInfoVO.authTechCd = _authTechCd;	  
		
		$.blockUI();
		HiJS.svr.doRequestAjax("DHCO0099M39S", {
			data : fidoInfoVO,
			messageEnabled : false,
			callback : {
				success : function(responseObj) {
					$.unblockUI();
					if(responseObj.data.errCode == '0000'){
						//전문추적번호 set
						fidoInfoVO.tranTraceNo = responseObj.data.v2201.tranTraceNo;
						fnBioReg2115("2115", responseObj.data.v2201.fidoTraceNo, responseObj.data.v2201.authTechCd, "fnBio20CrtProc2");
					}else{
						alert(responseObj.data.errMessage);
					}
				},
				failure : function(responseObj) {
					// 오류시 내역없음 노출
					$.unblockUI();
					alert("바이오인증 등록 중 오류가 발생했습니다.");
				}
			}
		});
	}
	
	/**
	* FIDO 2.0 바이오인증 인증 2단계(2/2) 전문 호출
	* dataKeyVersion : 인증 기술 코드 - 홍채:104, 얼굴:105, 장문:115, 개인PIN:116, 삼성패스 바이오인증서 지문:118, 삼성패스 바이오인증서 홍채:119, 패턴얼굴:120
	*/
	function fnBio20CrtProc2( dataKeyVersion ){
		//FIDO 인증 step2
		fidoInfoVO.fidoRelayAppVersion = dataKeyVersion;
		
		var info = g_etcInfo + " / [birthDt]" + certRegNo1 + " / [authTechCd]" + fidoInfoVO.authTechCd;
		
		fidoInfoVO.appYn      = g_appYn; 
		fidoInfoVO.os         = g_os ; 
		fidoInfoVO.osVer      = g_osVer ; 
		fidoInfoVO.etcInfo    = info ; 
		
		
		var getSessionMenu = "b5eef5f9a4";
		
		$.blockUI();
		HiJS.svr.doRequestAjax("DHCO0099M40S", {
			data : fidoInfoVO,
			messageEnabled : false,
			callback : {
				success : function(responseObj) {
					$.unblockUI();
					if(responseObj.data.certRsltCd == '0000'){
						// 인증성공
						console.log("certMpNo:::::" + certMpNo + " " + responseObj.data.certSeqNo)
						alertCallback = function() {
							fnCloseCertiLayer();
							certCallback("06", responseObj.data.certSeqNo, certMpNo);
						};
						alert("본인확인에 성공하였습니다.", "alertCallback()");	
					}else{
						// 인증실패
						alert(responseObj.data.certRsltMsg + " (" + responseObj.data.certRsltCd +")");
					}
				},
				failure : function(responseObj) {
					// 오류시 내역없음 노출
					$.unblockUI();
					alert("바이오인증 등록 중 오류가 발생했습니다.");
				}
			}
		});
	}
	
	// 홍채 인증
	function doIrisAuth(){
		mAuthTechCd = "119"; // 홍채인증
		fnCheckBioDevice("fnBio20CrtProc");
	}
	// 지문 인증
	function doFinPrtAuth(){
		mAuthTechCd = "100";// 지문인증
		fnCheckBioDevice("fnGoBioCertProc");	// 완료 후 지문인증 프로세스
	}
	// 바이오인증 가입 화면
	function doBioReg(){
		confirm("바이오인증 서비스 가입이 필요합니다. 가입하시겠습니까?","location.href = '/service.do?m=b0b1129284'");
	}
	
	function irisCheck(){
		//var authTech = sessionStorage.getItem("authTechList");
		//홍채 인증 단말 확인
		var appInfo = JSON.parse(sessionStorage.getItem('appInfo'));
		if( appInfo != undefined && (appInfo.osType =="AOS" && appInfo.appVersion >= "9.9.9") && authTech != "" && authTech != null && authTech != undefined && authTech.indexOf("119") !== -1 ){
			console.log("authTech:", authTech);
			/* 
			$("#certificateLayerTab1").css("width", "48.5%");
			$("#certificateLayerTab2").css("width", "48.5%");
			$("#certificateLayerTab3").css("width", "48.5%");
			*/
			//$("#certificateLayerTab2").css("margin-left", "0%");
			$("#certificateLayerTab4").css("display", "");
		}else{
			/*
			$("#certificateLayerTab1").css("width", "32%");
			$("#certificateLayerTab1").css("margin-right", "1%");
			$("#certificateLayerTab2").css("width", "32%");
			$("#certificateLayerTab2").css("margin-left", "0%");
			$("#certificateLayerTab2").css("margin-right", "1%");
			$("#certificateLayerTab3").css("width", "32%");
			$("#certificateLayerTab3").css("margin-left", "0%");
			$("#certificateLayerTab3").css("margin-right", "1%");
			$("#certificateLayerTab3").css("margin-top", "0%");
			$("#certificateLayerTab4").css("display", "none");
			*/
		}
	}
	
	/********************************************************************************************* 
	 * callBackPinCert : PIN인증 성공 후 콜백 함수 - 인증이력(CO_CERT_CRR_T) 및 세션VO(certVO)  세팅 
	 *********************************************************************************************/
	function callBackPinCert(certReqSeqNo){
		 
	 	//console.log("### callBackPinCert -certReqSeqNo=> " + certReqSeqNo ); 
		
	 	$("#certSignMthdCd").val("10491007"); //인증서명상세 : 10491001.휴대폰인증  10491002.공동인증서 10491003.카카오페이 10491004.네이버페이 10491005.휴대폰직접서명 10491006.금융인증서 10491007.PIN번호인증
		
		//* 인증레이어 닫음 */
		closeLayer("certificateLayer");    // 인증 레이어
		
		//* 인증관련 VO 세팅 */
		var dhco0099VO = {
				svcMenuId : certMenuId,
				menuCode : "99",		
				//os       : g_os    ,
				//osVer    : g_osVer ,
				//etcInfo  : info,
				certSignGbCd  		: $("#certSignGbCd").val(), 
				certSignMthdCd  	: $("#certSignMthdCd").val(),
				certSignDetCd 		: $("#certSignDetCd").val(),
				bzCd          		: $("#bzCd").val(),
				bzDetCd       		: $("#bzDetCd").val()
		};
		
		//* 인증 이력 및 세션세팅 VO */
		var certCrrVO = {};
		certCrrVO = {
				certReqSeqNo   : certReqSeqNo,
				dhco0099VO     : dhco0099VO 
		};
		
		//console.log("### callBackPinCert // certCrrVO=>" + JSON.stringify(certCrrVO) );
		HiJS.svr.doRequestAjax("DHCO0150M11S", {
			data : certCrrVO,
			loadingbar : false,
			callback : {
				success : function(responseObj) {	
					var certSeqNo = responseObj.data.dhco0099VO.certSeqNo;
					//console.log("### callBackPinCert //certSeqNo=> " + certSeqNo  ) ; 
					
					//certCallback(인증구분, 인증SEQNO, 핸드폰번호);
					alertCallback = function() {
						certCallback("09", certSeqNo , $("#pinTelNo").val() );
					};
					alert("PIN번호 인증 성공하였습니다.", "alertCallback()");
					
				},
				failure : function(responseObj) {
					console.log("## 이력등록 실패!!");
					alert("PIN번호 인증 이력 저장 중 오류가 발생하였습니다.");
					return; 
				}
			}
		});
	}
	
	/***********************************************************
	 * PIN번호 5회 오류 팝업(layerPinLock)에서 재설정 클릭 시 이벤트
	 **********************************************************/
	function fnPinUnLockLayer(){
		lpCloser('layerPinLock');
		lpPinCert('02');
	}
	
	
	/***********************************************************
	 * 휴대폰,공동인증 등 PIN인증이 아닌 다른 인증 완료 후 바로 PIN인증 등록 할지 팝업 처리하는 경우 ( PIN등록 활성활를 위한 이벤트 처리 )
	 * 팝업에  버튼 클릭에 따른  프로세스 처리
	 **********************************************************/
	function fnPinEvntBtn(yn){
		
		// 팝업 닫기
		lpCloser("layerPinRegEvnt");
		
		if ( yn == "Y" ){
			lpPinCert('10'); // 추가 인증없이 바로 PIN인증 화면으로 이동
		} else {
			alertCallback();  // 인증 완료 후 수행될 다음 단계로 진행
		}
	}
	
	
	
</script>
<div class="popWrap" id="certificateLayer" style="display:none;">
	<header id="certLayerHeader">
		<h1 id="certTitle">본인인증</h1>
	</header>
	<div class="popContent">
		<p class="topTxt01" id="certSubTitle">본인인증을 진행해 주세요.</p>
		<p class="topTxt" id="onlyHpCertTitle" style="display:none;">본인명의의 휴대폰만 인증이 가능합니다.</p>
		<section class="bg" id="selChoisDiv">
		
			<div class="wrapTab tabChois type-flex" id="tabChoisDiv">
	          <a href="javascript:void(0);" role="button" class="certi1 on" id="certificateLayerTab1"><span>휴대폰</span><span class="hide"> 선택됨</span></a>
	          <a href="javascript:void(0);" role="button" class="certi2" id="certificateLayerTab2"><span>공동인증서</span></a>
	          
	          	<a href="javascript:void(0);" role="button" class="certi3" id="certificateLayerTab5"><span>카카오페이</span></a>
	          
	          
	          	<a href="javascript:void(0);" role="button" class="certi5" id="certificateLayerTab6" style=""><span>PIN인증</span></a>
	          
	          <!-- <a href="javascript:void(0);" role="button" class="certi4" id="certificateLayerTab3" style="display: block;"><span>지문인증</span></a> -->
        	</div>
            <!--  
			
	        	
	        		<div class="wrapTab tabChois bio type4" id="tabChoisDiv">
						<a href="javascript:void(0);" role="button" class="certi1 on" id="certificateLayerTab1"><span>휴대폰</span></a>
						<a href="javascript:void(0);" onclick="javascript:void(0);" role="button" class="certi2" id="certificateLayerTab2"><span>공동인증서</span></a>
						<a href="javascript:void(0);" onclick="javascript:void(0);" role="button" class="certi3" id="certificateLayerTab5" ><span>카카오페이</span></a>
						<a href="javascript:void(0);" onclick="javascript:void(0);" role="button" class="certi5" id="certificateLayerTab6" ><span>PIN인증</span></a>
						<a href="javascript:void(0);" onclick="javascript:void(0);" role="button" class="certi4" id="certificateLayerTab3"><span>지문인증</span></a>
					</div>
	        	
	        	
	        
	        -->
		</section>
		
		<!-- 휴대폰인증 -->
		<section id="cont1">
			<div class="h2Btn">
			<h2><span>(필수)</span>휴대폰 인증을 위한 동의</h2>
				
				<a href="javascript:fnCertiMPReSendPass();"><span id="certiPassSpan">!!!인증패스!!!</span></a>
				
				<a href="javascript:void(0);" class="bgGrey check commonCheck">전체동의</a>
			</div>
				
			<form name="certificateMPFrm" id="certificateMPFrm" method="post">
				<input type="hidden" name="ptyNm">
				<input type="hidden" name="regNo1">
				<input type="hidden" name="regNo2">
				<input type="hidden" name="mvComeanCat" id="mvComeanCat">
				<!--
				<div class="agreeCtr">
					<a href="javascript:void(0);" id="allMpSel" onclick="fnAllMpSel();" class="allAgr" role="button" title="약관 전체동의하기">전체동의</a>
					<button class="btnView"><span class="state">약관 닫기</span></button>
				</div> -->
				
				<!-- 
				<ul class="termCont" id="termContCert"> -->
				<ul class="termCont type2" id="termContCert">
					<li>
						<input type="checkbox" id="mpSel01" name="mpSel1">
						<label for="mpSel01"><span class="hide">개인정보 이용 동의</span></label>
						<a href="javascript:void(0);" onclick="javascript:lpOpener('agreeProvision01');">개인정보 이용 동의</a>
					</li>
					<li>
						<input type="checkbox" id="mpSel03" name="mpSel2">
						<label for="mpSel03"><span class="hide">고유식별정보처리 동의</span></label>
						<a href="javascript:void(0);" onclick="javascript:lpOpener('agreeProvision02');">고유식별정보처리 동의</a>
					</li>
					<li>
						<input type="checkbox" id="mpSel05" name="mpSel3">
						<label for="mpSel05"><span class="hide">서비스이용약관 동의</span></label>
						<a href="javascript:void(0);" onclick="javascript:lpOpener('agreeProvision03');">서비스이용약관 동의</a>
					</li>
					<li>
						<input type="checkbox" id="mpSel07" name="mpSel4">
						<label for="mpSel07"><span class="hide">통신사이용약관 동의</span></label>
						<a href="javascript:void(0);" onclick="javascript:lpOpener('agreeProvision04');">통신사이용약관 동의</a>
					</li>
				</ul>
				
				<h2>휴대폰 인증 정보 입력</h2>
				<!-- 20180719 kjh -->
				<div class="itemPack selecttype1">
					<ul class="itemListN3">
						<li style="height: 61px;">
							<a href="javascript:setMvComeanCat('1');" role="button" style="height: 100%; padding: 0.1rem 0px;">
								<div class="cont">SKT</div>
							</a>
						</li>
						<li style="height: 61px;">
							<a href="javascript:setMvComeanCat('2');" role="button" style="height: 100%; padding: 0.1rem 0px;">
								<div class="cont">KT</div>
							</a>
						</li>
						<li style="height: 61px;">
							<a href="javascript:setMvComeanCat('3');" role="button" style="height: 100%; padding: 0.1rem 0px;">
								<div class="cont">LGT</div>
							</a>
						</li>
						<li style="height: 61px;">
							<a href="javascript:setMvComeanCat('4');" role="button" style="height: 100%; padding: 0.1rem 0px;">
								<div class="cont">SKT알뜰</div>
							</a>
						</li>
						<li style="height: 61px;">
							<a href="javascript:setMvComeanCat('5');" role="button" style="height: 100%; padding: 0.1rem 0px;">
								<div class="cont">KT알뜰</div>
							</a>
						</li>
						<li style="height: 61px;">
							<a href="javascript:setMvComeanCat('6');" role="button" style="height: 100%; padding: 0.1rem 0px;">
								<div class="cont">LGT알뜰</div>
							</a>
						</li>
					</ul>
				</div>
				<!-- //20180719 kjh -->
				
				<fieldset>
					<legend>휴대폰 인증 정보 입력</legend>
					<!-- 20180719 kjh
					<div class="inputWrap">
						<select id="mvComeanCat" name="mvComeanCat" title="통신사 선택">
							<option value="0">통신사 선택</option>
							<option value="1">SKT</option>
							<option value="2">KT</option>
							<option value="3">LGT</option>
							<option value="4">SKT알뜰</option>
							<option value="5">KT알뜰</option>
							<option value="6">LGT알뜰</option>
						</select>
					</div>-->
					
					<div class="inputWrap btn mgtM">
						<input type="tel" id="mpNo" name="mpNo" maxlength="11" required=""><label for="mpNo">휴대폰 번호(-없이 입력)</label>
						<!-- 
						<a href="javascript:void(0);" onclick="javascript:fnCertiMPSend();">인증번호 받기</a> -->
						<a href="javascript:void(0);" id="hpCertNoSndBtn" class="bgGrey w110 rqstnum">인증번호받기</a> <!-- 20180719 kjh -->
					</div>
					<div class="inputWrap">
						<input type="tel" id="smsNo" name="smsNo" maxlength="6" required=""><label for="smsNo">인증번호(6자리)</label>
						<span id="certTimer"></span>
					</div>
				</fieldset>
				
				<ul class="listDot">
					<li>고객님의 소중한 정보는 개인정보 처리지침에 따라 안전하게 관리되며, 인증비용은 현대해상에서 부담합니다.</li>
				</ul>
			</form>
		</section>
		<!-- 카카오페이인증 -->
		<section id="cont2" class="pdtS" style="display:none;">
			<h2 class="blind">카카오페이 인증</h2>
			
			<form name="certkakaoPayAuthFrm" id="certkakaoPayAuthFrm" method="post">
				<input type="hidden" name="ptyNm">
				<input type="hidden" name="regNo1">
				<input type="hidden" name="regNo2">
				
				<div class="certKakaoInfo">카카오페이 인증은 본인명의 휴대폰에<br>카카오톡 어플이 설치되어 있어야 합니다.</div>
				
				<div class="h2Btn mgtM">
					<h2><span>(필수)</span>카카오페이 인증을 위한 동의</h2>
					<a href="javascript:void(0);" class="bgGrey check commonCheck">전체동의</a>
				</div>          
				<ul class="termCont type2" id="termContCert">
					<li>
						<input type="checkbox" id="mpSel11" name="mpSel1">
						<label for="mpSel11"><span class="hide">개인(신용)정보의 수집·이용에 관한 사항</span></label>
						<a href="javascript:void(0);" onclick="javascript:openLayer('kakaopay_agree1');">개인(신용)정보의 수집·이용에 관한 사항</a>
					</li>
					<li>
						<input type="checkbox" id="mpSel13" name="mpSel2">
						<label for="mpSel33"><span class="hide">개인(신용)정보의 제공에 관한 사항</span></label>
						<a href="javascript:void(0);" onclick="javascript:openLayer('kakaopay_agree2');">개인(신용)정보의 제공에 관한 사항</a>
					</li>        
				</ul>

				<div class="inputWrap btn">
					<input type="tel" id="mpNo" name="mpNo" maxlength="11" required=""><label for="mpNo">휴대폰 번호(-없이 입력)</label>
				</div>
				
				<p class="mgtL"><span class="fontBlue">카카오페이 인증서를 이미 발급 받으신 고객님</span>은 바로 인증확인이 진행 됩니다.</p>
				<div class="btn">
					<a href="javascript:void(0);" onclick="javascript:lpOpener('kakaoPayAuthGuideInfoLayer');" role="button" class="blue buKakao">카카오페이 인증방법 안내</a>
				</div>
				
				<p class="mgtL"><span class="fontBlue">카카오페이 인증서가 없는 고객님</span>은 카카오페이 인증서 발급이 먼저 진행되며, 인증서 발급완료 후 인증 됩니다.</p>
				<div class="btn">
					<a href="javascript:void(0);" onclick="javascript:lpOpener('kakaoPayAuthIssueInfoLayer');" role="button" class="blue buKakao">카카오페이 인증서 발급 방법 안내</a>
				</div>
				
				<ul class="listDot">
					<li>카카오페이 인증관련 장애 문의는 고객센터(<a href="tel:1644-7405">1644-7405</a>)로 문의하시기 바랍니다.</li>
				</ul>
			</form>
		</section>
		<!-- // 카카오페이인증 /1911 -->
		
		<!-- PIN 인증 내보험진단 이벤트 배너 2207 : s -->
		<ul class="carBnList" id="pinEvntBanner" style="display:none;">
	    <li>
	      <a href="javascript:void(0);" onclick="openLayer('pinEventPop');"><img src="https://mdirect.hi.co.kr/images/event/202207003/m_info_bn_2207PIN.png" alt="PIN 인증으로 보험 진단받고 푸짐한 경품 받아가세요!"></a>
	    </li>
  	    </ul>
	 	<!--// PIN 인증 내보험진단 이벤트 배너 2207 : e -->
		
		<!-- PIN번호 인증 -->
		<section id="cont6" class="pdtS" style="display:none;">
			
			<h2 class="blind">PIN번호 인증</h2>
			<form name="pinForm" id="pinForm" action="" method="post" accept-charset="">
					<input type="hidden" name="chGb" id="chGb" value="10571002"> <!-- 채널구분 -->
					<input type="hidden" name="runMode" id="runMode" value="L"> <!-- 채널구분 -->
					<input type="hidden" name="work" id="work" value="10581001"> <!-- 업무구분 -->
					<input type="hidden" name="pinSeqNo" id="pinSeqNo" value=""> <!-- PIN번호SEQNO -->
					<input type="hidden" name="pinReqGid" id="pinReqGid" value=""> <!-- PIN번호GID -->
					<input type="hidden" name="pinTelNo" id="pinTelNo" value=""> <!-- PIN번호인증을 위한 전화번호 -->
					<input type="hidden" name="pinKorNm" id="pinKorNm" value=""> <!-- PIN번호인증을 위한 이름  -->
					<input type="hidden" name="pinViewGb" id="pinViewGb" value="00"> <!-- PIN번호 화면 구분값 00.인증 01.등록 02.초기화 -->
					<input type="hidden" name="pinPopGb" id="pinPopGb" value="02"> <!-- PIN번호 화면 구분값 00.인증 01.등록 02.초기화 -->
				    <input type="hidden" name="IF_runYn" id="IF_runYn" value="Y"> <!-- 인터페이스 호출할지 여부 -->
				    <input type="hidden" name="pinPtyId" id="pinPtyId" value="">  <!-- 당사자ID  -->
				    <input type="hidden" name="pinRegYn" id="pinRegYn" value="">  <!-- PIN등록 여부  -->
				    <input type="hidden" name="sysId" id="sysId" value="999990">  <!-- 시스템 ID  -->
				    <input type="hidden" name="loadPinCert" id="loadPinCert"> 
			</form>
			<iframe name="ifmPinCertView" id="ifmPinCertView" style="width:100%;height:300px;" frameborder="0" allow-scripts="" allow-popups="" allow-same-origin=""></iframe>
		</section>
		
		<div id="certLayerBtn" class="btnWrap">
			<span><a href="javascript:void(0);" id="certLayerCnlBtn" onclick="javascript:fnCloseCertiLayer();" role="button">취소</a></span>
			<span><a href="javascript:void(0);" class="on" onclick="javascript:fnCertSend();" role="button" id="certBtn">확인</a></span>
		</div>
	</div>
	<button type="button" class="btnClose" id="certLayerX" onclick="javascript:fnCloseCertiLayer();">창닫기</button>
</div>

<!-- 개인정보 이용 동의 레이어팝업 -->
<div class="layerPopup" id="agreeProvision01" aria-hidden="true" style="opacity: 0;">
	<div class="layerWrap">
		<h2>개인정보 이용 동의</h2>
		<div class="layerCont">
			<p>확인하실 약관을 선택해 주세요.</p>
		</div>
		<div class="btn">
			<span><a href="https://pcc.siren24.com/pcc_V3/privacy2.html" onclick="javascript:lpCloser('agreeProvision01');" target="_blank" role="button">SCI평가정보</a></span>
			<span><a href="https://cert.vno.co.kr/app/agree/agree_m_01.jsp" onclick="javascript:lpCloser('agreeProvision01');" target="_blank" role="button">NICE평가정보</a></span>
		</div>
		<a href="javascript:void(0);" onclick="javascript:lpCloser('agreeProvision01');" class="layerClose" role="button">닫기</a>
	</div>
</div>
<!-- 고유식별정보처리 동의 레이어팝업 -->
<div class="layerPopup" id="agreeProvision02" aria-hidden="true" style="opacity: 0;">
	<div class="layerWrap">
		<h2>고유식별정보처리 동의</h2>
		<div class="layerCont">
			<p>확인하실 약관을 선택해 주세요.</p>
		</div>
		<div class="btn">
			<span><a href="https://pcc.siren24.com/pcc_V3/sbPrivacy.html" onclick="javascript:lpCloser('agreeProvision02');" target="_blank" role="button">SCI평가정보</a></span>
			<span><a href="https://cert.vno.co.kr/app/agree/agree_m_02.jsp" onclick="javascript:lpCloser('agreeProvision02');" target="_blank" role="button">NICE평가정보</a></span>
		</div>
		<a href="javascript:void(0);" onclick="javascript:lpCloser('agreeProvision02');" class="layerClose" role="button">닫기</a>
	</div>
</div>
<!-- 서비스이용약관 동의 레이어팝업 -->
<div class="layerPopup" id="agreeProvision03" aria-hidden="true" style="opacity: 0;">
	<div class="layerWrap">
		<h2>서비스이용약관 동의</h2>
		<div class="layerCont">
			<p>확인하실 약관을 선택해 주세요.</p>
		</div>
		<div class="btn">
			<span><a href="https://pcc.siren24.com/pcc_V3/inPrivacy.html" onclick="javascript:lpCloser('agreeProvision03');" target="_blank" role="button">SCI평가정보</a></span>
			<span><a href="https://cert.vno.co.kr/app/agree/agree_m_04.jsp" onclick="javascript:lpCloser('agreeProvision03');" target="_blank" role="button">NICE평가정보</a></span>
		</div>
		<a href="javascript:void(0);" onclick="javascript:lpCloser('agreeProvision03');" class="layerClose" role="button">닫기</a>
	</div>
</div>
<!-- 통신사이용약관 동의 레이어팝업 -->
<div class="layerPopup" id="agreeProvision04" aria-hidden="true" style="opacity: 0;">
	<div class="layerWrap">
		<h2>통신사이용약관 동의</h2>
		<div class="layerCont">
			<p>확인하실 약관을 선택해 주세요.</p>
		</div>
		<div class="btn">
			<span><a href="https://pcc.siren24.com/pcc_V3/inPrivacyMvno.html" onclick="javascript:lpCloser('agreeProvision04');" target="_blank" role="button">SCI평가정보</a></span>
			<span><a href="https://cert.vno.co.kr/app/agree/agree_m_03.jsp" onclick="javascript:lpCloser('agreeProvision04');" target="_blank" role="button">NICE평가정보</a></span>
		</div>
		<a href="javascript:void(0);" onclick="javascript:lpCloser('agreeProvision04');" class="layerClose" role="button">닫기</a>
	</div>
</div>

<!-- 개인(신용)정보의 수집·이용에 관한 사항 - 카카오페이인증 /2001 -->
<div class="popWrap" id="kakaopay_agree1" style="display:none;">
  <header>
    <h1>개인(신용)정보의 수집·이용에 관한 사항</h1>
  </header>
  <div class="popContent">
    <section class="agrSection">
      <div style="font-size:15px;">
        <p style="font-size:18px;">당사 및 당사 업무수탁자는 「개인정보 보호법」 및 「신용정보의 이용 및 보호에 관한 법률」에 따라 귀하의 개인(신용)정보를 다음과 같이 <strong>수집·이용</strong>하고자 합니다. 이에 대하여 동의하십니까?</p>
        <br>
        
        <ul> 
          <li style="line-height:27px; margin-top:7px;"><strong>- 수집·이용 목적 : 본인인증</strong></li>
          <li style="line-height:27px; margin-top:7px;"><strong>- 수집항목 : 이름, 생년월일, 휴대폰번호</strong></li>
        </ul>          
      </div>
    </section>
    <div class="btnWrap">
      <a href="javascript:void(0);" onclick="closeLayer('kakaopay_agree1');" role="button">확인</a>
    </div>
  </div>
  <button type="button" class="btnClose" onclick="closeLayer('kakaopay_agree1');">창닫기</button>
</div>
<!-- // 개인(신용)정보의 수집·이용에 관한 사항 - 카카오페이인증 /2001 -->

<!-- 개인(신용)정보의 제공에 관한 사항 - 카카오페이인증 /2001 -->
<div class="popWrap" id="kakaopay_agree2" style="display:none;">
  <header>
    <h1>개인(신용)정보의 제공에 관한 사항</h1>
  </header>
  <div class="popContent">
    <section class="agrSection">
      <div style="font-size:15px;">
        <p style="font-size:18px;">당사는「개인정보 보호법」 및 「신용정보의 이용 및 보호에 관한 법률」에 따라 귀하의 개인(신용)정보를 다음과 같이 제3자에게 <strong>제공</strong>하고자 합니다. 이에 대하여 동의하십니까?</p>
        <br>
        
        <ul> 
          <li style="line-height:27px; margin-top:7px;"><strong>- 제공목적 : 본인인증</strong></li>
          <li style="line-height:27px; margin-top:7px;"><strong>- 제공받는자 : (주)카카오페이</strong></li>
          <li style="line-height:27px; margin-top:7px;"><strong>- 제공항목 : 이름, 생년월일, 휴대폰번호</strong></li>
        </ul>          
      </div>
    </section>
    <div class="btnWrap">
      <a href="javascript:void(0);" onclick="closeLayer('kakaopay_agree2');" role="button">확인</a>
    </div>
  </div>
  <button type="button" class="btnClose" onclick="closeLayer('kakaopay_agree2');">창닫기</button>
</div>
<!-- // 개인(신용)정보의 제공에 관한 사항 - 카카오페이인증 /2001 -->


<!-- PIN번호 인증 5회 오류 시 처리 -->
<div class="layerPopup" id="layerPinLock" style="display: none; opacity: 0;" aria-hidden="true">
	<div class="layerWrap">
		<h2>PIN번호 재설정 안내</h2>
		<div class="layerCont">
			<p>PIN번호 불일치(5회)로 본인인증 후 재설정이 필요합니다.</p>
		</div>
		<div class="layerBtn">
			<span><a href="javascript:void(0);" onclick="javascript:lpPinCert('02')" class="on" role="button">PIN번호 재설정</a></span>
			<span><a href="javascript:void(0);" onclick="javascript:lpCloser('layerPinLock')" role="button">닫기</a></span>
		</div>
		<a href="javascript:void(0);" onclick="javascript:lpCloser('layerPinLock');" class="layerClose" role="button">닫기</a>
	</div>
</div>

<!-- PIN인증 등록 및 초기화 팝업 -->
<div class="layerPopup" id="pinCertLayer" style="display: none; opacity: 0;" aria-hidden="true">
	<div style="height:100%;">
		<iframe name="ifmPinCertChg" id="ifmPinCertChg" src="" frameborder="0" style="width:100%; height:100%; overflow: auto" allow-scripts="" allow-popups="" allow-same-origin=""></iframe>
	</div>
</div>
<!-- // PIN인증 등록 및 초기화 팝업 -->

<!-- PIN인증 등록 이벤트 ( 타인증시 바로 등록 가능하게 처리 ) -->
<div class="layerPopup" id="layerPinRegEvnt" style="display: none; opacity: 0;" aria-hidden="true">
	<div class="layerWrap">
		<div class="layerCont">
			<div class="alertCont">
				<p class="txt01" id=""><b>본인확인에 성공하였습니다.</b><br><br><b>간편한 <span class="fontOrg">6자리 숫자</span>(PIN번호)등록</b>하시고 <br>앞으로 편리하게 본인인증하세요!</p>
			</div>
		</div>
		<div class="layerBtn">
			<span style="width:30%"><a href="javascript:fnPinEvntBtn('N');" id="">다음에</a></span>
			<span style="width:70%"><a href="javascript:fnPinEvntBtn('Y');" id="" class="on">PIN번호 등록하기</a></span>
		</div>
	</div>
</div>
<!-- // PIN인증 등록 이벤트 ( 타인증시 바로 등록 가능하게 처리 ) --> <!-- 인증 팝업 -->




<c:set var="prod_cd_per" value="5117"> 				<!-- 개인용 보종코드 -->
<c:set var="prod_cd_biz" value="5213"> 				<!-- 업무용 보종코드 -->

<script type="text/javascript">
	var btnIdx = 1;
	var btnMax = 0;
	// 최근 계산 내역 팝업
	function fnEasyPremListDisplay(easyPremList, carList) {
		
		btnIdx = 1;
		btnMax = 0;
		
		if (easyPremList.length > 0) {
			
			var appendHtml = '';
			var stepCdNm = "";
			$.each(easyPremList, function (idx, easyObj){
				
				stepCdNm = "STEP ";
				stepCdNm += easyObj.stepCd.substring(0,1);
				
				appendHtml += "<li id='idx_"+idx+"' style='display:none;'>";
				appendHtml += "<a href=\"javascript:fnMtEasyPremCal('"+easyObj.inagNo +"', '"+easyObj.inagNoSeq+"', '"+easyObj.inagCat+"', '"+easyObj.prodCd+"', '"+easyObj.stepCd+"', '"+easyObj.clk2CallId+"');\" role=\"button\">";
				appendHtml += "<dl class=\"boxContList\">";
				appendHtml += "<dt>";
				appendHtml += "<strong>자동차보험</strong>";
				if(easyObj.inagNoSeq != "00000") {
					appendHtml += "<span>" + maskingAgmtNo(easyObj.inagNo) + "-" + easyObj.inagNoSeq + "</span>";
				}else {
					appendHtml += "<span>" +maskingAgmtNo( easyObj.inagNo) + "</span>";
				}
				appendHtml += "<em>" + replaceAll(easyObj.planDtm, '-', '.') + "</em>";
				appendHtml += "</dt>";
				appendHtml += "<dd>";
				appendHtml += "<p><em class=\"tagBlue\">"+stepCdNm+"</em><span>" + easyObj.inagCatNm + "</span><strong>단계</strong></p>";
				appendHtml += "<ul class=\"list\">";
				appendHtml += "<li class=\"cont\">";
				appendHtml += "<strong>차량</strong>";	
				appendHtml += "<span>"+maskingCarAutoNo(easyObj.autoNo)+"</span>";
				appendHtml += "</li>";
				appendHtml += "<li class=\"cont\">";
				appendHtml += "<strong>보험기간</strong>";	
				appendHtml += "<span>"+easyObj.premTerm+"</span>";
				appendHtml += "</li>";
				appendHtml += "<li>";
				appendHtml += "<strong>보험료</strong>";
				//appendHtml += "<span>"+easyObj.prem+"원</span>";
				if (easyObj.prem == "0") {
					appendHtml += "<span>보험료 계산전</span>";
				} else {
					appendHtml += "<span>"+easyObj.prem+"원</span>";
				}
				appendHtml += "</li>";
				appendHtml += "</ul>";
				appendHtml += "</dd>";
				appendHtml += "</dl>";
				appendHtml += "</a>";
				appendHtml += "</li>";
				
			});
			
			$('#planInfoUl').append(appendHtml);
			$('.noResult').hide();
			btnMax = easyPremList.length;
			fnBtnShowMore();
			
		} else {
			
			$('.noResult').show();
			$('.btnMore').hide();
			
		}
		
		openLayer('planInfoLayer');
		
	}
	
	// 최근계산내역 바로가기
	function fnEasyPremCal(inagNo, inagNoSeq, inagCat, prodCd){
		
		$('#preNextCat').val('1');
		$('#inagNo').val(inagNo);
		$('#inagNoSeq').val(inagNoSeq);
		$('#inagCat').val(inagCat);
		$('#prodCd').val(prodCd);
		$('#form1').append('<input type="hidden" id="prevVal" name="prevVal" value="1" />');
		HiJS.svr.doRequestForm('5304fc93e5', 'form1');
		
	}
	
	function fnMtEasyPremCal(inagNo, inagNoSeq, inagCat, prodCd, stepCd, clk2CallId){
		//alert("fnMtEasyPremCal>stepCd:"+stepCd);
		
		// 임시거르기
		if(prodCd != '5117' && prodCd != '5213' && prodCd != '5114' && prodCd != '5209'){
			alertPopup('보종코드[' + prodCd + ']가 CM상품이 아닙니다. 5117, 5213, 5114, 5209만 가능합니다.','ok');
			return;
		}
		
		// 에이스 카운터 추가	
		var acecounterurl = document.location.hostname + '/service.do?m=c999999902';		// 이전산출
//  		acecounterurl = document.location.hostname + '/service.do?m=c999999901';		// 갱신일경우 (현재 삭제)
		
		if (typeof (_PL) == 'function') {
			try{
				_PL(acecounterurl);
			}catch(e){
			}
		}
		
		$('#inagNo').val(inagNo);
		$('#inagNoSeq').val(inagNoSeq);
		$('#inagCat').val(inagCat);
		$('#preNextCat').val('1');
		/* khsp1110 */		
//		console.log("khsp***clk2CallId:"+clk2CallId+",stepCd:"+stepCd);
		$('#clk2CallId').val(clk2CallId);
		$('#stepCd').val(stepCd);
		if($("#planInfoLayer").css("display") == "block"  ) {
			$('#form1').append('<input type="hidden" id="ltCalcYn" name="ltCalcYn" value="Y" />');
		}
		//HiJS.svr.doRequestForm('DHMT0100M41S','form1', 'MT/PC/MTPC0400G.jsp'); /*
       
	    sessionStorage.setItem("bfCalcHisStep", stepCd ); // 최근계산내역으로 이동 시 이동 단계
        switch(stepCd)
        {
	        case "70":	// 보험료결제 진입
//            	HiJS.svr.doRequestForm('bd45815dfa','form1');	// tranId=DHMT0100M41S&view=MT/PC/MTPC0500G.jsp
            	HiJS.svr.doRequestForm('5304fc93e5','form1');	// tranId=DHMT0100M41S&view=MT/PC/MTPC0400G.jsp
//				HiJS.svr.doRequestForm('78db00a077','form1');	// tranId=DHMT0100M44S&view=MT/PC/MTPC0500G.jsp
	        	break;
	        case "60":	// 보험료결제 진입
//            	HiJS.svr.doRequestForm('bd45815dfa','form1');	// tranId=DHMT0100M41S&view=MT/PC/MTPC0500G.jsp
	        //	HiJS.svr.doRequestForm('19e1050a45','form1');	//tranId=DHMT0100M41S&view=MT/PC/MTPC0600G.jsp
//            	HiJS.svr.doRequestForm('aaa6f87ebf','form1');	// tranId=DHMT0500M06S&view=MT/PC/MTPC0500G.jsp
            	HiJS.svr.doRequestForm('5304fc93e5','form1');	// tranId=DHMT0100M41S&view=MT/PC/MTPC0400G.jsp
//            	HiJS.svr.doRequestForm('78db00a077','form1');	// tranId=DHMT0100M44S&view=MT/PC/MTPC0500G.jsp
	        	break;
	        case "50":	// 청약내용확인 진입
//            	HiJS.svr.doRequestForm('bd45815dfa','form1');	// tranId=DHMT0100M41S&view=MT/PC/MTPC0500G.jsp
//	        	HiJS.svr.doRequestForm('5146b0ef45','form1');		//tranId=DHMT0500M06S&view=MT/PC/MTPC0600G.jsp
//            	HiJS.svr.doRequestForm('aaa6f87ebf','form1');	// tranId=DHMT0500M06S&view=MT/PC/MTPC0500G.jsp
            	HiJS.svr.doRequestForm('5304fc93e5','form1');	// tranId=DHMT0100M41S&view=MT/PC/MTPC0400G.jsp
//            	HiJS.svr.doRequestForm('78db00a077','form1');	// tranId=DHMT0100M44S&view=MT/PC/MTPC0500G.jsp
	        	break;
	        case "40":	// 피보험자/계약자정보 진입
//            	HiJS.svr.doRequestForm('DHMT0100M41S','form1', 'MT/PC/MTPC0500G.jsp');
	        	//HiJS.svr.doRequestForm('DHMT0100M41S','form1', 'MT/PC/MTPC0400G.jsp');
            	//HiJS.svr.doRequestForm('bd45815dfa','form1');	// tranId=DHMT0100M41S&view=MT/PC/MTPC0500G.jsp
            	HiJS.svr.doRequestForm('5304fc93e5','form1');	// tranId=DHMT0100M41S&view=MT/PC/MTPC0400G.jsp
            	//HiJS.svr.doRequestForm('78db00a077','form1');	// tranId=DHMT0100M44S&view=MT/PC/MTPC0500G.jsp
	        	break;
	        case "32":	// 보험료계산 진입
	        	HiJS.svr.doRequestForm('2d69664fef','form1');	//tranId=DHMT0400M11S&view=MT/PC/MTPC0400G.jsp
	        	break;
	        case "31":	// 추가할인특약 진입
//	        	HiJS.svr.doRequestForm('DHMT0300M11S','form1', 'MT/PC/MTPC0310G.jsp');
	        	HiJS.svr.doRequestForm('b8ea03a350','form1');	// /service.do?tranId=DHMT0300M13S&view=MT/PC/MTPC0310G.jsp
	        	break;
	        case "22":	// 운전자정보 진입
	        	HiJS.svr.doRequestForm('b8ea03a350','form1');	// /service.do?tranId=DHMT0300M13S&view=MT/PC/MTPC0310G.jsp
	        	break;
	        case "21":	// 차량상세정보 진입
	        	HiJS.svr.doRequestForm('f79905d7e0','form1');	// /service.do?tranId=DHMT0200M23S&view=MT/PC/MTPC0230G.jsp
	        	break;
			default:
				;
        }
		// khsp1110 */		
	}
	
	// 더보기
	function fnBtnShowMore(){

		$('#planInfoUl > li').each(function (idx) {
			if (btnIdx *10 > idx) {
				$(this).show();
			}
		});
		
		if (btnIdx *10 < btnMax) {
			$('#moreText').text("더보기("+btnIdx*10+"/"+btnMax+")");
			$('.btnMore').show();
			btnIdx++;
		} else {
			$('.btnMore').hide();
		}
	}
	
	// 다음단계 이동
	function fnMoveNext2(){
		// 2-1 이동
		fnCloseAgreeLayer();
		closeLayer('planInfoLayer');
		$('#preNextCat').val('1');
		
		if ($('#carListSize').val() > 0) {
			$("#stepHistCd").val('10051001');
			HiJS.svr.doRequestForm('ceda0cf40f', 'form1');
		} else { //개발원 차량 목록이 없을 경우
			$("#stepHistCd").val('10051001'); // 차량 종류 및 차대, 차번 등록 페이지 이동시 histCd
			HiJS.svr.doRequestForm('eda936e232', 'form1');
		}
	}
	
	// 취소
	function fnCancel() {
		HiJS.svr.doRequestForm('b5eef5f9a4', 'form1');
	}

	// 유효성 체크
	function fnInputVldChk(){
		return true;
	}
</script>


<div id="planInfoLayer" class="popWrap" style="display: none">
	<header>
		<h1>최근 계산 내역</h1>
	</header>
	<div class="popContent">
		<p class="topTxt">최근 45일 간 자동차보험 보험료 계산한 내역입니다.<br>목록 선택 후 이어서 진행하실 수 있습니다.</p>

		<section>
			<ul id="planInfoUl">
			</ul>

			<div class="noResult">
				<p>최근 계산 내역이 없습니다.</p>
			</div>

			<div class="btnMore">
				<a href="javascript:fnBtnShowMore();" role="button"><span id="moreText"></span></a>
			</div>
			
		</section>
		<div class="btnWrap"><!-- style 화면하단고정타입 버튼영역 위치변경, class 삭제 -->
			<!-- <span><a href="javascript:fnCancel();" role="button">취소</a></span> -->
			<span><a href="javascript:fnMoveNext2();" role="button" class="on">보험료 새로 계산하기</a></span>
		</div>
	</div>
	<!-- <button type="button" class="btnClose" onclick="javascript:fnCancel();">창닫기</button> -->
	<button type="button" class="btnClose" onclick="javascript:fnMoveNext2();">창닫기</button>
</div> <!-- 최근계산내역 팝업 -->





<meta name="format-detection" content="telephone=no">
<script type="text/javascript" src="./js/xkeypad_config.js?202006"></script>
<script type="text/javascript" src="./js/xkeypad_mobile.js?202006"></script>


<script type="text/javascript">
	
	var aXKModuleObj = {};
	
	// 숫자 키패드
	$(document).on("click focus", "input[xecureNumPad]", function(e) {
 	 // if ("D" != "D") {
			$("#" + e.target.id).attr("readonly", true);
			$("#" + e.target.id).attr("data-click","close");
			$("#" + e.target.id).removeAttr("aXKDec");
			if (aXKModuleObj[e.target.id] == undefined || aXKModuleObj[e.target.id] == null) {
				aXKModuleObj[e.target.id] = new XKModule();
			}
			
			var secuMaxLength = 8;
			if ($(this).attr("maxlength") != undefined) {
				secuMaxLength = Number($(this).attr("maxlength"));
			}
			
			// 키패드 영역 Div Id로 사용되는 String
			var aName = "xk-pad";
			var aKeyType = "number"; // qwertysmart, number
			
			// 키패드를 생성하는 함수 initialize (retrun : -1(지원하지 않는 기기), -2(다른 키패드가 실행 중)
			var aPositionInfo = {};
			var aOnlyMobile = true; //onlyMobile		 : 모바일에서만 실행할지 여부 ( true/false, default: true )
			if("" == "B648"){
				aOnlyMobile = false;
			}
			
			var aRet = aXKModuleObj[e.target.id].initialize({
				name               : aName,
				editBox            : e.target,
				keyType            : aKeyType,
				maxInputSize       : secuMaxLength,
				width              : 100,
				position           : aPositionInfo,
				onlyMobile		   : aOnlyMobile,
				onInputChange      : function (newLength) {
					// Ex. 키패드 입력 길이가 최대 입력 길이가 됐을 때 키패드 닫기
					if(newLength === secuMaxLength && aXKModuleObj[e.target.id].isOpend()) {
						closeKeypad();
					}
				},
				onKeypadClose      : function () {
					// 키패드가 닫혔을 때 실행될 로직 작성
				},
			});
			
			if (aRet == -1) {
				/*
				$("#" + e.target.id).blur();
				$("#" + e.target.id).removeAttr("xecureNumPad");
				$("#" + e.target.id).attr("readonly", false);
				aXKModuleObj[e.target.id] = undefined;
				*/
				alert("지원하지 않는 기기 입니다.");
			} else {
				
				// 보안키패드 이외의 영역을 터치 했을때 보안키패드 닫음
				 $("body").on("click", function(e){

				try {
			            var target=e.target;
			            var closeYn=$(target).data("click");  //checkbox와 키패드 inputbox에 data-click=close를 추가함..

			            if(closeYn!='close' && !($(target).parents().hasClass("xkp_ui_number") || $(target).parents().hasClass("xkp_ui_qwerty"))){  //가상키패드 및 키패드적용 inputbox, 키패드체크박스를 제외하고 가상키패드를 닫는다. 
			            	// aXKModuleObj[e.target.id].close();
			            	closeKeypad();
			            }
			            
			        } catch (e) {
						
					}
			     });
			}
		//}
	});
	
	// 보안키패드 암호값 세팅
	function concatXkSessionInfo(editBoxId) {
		//if ("D" != "D") {
			if ($("#"+editBoxId).attr("aXKDec") != "Y") {
				if (aXKModuleObj[editBoxId] != undefined) {
					var xkSeparator = "__DIMOB__";
					var aXkSessionInfo = aXKModuleObj[editBoxId].get_sessionInfo();
					var aXkSessionId = aXkSessionInfo.sessionId;
					var aXkSecToken = aXkSessionInfo.secToken;
					var aXkIndexed = aXkSessionInfo.input;
					var concatEncStr = aXkSessionId + xkSeparator + aXkSecToken + xkSeparator + aXkIndexed;
					
					// 
					HiJS.svr.doRequestAjax('DHCO0150M01S', {
						data : {encStr:concatEncStr}
						, loadingbar : false
						, async:false
						, callback : {
							success : function(result) {
								$("#" + editBoxId).val(result.data.decStr);
								$("#" + editBoxId).attr("aXKDec", "Y");
							},
							failure : function(result) {
								
							},
							error : function(result) {
								
							}
						}
					});
				}
			}
		//}
	}
	
function closeKeypad(objId){
		
		for(var key in aXKModuleObj){
			if(key != undefined && key != "Do"){
				if(aXKModuleObj[key].isOpen()  && key !=objId){ 
					aXKModuleObj[key].close();

				}
			}
		
		}
	}
	
</script>
 <!-- 보안키패드 -->
<!-- [P20161018-0003]CM자동차보험 본인인증 간소화 by 2016.11.1 김태원 -->

		<!-- 이름 -->

<!-- [P20161018-0003]CM자동차보험 본인인증 간소화 by 2016.11.1 김태원 -->

		<!-- 주민번호앞자리 -->






		<!-- 연락처1 -->
		<!-- 연락처2 -->
		<!-- 연락처3 -->
<!-- 기부이벤트용 -->

 				<!-- 기부이벤트 커피발송-->

<!-- [제휴견적] cnc 추가 -->




 <!-- 제휴 인터파크,CNC만 사용-->
 <!-- 제휴 글로비스 추가 -->
 <!-- [제휴견적] 견적신청 여부 -->
 <!-- [제휴견적] 3자동의 여부 -->


 				<!-- 제휴 이벤트 차단여부 -->
 				<!-- 제휴 이벤트 차단여부 -->
 				<!-- 제휴 이벤트 차단여부 -->

 				<!-- 제휴 이벤트 차단여부 -->
 			<!-- 제휴 이벤트 차단여부 -->
 			<!-- 제휴 이벤트 차단여부 -->


 		


 <!-- 간편설계 -->


	
 


 				<!-- 개인용 보종코드 -->
 				<!-- 업무용 보종코드 -->





<script type="text/javascript">
	//console.log("[MTPC0110G] spcalc: , , , "); 
	//console.log("[MTPC0110G] esureInpath: ");
	
	var anomalyNextYN = "";	//이상(anomaly) 주민번호 체크후 진행여부

	//PC URL 접근시 모바일로 분기.
	var UserAgent = navigator.userAgent;
	var url = location.href;
	var param = "&cnc_no=&media_no=&companyId=&trackingNo=";
	if(UserAgent.match(/iPhone|iPad|iPod|Android|Windows CE|BlackBerry|Symbian|Windows Phone|webOS|Opera Mini|Opera Mobi|POLARIS|IEMobile|lgtelecom|nokia|SonyEricsson/i) == null 
			&& UserAgent.match(/LG|SAMSUNG|Samsung/) == null) {
		if(UserAgent.match(/Macintosh/) != null && navigator.maxTouchPoints > 1 /* iPad OS 13 */ ){
			console.log("ipad os 13");
		}else{
			if('D' == 'R'){
				if('' != ""){
					if(url.indexOf("https://mdirect.hi.co.kr") != -1 && url.indexOf("m=b5eef5f9a4") != -1){				
						//location.href = "https://direct.hi.co.kr/service.do?m=28680681ee"+param;
						location.href = "https://direct.hi.co.kr/service.do?m=28680681ee"+param;
					}
				}else{
					//location.href = "https://direct.hi.co.kr/service.do?m=28680681ee";
					location.href = "https://direct.hi.co.kr/service.do?m=28680681ee";
				}
			}
		}
	}
</script>

<script type="text/javascript">
	var url = location.href;
	var param = "&cnc_no=&media_no=&companyId=";
</script>
<script type="text/javascript">
	
	$(function() {

		//카카오톡 유입시 설정한 로컬스토리지 초기화-invader
		//localStorage.clear();//로컬스토리지 초기화
		localStorage.removeItem("certSeqNo");
		
		/*제휴분기*/
		var tmpjehuPopChk = "N";
		if(tmpjehuPopChk == "Y"){
			fnJehuTemp(); //제휴 임시로 닫기
		}
		
		var JeHuEventService = "false";
		var blgEventService = "false";
		var rewardEventService = "false";
		var friendEventService = "false";
		var frirendEventChkYn = "Y";
		
		var renewEventService = "false";
		var renewalEventService = "false";
		var renewGbnEventService = "false";
		
		if(blgEventService == "false" && '' == "C040"){
			alert("현대해상 다이렉트블로그 계산 이벤트가 종료되었습니다.");
		}else if(JeHuEventService == "false" && '' == "C042"){
			alert("현대해상 TVCF 런칭 이벤트가 종료되었습니다.");
		}else if(rewardEventService == "false" && '' == "C045"){			
			alert("<B>자동차보험 이벤트<br/>참여기간이 아닙니다.</B>", "location.href='/service.do?m=7c6641ec8a';");
		}else if(friendEventService == "false" && '' == "C044" && frirendEventChkYn == "Y"){			
			alert("<div class='eventend'><strong>현재 <em>종료된 이벤트</em>입니다</strong><span>더 좋은 이벤트로 찾아뵙겠습니다.</span></div>", "location.href='/service.do?m=7c6641ec8a';");
		}else if(friendEventService == "true" && '' == "C044" && frirendEventChkYn == "N"){			
			alert("<div class='eventend'><strong>이벤트가 잠시 중단됩니다.</strong><span>6월 16일(목) 00:00 ~ 09:00 </span></div>", "location.href='/service.do?m=7c6641ec8a';");
		
		}else if(renewEventService == "false" && ('' == "C053" || '' == "C060") ){			
			alert("<B>현대해상 갱신 이벤트<br/>참여기간이 아닙니다.</B>", "location.href='/service.do?m=7c6641ec8a';");
		}else if(renewalEventService == "false" && ('' == "C054" || '' == "C055") ){			
			alert("<B>현대해상 갱신 이벤트<br/>참여기간이 아닙니다.</B>", "location.href='/service.do?m=7c6641ec8a';");
		}else if(renewGbnEventService == "false" && ('' == "C061" || '' == "C062" || '' == "C063") ){		
			alert("<B>현대해상 갱신 이벤트<br/>참여기간이 아닙니다.</B>", "location.href='/service.do?m=7c6641ec8a';");
		}
			
		else{}
		
		fnKTJehuEndChk(); //KT(B284), 현대캐피탈플러스(B307), 현대캐피탈플카(B349) 종료체크
		
		
		
		
		sessionStorage.removeItem('edDtCount'); //자동차 보험 종료 카운트 삭제
		sessionStorage.removeItem("cnInfoLayerOpnYn"); // 커넥티드 제조사 정보조회 레이어 오픈여부 세션스토리지값 초기화
		sessionStorage.removeItem("cnInfoAgrLayerOpnYn"); // 커넥티드 제조사 정보조회 동의 레이어 오픈여부 세션스토리지값 초기화
		sessionStorage.removeItem("bfCalcHisStep");    // 최근계산내역으로 이동 시 이동단계
		
		sessionStorage.removeItem("eventSatis");    // 만족도조사 이벤트 레이어 오픈여부 세션스토리지값 초기화
		
		// 초기화
		fnInit();
		
		//[제휴] pc로 모바일 URL로 접근시 pc로 분기.2016-08-29
		//alert(osInfo.window);
		if(osInfo.window){
			if('' != ""){
				//alert('');
				if(url.indexOf("https://mdirect.hi.co.kr") != -1 && url.indexOf("m=b5eef5f9a4") != -1){
					//location.href = "https://direct.hi.co.kr/service.do?m=28680681ee"+param;	
				}else{
					//location.href = "https://edirect.hi.co.kr/service.do?m=28680681ee"+param;
				}
			}
		}
		
		// 제휴정보
		if ("" != "" && "" != "") {
			sessionStorage.setItem('partnerShipInfoVal', JSON.stringify({cncNo:"", mediaNo:"", campaignId:""}));
		}
		
		// KTCLIP 진입시 팝업
		if('' == 'KTCLIP' || '' == 'KTCLIP2'){
			lpOpener('ktclipInfoPopup');
		}
		
		// 보험다모아
		if('' == 'e_sure_market' && '' != ''){
			lpOpener('damoaLayer');
		}
		
					
		$('.listDot').on('click', function () {
			//fnCertiPass();
		});
		
		
		// 이름 입력란 클릭 시 하단으로 scroll 이동 (iPhone5 대응)  -> 2021.01 디자인 변경으로 인해 삭제
/* 		$('#ptyKorNm').click(function(){
			if (osInfo.cd != "10111005") { // iOS 가 아닐때만 동작
				setTimeout(function(){
					$('html, body').animate({
						scrollTop: $("#ptyKorNm").offset().top - $("#ptyKorNm").height()
					}, 200);
				},300);
			}
		});
		
		
		// 주민등록번호 앞자리
		$('#regNo1').click(function(){
			if (osInfo.cd != "10111005") { // iOS 가 아닐때만 동작
				setTimeout(function(){
					$('html, body').animate({
						scrollTop: $("#regNo1").offset().top - $("#regNo1").height()
					}, 200);
				},300);
			}
		}); */
		
		
		// 보안키패드 라이브러리 변경하면서 삭제 20.06
 		/* $(document).on("click", ".xkp_key2.xkinput.xknumber", function(e) {
			if ($("#regNo2").val().length == 7 && xkModule.isOpend()) {
				xkModule.close();
				//autoNextField('regNo2', 'telNo', 7); //장차법으로 삭제
			}
		}); */
		
		// 휴대폰번호 입력
/* 		$('#telNo_af').click(function(){
			if (osInfo.cd != "10111005") { // iOS 가 아닐때만 동작
				setTimeout(function(){
					$('html, body').animate({
						scrollTop: $("#telNo_af").offset().top - $("#telNo_af").height()
					}, 200);
				},300);
			}
		}); */
		
		// input 클릭 시 이벤트 화면 안보이는 기능
		// 안드로이드 일 경우 화면비율로, iOS일경우 focus 클릭 시로 판단하여 이벤트 배너 가림 
		//-> 2021.01 결제할인 이벤트 부분이 보험료계산 밑으로 이동 / carBnArea 사용하지않음
/* 		if (osInfo.cd == "10111004") { // Android
			$(window).resize(function(){
				if( window.orientation !== undefined ){
					var ratio = window.innerWidth / window.innerHeight;
					if( window.orientation === 0 || window.orientation === 180 ){
						// portrait
						if(ratio < 0.76){// 키보드 다운
							calcBnUp('carBnArea');
						}else{// 키보드 업
							calcBnDown('carBnArea');
						}
					}else{
						// landscape 가로모드는 지원안함
					}
				}			
			});
		}else{
			// iOS에서는 focus, blur 상태로 키패드 여부 판단
			$('input').bind('focus', function() {
				var keyboardShown = $(window).scrollTop() > 0;
				calcBnDown('carBnArea');
			})
			
			$('input').bind('blur', function() {
				var keyboardShown = $(window).scrollTop() > 0;
				calcBnUp('carBnArea');
			})
		} */
		
		//input 입력시 버튼 색상 변경
		var inputName = $('#ptyKorNm'); 
        var inputReg1 = $('#regNo1');
        var inputReg2 = $('#regNo2');
        var inputHp = $('#telNo_af');
        
        $('input').on('keyup', function(){
            if(!inputName.val()=="" && !inputReg1.val()=="" && !inputReg2.val()=="" && !inputHp.val()==""){			
              $('#calcBtn').addClass('on');	
            }else{
              $('#calcBtn').removeClass('on');
            }
            
        });
		
		/* 앱푸시 수취 확인 서비스 호출 */
		var pushId = "null";
		var pushEvntCat = "null"; 
		// appPushTagging(pushId, pushEvntCat);  // 추후 산출 단계별 저장할때 pushEvntCat 값사용
		
		if(!isNullChk(pushId)){
			appPushTagging(pushId, 0);	
		}
		
		// ToggleBox - SlideDownUp Toggle /2104
		$('.toggleBtn').click(function(){
			var boxArea = $(this).parent().parent('.toggleBox'); // 토글박스
			
			switch (boxArea.hasClass('on')) {
				case false :
					$(this).parent().next('.toggleDetail').slideDown('fast'); // 닫힘 시 상세내용 열림
					boxArea.addClass('on'); // 토글박스에 on 추가				
					break;
				default :
					$(this).parent().next('.toggleDetail').slideUp('fast'); // 열림 시 상세내용 닫힘
					boxArea.removeClass('on'); // 토글박스에 on 삭제
			}
		});
		
	});
	
	function fnJehuTemp(){

		//alert("<B><font color='#4374D9'><strong style='font-size:17px'>이벤트 일시중지 안내</br></br></font></strong>대행사 변경으로 인해 이벤트 참여가 일시 중지됩니다.<br/>중단일시 : 2020년12월31(목) 18:30 ~ 2021년1월8일(금) 24:00까지.</B>");
		lpOpener('teslaPopup');
	}
	
	// 보험료계산 하단 배너 닫기 /1904
	function calcBnDown(bn){		
		$('.'+bn).css('bottom','-80px');	
	}
	
	// 보험료계산 하단 배너 열기 /1905
	function calcBnUp(bn){		
		$('.'+bn).css('bottom', '54px' );
	}
	function  fnKTJehuEndChk(){
		/*KT 멤버쉽 20190930 종료*/
		if(getToday() >='20191001' && '' == "B284"){
			lpOpener('chkKtEndPopup');
			return false;
		}
		return true;
	}
	// 다음단계 이동
	function fnMoveNext(pageCode) {
		
		// 파이어베이스 로그 분석 수집
		setFirebaseButtonEvent("page_name&calc_car_insur&자동차보험료계산하기");
		
		if(!fnKTJehuEndChk()){
			return;
		}
		
		// 가상키패드 암호값 세팅
		concatXkSessionInfo("regNo2");
		
		/*휴대폰번호 값 세팅*/
		var telNo_bf = $("#telNo_bf").val();
		var telNo_af = $("#telNo_af").val();
		var telNo = telNo_bf + telNo_af;
		$("#telNo").val(telNo);
		
		//JSK 제휴 이벤트 중복참여
		var reqRegNo1 = $('#regNo1').val();
		var reqRegNo2 = $('#regNo2').val();
		var reqRegNoEvnt = reqRegNo1+reqRegNo2;
		var reqTelNo = $('#telNo').val();	
		
		var JeHueventId = "";
		var mdNo = '';
		
		var jeHueventDate = getToday();
		
		if (!fnInputVldChk()){
			return;
		}
		
		//이상(anomaly) 주민번호 체크
		if($('#regNo2').val() == "1111111" && anomalyNextYN != 'Y') {
			lpOpener("juminCheckLayer");
			return;
		}
		
		//간편설계 화면 진입시 차량번호 체크
		if( ('' == 'sim' || '' == 'B407'  ) && !fnInputVldChkCarNum()) {
			return;
		}
		/*제휴 이벤트 중복참여 체크 JSK*/		
		var blgEventService = "false";
		var JeHuEventService = "false";
		var friendEventService = "false";
		
		//다이렉트 블로그 & 페이스북
		if(blgEventService == "true" && '' == 'C040'){
			JeHueventId = '72'; //블로그 이벤트
			fnEventJeHuJoinChk(reqRegNoEvnt, reqTelNo, JeHueventId);
		}else if(JeHuEventService == "true" && '' == 'C042'){
			JeHueventId = '79'; //페이스북 이벤트	
			fnEventJeHuJoinChk(reqRegNoEvnt, reqTelNo, JeHueventId);
		}else if(friendEventService == "true" && '' == 'C044'){
			if(getToday() <= '20211231'){
				JeHueventId = "224"; //친구추천 이벤트
	        }else{
	        	JeHueventId = "262"; //친구추천 이벤트
	        }
			fnEventJeHuJoinChk(reqRegNoEvnt, reqTelNo, JeHueventId);
		}else{
			
		}	
		
		/*기부 이벤트 중복참여 체크*/
		var cbpsCatCd = '';		
      	if(cbpsCatCd == "01" || cbpsCatCd == "02" || cbpsCatCd == "03"){	 
      		if(getToday() <= '20211231'){
				JeHueventId = "225";	//기부 이벤트
	        }else{
	        	JeHueventId = "263";	//기부 이벤트
	        }
			fnEventJeHuJoinChk(reqRegNoEvnt, reqTelNo, JeHueventId);
		}
      	
		// KTMBS HDCAREVNT 진입시 동의체크(순서중요)
		if('' == 'KTMBS' || '' == 'HDCAREVNT' || '' == 'HDMF_RENEW' || '' == 'HDMF_RENEW2'){
			/* 동의여부 체크 */
			if ( !$(":checkbox[name='lmsChkAgree1']").is(':checked') ){ // 개인정보 수집.이용 동의
		    	alert("개인(신용)정보 수집 &middot; 이용 동의에 체크해 주세요.");
		    	$("#lmsChkAgree1").focus(); 
		    	return; 
		    }
			
			if ( !$(":checkbox[name='lmsChkAgree2']").is(':checked') ){ // 개인정보 수집.이용 동의
		    	alert("개인(신용)정보 제공 동의에 체크해 주세요.");
		    	$("#lmsChkAgree2").focus(); 
		    	return; 
		    }
		}
	
		
		$('#preNextCat').val('1');
		$('#pageCode').val(pageCode); // 1-보험료계산하기, 2-최근계산내역
		if ($('#regNo1').val() == $('#sesRegNo1').val() && $('#regNo2').val() == $('#sesRegNo2').val() && '' != 'B407' ){
			document.form1.certExistYn.value = "Y"; //기존 세션에 인증성공한 주민번호로 다시 재 인증시 기인증여부를 Y로 세팅
			/*인증간소화처리건 인증이력남기기위해 데이터저장	
			  인증타입 : P2,P3,P4...
			*/
			var oReqData = {
					 svcMenuId 		: 'b5eef5f9a4'
					,menuCode 		: '82'
					,ptyId 			:  $('#sesPtyId').val()
			  	    ,channelType    : 'M'
			  	    ,certType 		: ""
			  	    ,certRsltCd 	: '0000'
			  	    ,certRsltMsg 	: '정상'
			  	};
				HiJS.svr.doRequestAjax("DHCO0099M20S", {
					data : oReqData,
					loadingbar : false,
					callback : {
						success : function(responseObj) {	
							fnStepProcSimple();
						},
						failure : function(responseObj) {
						}
					}
				
				});		
						
			
			
		}else{		
		// 세션 저장, 마케팅 동의 여부 조회
		fnStepProc();
		}
	}

	 function fnEventJeHuJoinChk(reqRegNoEvnt, reqTelNo, JeHueventId){
		 var CheckrtCode = "";
			var oReqData = {
			  	      custTel    : reqTelNo
			  	      , billYn   : 'Y'
			  	      , evntId   : JeHueventId
			  	      , saveYn   : 'N'
			  	      , regNo    : reqRegNoEvnt
			  	      , media_no : ''
			  	      , cnc_no	 : '' 		// 쿠폰번호 추가
			  	      , cbpsCat	 : ''	// 기부처구분코드
			  	};
				HiJS.svr.doRequestAjax("DHCO0350M12S", {
					data : oReqData,
					loadingbar : false,
					callback : {
						success : function(responseObj) {		
							console.log(responseObj);
							if(responseObj.data.rtCode =="002"){
								if(oReqData.media_no == "C040"){
									alert("다이렉트블로그 보험료 계산</p>이벤트에 이미 참여하셨습니다.</p>확인 버튼을 누르면 보험료계산/가입은</p>가능하나 경품은 중복 지급되지 않습니다.</p>이점 양해 부탁드립니다.");									
								}else if(oReqData.media_no == "C042"){
									alert("자녀할인특약 변경 기념</p>이벤트에 이미 참여하셨습니다.</p>확인 버튼을 누르면 보험료계산/가입은</p>가능하나 경품은 중복 지급되지 않습니다.</p>이점 양해 부탁드립니다.");
								}else if(oReqData.media_no == "C044"){
									alert("현대해상다이렉트 친구추천 이벤트에</p>이미 참여하셨습니다.</p>확인 버튼을 누르면 보험료계산/가입은</p>가능하나 경품은 지급되지 않습니다.</p>이점 양해 부탁드립니다.");
								}else if(oReqData.cbpsCat != ""){
									alert("현대해상다이렉트 기부 이벤트에</p>이미 참여하셨습니다.</p>확인 버튼을 누르면 보험료계산/가입은</p>가능하나 기부금은 중복으로 적립되지 않습니다.</p>이점 양해 부탁드립니다.");
								}else{}		
							}else {
								// 친구추천이벤트 URL쿠폰발급 방식으로 변경에 따른 유효성 체크 추가
								if(oReqData.media_no == "C044"){
									if(responseObj.data.rtCode == "C01"){
										alert("죄송합니다.</p>이번달 이미 3회 참여 완료 하셨습니다.</p>다음달에 다시 도전해주세요!");
									}else if(responseObj.data.rtCode == "C02"){
										alert("죄송합니다.</p>소개하신분과 동일한 휴대폰 번호로는</p>이벤트에 참여하실 수 없습니다.</p>이점 양해 부탁드립니다.");
									}else if(responseObj.data.rtCode == "C03"){
										alert("죄송합니다.</p>유효하지 않은 주소입니다.</p>소개받은 URL 다시 한번 확인 부탁드립니다.");
									}
								}
							}
						},
						failure : function(responseObj) {
						}
					}				
				});		
			
	}
	
	/**
	3개월 이전 마케팅 여부 조회
	*/
	function fnAgreeDisplay(mktgUtlAgrmViewYn) {
		
		var _obj = $('#presonalAgree').find('section').find('h2').eq(1); //상품소개를 위한 동의
		
		if (mktgUtlAgrmViewYn == 'N') {
			_obj.hide();
			_obj.next('.agreeCtr').hide();
			$('#agreeAll2').hide();
		} else {
			_obj.show();
			_obj.next('.agreeCtr').show();
			$('#agreeAll2').show();
		}
		
	}

	// 약관 성공 callback
	function fnMove(returnObj) {
		//console.log("fnMove 호출!!!"); // 개인정보처리동의 약관 동의 확인버튼 클릭시 호출
		
   		// 실명인증(세션처리로 변경)
		var realNmReqData = {
 				keyRegNo	: ""			  	      
	  		  , keyCustName	: ""
	  		  , keyUserTeam	: "A4"
	  		  , KeySelYn	: "N"
	  	};
		
    	
		HiJS.svr.doRequestAjax("DHCO0099M32S", {
//		HiJS.svr.doRequestAjax("DHMT0100M47S", {
			data 		: realNmReqData,
			async		: false,
			loadingbar	: true,
			callback	: {
				success : function(responseObj) {
					
					//console.log("### lnkReturnCode : " + responseObj.data.lnkReturnCode);
					//console.log("### lnkResultCode : " + responseObj.data.lnkResultCode);
					
					if(responseObj.data.lnkReturnCode=="00"){ // 00 : 실명확인 결과정상, 99 : 실명확인 결과실패
						if(responseObj.data.lnkResultCode=="2"){ // 1 : 일치, 2 : 불일치, 5 : 당사존재(당사테이블 우선조회여부 "Y"일경우에 RETURN)
							//상품소개동의팝업 Close
							alertCloser("layerPopConfirm","");
							
							alert("<b>실명인증 오류 안내</b></br></br>이름과 주민등록번호를 정확하게 다시 입력해주세요.</br></br>※ 실명인증 오류가 계속되신다면 </br> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; NICE아이디 고객센터로 문의바랍니다.</br> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*문의처 :&nbsp;   <a href=\"http://www.niceid.co.kr\" target=\"_blank\" > www.niceid.co.kr </a> <a href=\"tel:1600-1522\">(☎ 1600-1522)</a>", "location.href='/service.do?m=b5eef5f9a4'");
							return false;
						}
					}else{
						
						//상품소개동의팝업 Close
						alertCloser("layerPopConfirm","");
						
						alert("<b>실명인증 기관 장애 안내</b></br></br>현재 NICE아이디(실명인증기관)의 장애로 이용이 어렵습니다. </br>잠시 후 다시 이용해주시기 바랍니다.", "location.href='/service.do?m=b5eef5f9a4'");
						return false;						
					}
				},
				failure : function(responseObj) {
					var message = responseObj.header.responseMessage;
					alert(message.substr(message.indexOf("]")+2), "location.href='/service.do?m=b5eef5f9a4'");
				}
			}
		});
     	
    	
		if ($('#mktgUtlAgrmViewYn').val() == 'Y') {
			if (returnObj.agree5 == 'Y') {
				$('#mktgUtlAgrmYn').val('01');
				$('#receiveAgree').val("Y/Y/Y/Y");	
			}else if(returnObj.eventAgree =="Y"){
				$('#mktgUtlAgrmYn').val('01');
				$('#receiveAgree').val("Y/Y/Y/Y");	
			}else{
				$('#mktgUtlAgrmYn').val('02');
				$('#receiveAgree').val("N/N/N/N");
			}	
		}else {
				$('#mktgUtlAgrmYn').val('');
				$('#receiveAgree').val("");	
		}
		
		
		// 인증
		fnOpenCertiLayer( "POPUP"
									, "presonalAgree"
									, $('#ptyKorNm').val()
									, $('#regNo1').val()
									, $('#regNo2').val()
									, $('#telNo').val()
									, 'b5eef5f9a4'
									, '82'
									, fnReturnCert);
		
	}
	
	// 인증 콜백 
	function fnReturnCert(certCat, certSeqNo, mblNo){
		//console.log('[MTPC0110G] fnReturnCert() 호출!!');
		//closeLayer("presonalAgree");
		//$('#presonalAgree').hide();
		
		$('#certSeqNo').val(certSeqNo);
		
		var objTelNo = splitTelNo(mblNo);
		$('#telNo1').val(objTelNo.telNo1);
		$('#telNo2').val(objTelNo.telNo2);
		$('#telNo3').val(objTelNo.telNo3);
		$('#certCat').val(certCat);
		
		// TODO : 운영테스트 후 주석삭제
		// fnMove0131();
		mVaccine_check(fnMove0131);
	}
	
	// XXX : 테스트용 인증 패스
	function fnCertiPass(){
		
		$('#presonalAgree').hide();
		$("#certificateLayer").hide();
		
		// 0000 히든 패스
		$('#certSeqNo').val('0000');
		
		if('' == 'B407'){
			$('#certSeqNo').val('45788203');	
		}
		
		
		var objTelNo = splitTelNo($('#telNo').val());
		$('#telNo1').val(objTelNo.telNo1);
		$('#telNo2').val(objTelNo.telNo2);
		$('#telNo3').val(objTelNo.telNo3);
		$('#certCat').val('03');
		fnMove0131();
		
	}
	
	/**
	 * 다음단계이동 전 세션 처리
	 */
	function fnStepProc(){
		//$.blockUI();
		HiJS.svr.doRequestAjax("DHMT0100M12S", {
			formId : "form1",
			messageEnabled : false,
			callback : {
				success : function(responseObj) {
					
					if(responseObj.data.dhmt0001vo.executeTime == 999){
						// session이 없을때 처리
						location.href = "/bin/MT/PC/MTPC0004G.jsp";
					}
					
					$("#executeTime").val(responseObj.data.dhmt0001vo.executeTime);
					
					var mktgUtlAgrmViewYn = 'Y';
					//제휴인 경우에도 상품소개동의 재징구되지 않도록 수정 2018.07.16
					if (responseObj.data.dhmt0001vo.mktgUtlAgrmExistYn == 'Y') { //마케팅 여부 이미 동의함
						mktgUtlAgrmViewYn = 'N';
					}
					
					$('#mktgUtlAgrmViewYn').val(mktgUtlAgrmViewYn);
					var threeAgreeObj = {
							threeYn : 'N' 
					};
					
					fnOpenPresonalAgree(threeAgreeObj, fnMove); // 약관 조회
					fnAgreeDisplay(mktgUtlAgrmViewYn); // 마케팅 여부 화면 표시
						
					var provideText ="";
					var providePurpose = "보험료산출완료 확인";
					var provideItem = "보험료산출완료 여부";
					var provideTerm = "동의일로부터 1개월";
					
					if(''== "IP" ){			
						provideText = "(주)멤플러스";
					}else if(''== "CJOSHOPPINGAA" ){			
						provideText = "(주)CJ오쇼핑";	
					}else if(''== "GSHOMESHOPPING" ){			
						provideText = "(주)GS홈쇼핑";	
					}else if('' != "" ){			
						provideText = "";
					}
					
					//제휴처에 따라 제3자동의정보 문구 변경
					if(''== "KAKAOPAY" ){//(2016.10.31)
						providePurpose = "카카오페이 결제고객 프로모션 경품 지급";
						provideItem = "계약자 휴대폰 번호 (카카오페이 결제 계약에 한함)";
						provideTerm = "경품지급 완료 후 즉시 파기 (동의일로부터 최대 2개월)";
					}else if(''== "HYUNDAI_MOTOR" ){//(2017.01.19)
						providePurpose = "모바일주유권발송";
						provideItem = "휴대전화번호";
						provideTerm = "모바일주유권발송 목적 달성 후 1개월내 파기";
					}else if(''== "KTCLIP" || ''== "KTCLIP2"){
						provideText = "KT(주)";
						providePurpose = "프로모션 참여완료 확인 (보험료 산출완료 여부)";
						provideItem = "프로모션 참여완료 결과 (보험료 산출완료 여부)";
						provideTerm = "포인트 적립완료 후 즉시 파기 (최대 1개월 이내)";
					}
					
					if (provideText != '') {
						var appendHtml = "<header>";
						appendHtml += "<h1>개인(신용)정보의 제3자 제공에 관한 사항</h1>";
						appendHtml += "</header>";
						appendHtml += "<div class=\"popContent\">";
						appendHtml += "<section class=\"agrSection2\">";
						appendHtml += "<ul class=\"listDot\">";
						appendHtml += "<li>제공 받는 자";
						appendHtml += "<ul class=\"listBasic\">";
						appendHtml += "<li id=\"provideText\">"+provideText+"</li>";
						appendHtml += "</ul>";
						appendHtml += "</li>";
						appendHtml += "<li>개인(신용)정보를 제공받는 자의 이용 목적";
						appendHtml += "<ul class=\"listBasic mgT0\">";
						appendHtml += "<li id=\"providePurpose\">"+providePurpose+"</li>";
						appendHtml += "</ul>";
						appendHtml += "</li>";
						appendHtml += "<li>제공 개인(신용)정보의 항목";
						appendHtml += "<ul class=\"listBasic mgT0\">";
						appendHtml += "<li id=\"provideItem\" >"+provideItem+"</li>";
						appendHtml += "</ul>";
						appendHtml += "</li>";
						appendHtml += "<li> 개인(신용)정보를 제공받는 자의 개인정보 보유 및 이용기간";
						appendHtml += "<ul class=\"listBasic\">";
						appendHtml += "<li id=\"provideTerm\" >"+provideTerm+"</li>";
						appendHtml += "</ul>";
						appendHtml += "</li>";
						appendHtml += "</ul>";
						appendHtml += "</section>";
						appendHtml += "<div class=\"btnWrap\"> <a href=\"javscript:void(0);\" onclick=\"fnAppendBeforeHtml();closeLayer('agree_detail')\">확인</a> </div>";
						appendHtml += "</div>";
						appendHtml += "<button type=\"button\" class=\"btnClose\" onclick=\"fnAppendBeforeHtml();closeLayer('agree_detail')\">창닫기</button>";
												
						// 3자 제공 내용 변경
						$(document).on('click','#BFZZ03', function (event) {
							event.stopImmediatePropagation();
							$('#agree_detail').html('');
							$('#agree_detail').html(appendHtml);
						});
					}
				},
				failure : function(responseObj){
					
					// 오류페이지 이동
					$.unblockUI();
					location.href="/bin/CO/CO/COCO0802G.jsp?pageGb=MT&etime=1661931188031";
					return;
				}
			}
		});
	}
	/**
	 *  본인인증 간소화용 다음단계이동
	 */
	function fnStepProcSimple(){
		HiJS.svr.doRequestAjax("DHMT0100M12S", {
			formId : "form1",
			messageEnabled : false,
			callback : {
				success : function(responseObj) {
										
					if(responseObj.data.resultCode == 900){
						// session이 없을때 처리
						location.href = "/bin/MT/PC/MTPC0004G.jsp";
					}
						$("#executeTime").val(responseObj.data.dhmt0001vo.executeTime);
						fnMove0131();
				
														
				},
				failure : function(responseObj){
					
					// 오류페이지 이동
					$.unblockUI();
					location.href="/bin/CO/CO/COCO0802G.jsp?pageGb=MT&etime=1661931188031";
					return;
				}
			}
		});	
	}
		
		
	// 다른 약관 내용으로 다시 변경
	function fnAppendBeforeHtml() {
		var appendHtml = "<header>";
		appendHtml += "<h1 id=\"detail_text\"></h1>";
		appendHtml += "</header>";
		appendHtml += "<div class=\"popContent\">";
		appendHtml += "<section class=\"agrSection\" id=\"detail_cnts\"></section>";
		appendHtml += "<div class=\"btnWrap\">";
		appendHtml += "<a href=\"javascript:void(0);\" onclick=\"closeLayer('agree_detail');\">확인</a>";
		appendHtml += "</div>";
		appendHtml += "</div>";
		appendHtml += "<button type=\"button\" class=\"btnClose\" onclick=\"closeLayer('agree_detail');\">창닫기</button>";
		$('#agree_detail').html('');
		$('#agree_detail').html(appendHtml);
	}
	
	
	/**
	 * 이전산출조회
	 */
	function fnMove0131(){
		//console.log("fnMove0131() 호출!!!"); // 본인인증 성공 후 호출
		
		$('#preNextCat').val('1');
		$.blockUI();
		HiJS.svr.doRequestAjax("DHMT0100M13S", {
			formId : "form1",
			messageEnabled : false,
			loadingbar : false,
			callback : {
				success : function(responseObj) {
					$.unblockUI();
					if(responseObj.data.dhmt0001vo.executeCode == 999){
						// session이 없을때 처리
						location.href = "/bin/MT/PC/MTPC0004G.jsp";
					}					
					$("#executeTime").val(responseObj.data.dhmt0001vo.executeTime);
					
// 					console.log('[MTPC0110G] 1--pageCode:'+$('#pageCode').val());
// 					console.log('[MTPC0110G] 1--mediano:'+mediano);
// 					console.log('[MTPC0110G] 1--cbpsCatCd:'+cbpsCatCd);
// 					console.log('[MTPC0110G] 1--dhmt0110vo.length:'+responseObj.data.dhmt0001vo.dhmt0110vo.length);
// 					console.log('[MTPC0110G] 1--simplePlanCarNum:'+$("#simplePlanCarNum").val());
// 					console.log('[MTPC0110G] resultVO.dhmt0001vo.inpath:');
// 					console.log('[MTPC0110G] resultVO.dhmt0001vo.marketInagNo:');
// 					console.log('[MTPC0130G] carAutoNoExsitYn:'+responseObj.data.carAutoNoExsitYn);
					
					var carAutoNoExsitYn = responseObj.data.carAutoNoExsitYn;
					var simplePlanCarNum = $("#simplePlanCarNum").val();
					var inagInsDt = '';
					
					if(simplePlanCarNum != ''){
						
						var carList = responseObj.data.dhmt0001vo.dhmt0110vo;
						if(carList.length >0){
							$.each(carList, function (idx, carData){
								
								//차량번호,차대번호 확인
								if(simplePlanCarNum == carData.carAutoNo || simplePlanCarNum == carData.chssNo){
									
									//btnCat: 1=갱신대상,2: 예상보험료 
	 								//console.log('[MTPC0110G] idx:'+idx);
	 								//console.log('[MTPC0110G] carData.carAutoNo:'+carData.carAutoNo);
	 	 							//console.log('[MTPC0110G] carData.chssNo:'+carData.chssNo);
	 								//console.log('[MTPC0110G] carData.btnCat:'+carData.btnCat);
	 	 							//console.log('[MTPC0110G] carData.preInagNo:'+carData.preInagNo);
	 	 							//console.log('[MTPC0110G] carData.preInagSeq:'+carData.preInagSeq);
	 								//console.log('[MTPC0110G] carData.insdCo:'+carData.insdCo);
	 	 							//console.log('[MTPC0110G] carData.carDvcrtpCat:'+carData.carDvcrtpCat);
	 	 							//console.log('[MTPC0110G] carData.inagInsEdDt:'+carData.inagInsEdDt);
	 	 							//console.log('[MTPC0110G] carData.inagProdCd:'+carData.inagProdCd);
	 	 							
	 	 							if(carData.insdCo == '09'){
	 	 								
	 	 								var mnapAutoTypCat = fnGetMnapAutoTypCat(carData.carAutoNo);
	 	 								
	 	 								var hdmfProdCd = "";
	 	 								if ( carData.inagProdCd != null && carData.inagProdCd.length > 4  ){
	 	 									hdmfProdCd = carData.inagProdCd.substring(0,4);
	 	 								}
	 	 								
	 	 								// 캠핑카 및 인승변경 관련 체크로직 추가 - 2022.03.28 
	 	 								// 캠핑카 및 인증변경 시 기존 로직을 타게 설정
	 	 								// 캠핑카 요율 등 추가 개발 예정이며 개발 전까지 안내 메세지 출력 후 차단 예정 ( 차단메세지가 기존 로젝에 있어 기존 로직을 타게 설정함 )
	 	 								if (  "5208|5209|5213|5202".indexOf(hdmfProdCd) != -1 
	 	 									&& mnapAutoTypCat == "A"
	 	 									//&& carData.inagInsEdDt >= "20220501"
	 	 									&& "1223|2223".indexOf(carData.carDvcrtpCat) != -1 
	 	 								){
	 	 									simplePlanCallYn = 'Y'; // 기존 프로세스 적용
	 	 								} else if ( "5208|5209|5213|5202".indexOf(hdmfProdCd) != -1 
	 	 									&& mnapAutoTypCat == "A"
	 	 									//&& carData.inagInsEdDt >= "20220501"
	 	 									&& "1204|1205|1206|1209|2204|2205|2206|2209".indexOf(carData.carDvcrtpCat) != -1 
	 	 								){
	 	 									simplePlanCallYn = 'Y'; // 기존 프로세스 적용
	 	 								}   
	 	 							}
	 	 							
	 	 							//console.log('[MTPC0110G] simplePlanCallYn:'+simplePlanCallYn);
									 
									if(carData.insdCo != '09'){
										
										//타사+갱신
										if(carData.btnCat == '1'){
											
											inagInsDt = carData.inagInsEdDt;			//만일이 시작일로 세팅
											
											$('#shotCutIdx').val(idx);					//갱신시 전계약번호 idx
											$('#prevInsdCo').val(carData.insdCo);		//회사cd
											$('#autoTypCd').val(carData.carDvcrtpCat);	//차종
											
										}else if(carData.btnCat == '2'){
										//타사+예상	
											inagInsDt = getToday();
											
											$('#shotCutIdx').val(idx);	//갱신시 전계약번호 idx
											$('#chkExpPrem').val('Y');
											
										}else if(carData.btnCat == '4' || carData.btnCat == '5'){
										//만기미도래:4,만기경과:5	
											inagInsDt = getToday();
											$('#shotCutIdx').val(idx);	//갱신시 전계약번호 idx
										}
										
									}else if(carData.insdCo == '09'){
										
										//자사+갱신, 만기미도래:4,만기경과:5
										if(carData.btnCat == '1'){
											
											inagInsDt = carData.inagInsEdDt; //만일이 시작일로 세팅
											
											$('#inagCat').val("3");	// 갱신, 이전산출구분 (1:개발원갱신, 2:이전산출, 3:갱신가입(자체), 33:갱신가입계산후복귀(갱신가입문제시 사용)))
											$('#shotCutIdx').val(idx);
											$('#mnapAutoTypCat').val(carData.carDvcrtpCat);
											$('#carAutoNo').val(carData.carAutoNo);				//차량번호
											$('#carAutoNoText').val(carData.carAutoNo);
											$('#inagNo').val(carData.preInagNo);
											$('#inagNoSeq').val(carData.preInagSeq);
											$('#inagStDt').val(setFormatDate(inagInsDt, '-'));
											$('#inagEdDt').val(getNextYearDay2(inagInsDt, '-'));
											
										}else if(carData.btnCat == '2'){
										//자사+예상
											inagInsDt = getToday();
											
											$('#shotCutIdx').val(idx);	//갱신시 전계약번호 idx
											$('#chkExpPrem').val('Y');	
										
										}else if(carData.btnCat == '4' || carData.btnCat == '5'){
										//만기미도래:4,만기경과:5	
											inagInsDt = getToday();
											$('#shotCutIdx').val(idx);	//갱신시 전계약번호 idx
										}
									}
								}
							});
						}else{
							//신규 = fnSimplePlanCheck() call
						}
					}else{
						simplePlanCallYn = 'Y'; //차량번호 미입력시 기존 프로세스 적용
					}
					
					if ($('#pageCode').val() == '1') {
						// 다음화면 이동

						var mediano = "";
						var cbpsCatCd = "";
						
						if('' != ''){	//문자로받기 url접근시 4단계로 점프
							if (responseObj.data.dhmt0001vo.dhmt0110vo.length > 0) { //개발원 차량 목록이 있을 경우
								$('#carListSize').val(responseObj.data.dhmt0001vo.dhmt0110vo.length);
							}
							fnSmsJumping();
						}else if("" == "B407"){	//카카오톡 플랫폼
							fnKakao();
						}else if(responseObj.data.dhmt0001vo.easyPremList.length > 0 && "B280".indexOf(mediano) != -1 && cbpsCatCd == "" ){	//이전산출 내역 있는 경우, 제휴/이벤트가 아닌경우
							//console.log('[MTPC0110G] -------------------aaa');
							//console.log('[MTPC0110G] -------------------simplePlanCallYn(1):'+simplePlanCallYn);

							if(simplePlanCallYn != 'Y' && '' == 'sim'){
								fnSimplePlanCheck(inagInsDt);
							
							}else if("" == "e_sure_market" && "" != ""){
								//보험다모아
								//console.log('[MTPC0110G] (1)fnEasyPremListDisplay, inpath:');
								fnMtEasyPremCal('', '', '4', '5117', '40', ''); //130g
								
								lpOpener('centerLoadingBar');
								
							}else{
								$('#carListSize').val(responseObj.data.dhmt0001vo.dhmt0110vo.length);
								// 최근계산내역 팝업 노출
								fnEasyPremListDisplay(responseObj.data.dhmt0001vo.easyPremList);
							}
							
						}else if("" == "B278"){	//차봇 접근
							//console.log('[MTPC0110G] -------------------bbb');


				   			var reqObj = {
				   				    executeTime : $("#executeTime").val()
				   		            };

					   		
					   		HiJS.svr.doRequestAjax("DHMT6000M01S", {
					   		formId : "form1",
					   		messageEnabled : false,
					   		//loadingbar : true,
					   		callback : {
					   			success : function(responseObj) {
					   				$("#executeTime").val(responseObj.data.executeTime);
					   				HiJS.svr.doRequestForm('4ae3cfd294', 'form1');
					   				return;
					   			},
					   			
					   			failure : function(responseObj){	//기본정보 세팅에러시 차량선택페이지로 이동
									if (responseObj.data.dhmt0001vo.dhmt0110vo.length > 0) { //개발원 차량 목록이 있을 경우
										$('#carListSize').val(responseObj.data.dhmt0001vo.dhmt0110vo.length);
										// 최근계산내역 팝업 노출
										$("#stepHistCd").val('10051001');
										HiJS.svr.doRequestForm('ceda0cf40f', 'form1');
									} else { //개발원 차량 목록이 없을 경우
										$("#stepHistCd").val('10051001'); // 차량 종류 및 차대, 차번 등록 페이지 이동시 histCd
										HiJS.svr.doRequestForm('eda936e232', 'form1');
									}
					   			}
					   		}});

							
						}//END 차봇	
						else{
							//console.log('[MTPC0110G] -------------------ccc');
							//console.log('[MTPC0110G]length--1:'+responseObj.data.dhmt0001vo.dhmt0110vo.length);
							//console.log('[MTPC0110G] -------------------simplePlanCallYn(2):'+simplePlanCallYn);
							
							if (responseObj.data.dhmt0001vo.dhmt0110vo.length > 0) { //개발원 차량 목록이 있을 경우
								
								if(simplePlanCallYn != 'Y' && '' == 'sim'){
									fnSimplePlanCheck(inagInsDt);
								
								}else if("" == "e_sure_market" && "" != ""){
									//보험다모아
									//console.log('[MTPC0110G] (2)fnEasyPremListDisplay, inpath:');
									fnMtEasyPremCal('', '', '4', '5117', '40', ''); //130g
									
									lpOpener('centerLoadingBar');
									
								}else{
									$('#carListSize').val(responseObj.data.dhmt0001vo.dhmt0110vo.length);
									// 최근계산내역 팝업 노출
									$("#stepHistCd").val('10051001');
									HiJS.svr.doRequestForm('ceda0cf40f', 'form1');
								}
								
							} else { //개발원 차량 목록이 없을 경우
								
								if(simplePlanCallYn != 'Y' && '' == 'sim'){
									fnSimplePlanCheck(inagInsDt);
								
								}else if("" == "e_sure_market" && "" != ""){
									//보험다모아
									//console.log('[MTPC0110G] (3)fnEasyPremListDisplay, inpath:');
									fnMtEasyPremCal('', '', '4', '5117', '40', ''); //130g
									
									lpOpener('centerLoadingBar');
									
								}else{
									$("#stepHistCd").val('10051001'); // 차량 종류 및 차대, 차번 등록 페이지 이동시 histCd
									HiJS.svr.doRequestForm('eda936e232', 'form1');
								}
							}
						}

					} else if ($('#pageCode').val() == '2' && cbpsCatCd == "" && "B280".indexOf(mediano) != -1) {
						//console.log('[MTPC0110G] -------------------ddd');
						$('#carListSize').val(responseObj.data.dhmt0001vo.dhmt0110vo.length);
						
						// 최근계산내역 팝업 노출
						fnEasyPremListDisplay(responseObj.data.dhmt0001vo.easyPremList);
						
					}
				},
				failure : function(responseObj){
					// 오류페이지 이동
					location.href="/bin/CO/CO/COCO0802G.jsp?pageGb=MT&etime=1661931188031";
					return;
				}
			}
		});
	}
	
	
	
	
	
	function fnKakao(){

		var oReqData = {
				
				executeTime :	$("#executeTime").val(),
				carNo :  $("#carNo").val(),
				keyNo :  '',
				requestNo : ''
			};	
		$.blockUI();
			HiJS.svr.doRequestAjax('DHMT5700M10S',{
				data : oReqData,
				loadingbar : false,
				
				callback : {
					success:function(responseObj){
					
						//카카오톡 접근시 로컬 스토리지에 certSeqNo값 저장-invader;
						localStorage.certSeqNo = responseObj.data.certSeqNo;
						
						if(responseObj.data.rsltCode == "9999"){
							$.unblockUI();
							alert("차량번호가 없는 차량으로 설계진행이 불가능합니다.", "closeLayer()");
							return;
						}else if(responseObj.data.rsltCode == "9991"){
							$.unblockUI();
							alert("개인용 차량만 진행가능합니다.", "closeLayer()");
							return;
						}
						
						
						//10111004 //안드
						//10111005 // ios
						
						if ( $("#osInfoCd").val() =="10111004" ) {
							window.location.href="kakaotalk://inappbrowser/close";
							
						}else{
							
							window.location.href="kakaoweb://closeBrowser";
							
						}
						
					},
					failure : function (responseObj){
						
					}
			}
		});

	}
	
	function fnSmsJumping(){

		var oReqData = {
				mappingNo 	: '',
				executeTime :	$("#executeTime").val()
			};	
			
			HiJS.svr.doRequestAjax('DHMT0100M46S',{
				data : oReqData,
				loadingbar : false,
				
				callback : {
					success:function(responseObj){
						var data = responseObj.data;
						if(data.resultCode == '010' ){
							alert('고객님, 보험시작일이 이미 지났거나 상품변경 등으로 계속 진행이 어렵습니다.<br>보험료계산을 원하시는 차량과 보험일시를 선택하신 후 진행해 주시기 바랍니다.', "fnNextPage();");
						}else if(data.resultCode == '020' ){
							alert('고객님, 차량소유자 본인이 아닌 경우 진행이 어렵습니다.<br>보험료계산을 원하시는 차량과 보험일시를 선택하신 후 진행해 주시기 바랍니다.', "fnNextPage();");
						}else{
							fnMtEasyPremCal(data.plnNo ,data.inagNoSeq , "2" , data.prodCd ,"40", data.clk2CallId + ":" + data.clk2CallSeq ,'' );
						}
						
					},
					failure : function (responseObj){
						fnNextPage();
					}
			}
		});
	}	
	
	function fnNextPage(){
		if ($('#carListSize').val() > 0) { //개발원 차량 목록이 있을 경우
			$("#stepHistCd").val('10051001');
			HiJS.svr.doRequestForm('ceda0cf40f', 'form1');
		} else { //개발원 차량 목록이 없을 경우
			$("#stepHistCd").val('10051001'); // 차량 종류 및 차대, 차번 등록 페이지 이동시 histCd
			HiJS.svr.doRequestForm('eda936e232', 'form1');
		}
	}
	
	var simplePlanCallYn = 'N'; //간편설계 확인여부
	function fnSimplePlanCheck(eDt){	
		//console.log("fnSimplePlanCheck -eDt:"+eDt);
		//return;
		
		$('#preNextCat').val('1');
		$('#inagInsStDt').val(eDt); //만기일이 갱신시작일,
		
		//console.log("fnSimplePlanCheck --prodCd:"+$('#prodCd').val());
		
		//$.blockUI();
		HiJS.svr.doRequestAjax("DHMT0100M42S", {
			formId : "form1",
			messageEnabled : false,
			loadingbar : true,
			callback : {
				success : function(responseObj) {
					
					if(responseObj.data.dhmt0001vo.executeCode == 999){
						// session이 없을때 처리
						location.href = "/bin/MT/PC/MTPC0004G.jsp";
					}					
					
					var retVal = responseObj.data.dhmt0001vo.simplePlanApplyYn;
					//console.log('DHMT0100M42S--simplePlanApplyYn:'+retVal);
					
					if(retVal == 'Y'){
						if($('#inagCat').val() == '3'){
							//console.log("fnSimplePlanCheck --------------------AA");
// 							console.log("fnSimplePlanCheck --inagStDt:"+$('#inagStDt').val());
// 							console.log("fnSimplePlanCheck --inagEdDt:"+$('#inagEdDt').val());
							
 							//자사갱신
// 							fnCalcInit();
 							
							//간편설계
							$("#stepHistCd").val('10051001');
							HiJS.svr.doRequestForm('3d78045bfc', 'form1');
							
						}else{
							//console.log("fnSimplePlanCheck --------------------BB");
							
							//간편설계
							$("#stepHistCd").val('10051001');
							HiJS.svr.doRequestForm('3d78045bfc', 'form1'); ///service.do?tranId=DHMT0100M01S&view=MT/PC/MTPC0140G.jsp
						}
								
					}else{
						//재호출, 기존프로세스
						simplePlanCallYn = 'Y';
						fnMove0131();
					}

				},
				failure : function(responseObj){
					// 오류페이지 이동
					//location.href="/bin/CO/CO/COCO0802G.jsp?pageGb=MT&etime=1661931188031";
					return;
				}
			}
		});
	}
	
	// 자사갱신 호출
	function fnCalcInit(){
		
		$('#preNextCat').val('1');
		$("#stepHistCd").val('10051001');
		
		$.blockUI();
		HiJS.svr.doRequestAjax("DHMT0100M01S", {
			formId : "form1",
			messageEnabled : false,
			loadingbar : true,
			callback : {
				success : function(responseObj) {
					
					if(responseObj.data.dhmt0001vo.executeCode == 999){
						// session이 없을때 처리
						location.href = "/bin/MT/PC/MTPC0004G.jsp";
					}
					
					$("#executeTime").val(responseObj.data.dhmt0001vo.executeTime);
					//console.log('DHMT0100M01S ---------------1:'+$("#executeTime").val());
					
					$('#preNextCat').val('1');
					$('#sameAddCat').val('1'); //동일증권 구분(1-단독,2-동일동시,3-동일추가,4-종기일치,5-단기계약) 
					
					//자사갱신
					HiJS.svr.doRequestForm('5304fc93e5', 'form1');

				},
				failure : function(responseObj){
					
					// 오류페이지 이동
					$.unblockUI();
// 					location.href="/bin/CO/CO/COCO0802G.jsp?pageGb=MT&etime=1661931188031";
// 					return;
				}
			}
		});
		
	}
	
	
	// 유효성체크
	function fnInputVldChk(){
		
		$('#ptyKorNm').val($('#ptyKorNm').val().trim());
		// 이름 유효성 검사
		if (/[^\s\t\r\n]+/.test($('#ptyKorNm').val()) == false) { //입력 여부
			alert("이름을 입력해주세요.", "$('#ptyKorNm').focus()");
			return false;
		} else if (/^[가-힣A-Za-z\s\.]+$/.test($('#ptyKorNm').val()) == false) { //한글 입력 여부
			alert("이름을 한글 또는 영문으로 입력해 주세요.", "$('#ptyKorNm').focus()");
			return false;
		}
		
		// 주민번호 유효성 검사
		if (/[^\s\t\r\n]+/.test($('#regNo1').val()) == false) {
			alert("주민등록번호 입력을 확인해주세요.", "$('#regNo1').focus()");
			return false;
		} else if (/^[0-9]*$/.test($('#regNo1').val()) == false) {
			alert("주민등록번호 입력을 확인해주세요.", "$('#regNo1').focus()");
			return false;
		} else if (/[^\s\t\r\n]+/.test($('#regNo2').val()) == false) {
			alert("주민등록번호 입력을 확인해주세요.", "$('#regNo2').focus()");
			return false;
		} else if (!validCheckRRNO_all($('#regNo1').val(), $('#regNo2').val(), "$('#regNo1').focus()")) {
			$('#regNo1').val(""); // 주민등록번호 초기화
			$('#regNo2').val(""); // 주민등록번호 초기화
			return false;
		}
		
		//차량번호 입력받는 경우, 유효성 검사
		if('' == 'B407'&& $("#carNo").val() == ''){
			alert("차량번호 또는 차대번호 입력을 확인해주세요.", "$('#carNo').focus()");
			return false;	
		}else if(''=='sim' && $('#telNo_af').val()=='' && $("#simplePlanCarNum").val() == '' ){
			alert("차량번호 또는 차대번호 입력을 확인해주세요.", "$('#simplePlanCarNum').focus()");
			return false;
		}
		
		// 휴대폰번호 유효성 검사
		if (/[^\s\t\r\n]+/.test($('#telNo').val()) == false) {
			alert("휴대폰번호 입력을 확인해주세요.", "$('#telNo_af').focus()");
			return false;
		} else if (/^[0-9]*$/.test($('#telNo').val()) == false) {
			alert("휴대폰번호 입력을 확인해주세요.", "$('#telNo_af').focus()");
			return false;
		} else if(!validTelNo($('#telNo').val(), $('#telCat').val(), "$('#telNo_af').focus()")){
			return false;
		} 
		
		var objTelNo = splitTelNo($('#telNo').val());
		$('#telNo1').val(objTelNo.telNo1);
		$('#telNo2').val(objTelNo.telNo2);
		$('#telNo3').val(objTelNo.telNo3);
		
		
		if('' == 'B407'){
			if($("#carNo").val() == ''){
				alert("차량번호 또는 차대번호 입력을 확인해주세요.", "$('#carNo').focus()");
				return false;	
			}
		
			if($("#carNo").val().length != "17"){
				var mnapAutoTypCat = fnGetMnapAutoTypCat($("#carNo").val());
				
				if(mnapAutoTypCat != "A"){
					alert("개인용 차량만 진행가능합니다.", "$('#carNo').focus()");
					return false;				
				}				
			}			
		}
		
		

		var eventTelNo = "";
		//C038이벤트로 넘어온 고객의 경우 이벤트화면에서 입력한 전화번호와 산출 전화번호가 같은 경우만 다음단계 진행 가능 JSK
		if ( ("C038" == "" || "C041" == "" || "C043" == "" || "C049" == "" || "C050" == "")
				&& eventTelNo != null
				&& eventTelNo != ""
				&& $('#telNo').val() != "" )
		{
			alert("이벤트 응모자 휴대폰번호와 차량 소유자 휴대폰번호가 같은 경우에만 응모 가능합니다. <BR/><BR/><font color='#4374D9'><B>서로 다른 경우는 응모할 수 없으니 <BR/>다시 확인하시기 바랍니다.</B></font>");
			lpOpener('eventStopLayer'); 
			return false;
		}
		
		
		return true;
	}
	
	// 가망고객 대상 LMS 이벤트 레이어 닫힘버튼 클릭시 실행 JSK
	function fnClsEvnt() {
		$.blockUI();
		closeLayer('eventStopLayer');
		if("C038" == ""){
			location.href="/service.do?m=2dc9a47c8d";
			
		}else if("C041" == ""){
		  var tmMenuId = "";		
		  //location.href="/service.do?m=24d06e530a"; // TM 7월 산출 이벤트
		  //location.href="/service.do?m=a1a3c928f2"; // TM 6월 산출 이벤트
 		  //location.href="/service.do?m=d8926628b7"; // TM 11월 산출 이벤트
 		  location.href="/service.do?m="+tmMenuId;   // TM 12월 산출 이벤트
 		  
		}else if("C043" == ""){
	 	   location.href="/service.do?m=e637e0b111";
		}else if("C049" == ""){//대표홈페이지 회원 DB CM산출 이벤트
	 	   location.href="/service.do?m=cc686ae434";
		}else if("C050" == ""){//대표홈페이지 회원 DB CM가입 이벤트
	 	   location.href="/service.do?m=df236ada60";
		}
		
	} 
	

	
	// 초기화
	function fnInit(){
		
		$('#ptyKorNm').val('');
		$('#regNo1').val('');
		$('#telCat').val(nvl('', '3'));
		$('#telNo').val('');
		$('#telNo1').val('');
		$('#telNo2').val('');
		$('#telNo3').val('');
		$('#telNo3').val('');
		$('#simplePlanCarNum').val(''); //간편설계 차량번호
		$('#telNo_bf').val('');		//휴대폰번호 input 디자인 변경으로 인한 추가
		$('#telNo_af').val('');
		
		//카카오톡 플랫폼인 경우 본인인증 화면 변경	
		//카카오톡이면서 간편갱신으로 접근시에도 처리(간편갱신은 강제로 medai_no가 A364로 변환됨) - 2020.11.09 심흥무
		//다른 상품에서도 사용하기 위해 COCO0091.jsp에 구현, 상단 타이틀 바꾸는것만 여기서 구현
		//if('' == 'B407'||utm_source == 'kakaotalk'){
		if('' == 'B407'){
			$("#selChoisDiv").hide();
			$("#certSubTitle").removeClass("topTxt01");
			$("#certSubTitle").addClass("topTxt");	
			
			$("#certSubTitle").hide();
			$("#onlyHpCertTitle").show();//휴대폰인증만 가능함 문구 보여줌
		}
		

		/* 브라우저 정보 및 OS 정보 가져오기 by 2016.08.09 김태원 */
		try {
			fnSettingChInfo();  //브라우저 정보
			getOsInfo();        //OS정보
			
			$("#osInfoCd").val(osInfo.cd);
			$("#osInfoVsn").val(osInfo.vsn);
			$("#osInfoPadCd").val(osInfo.pad);
			$("#bInfoCd").val(browserInfo.cd);
			$("#bInfoVsn").val(browserInfo.vsn);
		} catch(e) {
			
		}
	}
	
	// 차량번호 유효성체크
	function fnInputVldChkCarNum(){
		
		var carAutoNo = $('#simplePlanCarNum').val();
		//console.log('[fnInputVldChkCarNum] carAutoNo:'+carAutoNo);
		
		if('' == 'B407'){
			carAutoNo = $('#carNo').val();
		}
		
		if(carAutoNo == ''){
			// 차량번호가 null일때는 pass
			return true;
		}
    	
    	//차대번호 체크기능 추가
		if(carAutoNo.length == 17){
			tmpChssNo = carAutoNo.toUpperCase(); 		//소문자로 입력되었을 때 대문자로 변환해서 비교
			tmpChssNo2 = tmpChssNo.substring(11,17);
			//console.log('[fnInputVldChkCarNum] tmpChssNo2:'+tmpChssNo2+',tmpChssNo2.length:'+tmpChssNo2.length);
			
	        var chssNoExpReg = /^[A-Z0-9]{12}/g;	//차대번호 체크 정규식(17자리)	ex)KMHEM42APXA 123456  hicar 111 111 111 111
	        var chssNoExpReg2 = /^[0-9]{6}/g;		//차대번호 뒷6자리 숫자체크
	
	        if(!(chssNoExpReg.test(tmpChssNo) && tmpChssNo.length == 17) || tmpChssNo == '9999999') {
	        	
	        	alert('잘못된 차대번호입니다. 다시 입력해 주십시오.', "$('#simplePlanCarNum').focus()");
	        	$('#simplePlanCarNum').val("");
	        	return false;
	        }
		}else{
    	//차량번호
	        var carNumExpReg1 = /^[가-힝]{2}[0-9]{1}[0-9]{1}[가-힝]{1}[0-9]{4}/g;	//차량번호 체크 정규식              ex)서울12가1234
	        var carNumExpReg2 = /^[가-힝]{2}[0-9]{1}[가-힝]{1}[0-9]{4}/g;			//차량번호 체크 정규식              ex)부산1나1234
	        var carNumExpReg3 = /^[0-9]{1}[0-9]{1}[가-힝]{1}[0-9]{4}/g;			//차량번호 체크 정규식(뒤 6자리만)  ex)12다1234
	        
	        // 2019.09.01부터 차량번호 앞 3자리도가능 ( 100~699 ) / 승용만 해당 /  123가1234 형태만 존재 ( 서울123가1234 형태는 없음 )
	        var carNumExpReg4 = /^[1-6]{1}[0-9]{1}[0-9]{1}[가-힝]{1}[0-9]{4}/g;	 //차량번호 체크 정규식  ex)123다1234
	
	        if(!(      ( carNumExpReg1.test(carAutoNo) && carAutoNo.length == 9 ) 
	        		|| ( carNumExpReg2.test(carAutoNo) && carAutoNo.length == 8 ) 
	        		|| ( carNumExpReg3.test(carAutoNo) && carAutoNo.length == 7 )
	        		|| ( carNumExpReg4.test(carAutoNo) && carAutoNo.length == 8 ) // 2019.09.01 신규추가
	        	)) {
	        	alert('잘못된 차량번호입니다. 다시 입력해 주십시오.', "$('#carAutoNo').focus()");
	        	$('#simplePlanCarNum').val("");
	            return false;
	        } 
	        
	        //차량번호 자릿수에 따라 구분값 추출
	        //배, 바, 사, 아, 자, 허, 하, 호   ==> 영업용 차량
	        var sGubun = "";
	        
	        if(carAutoNo.length == 7) {
	            sGubun = carAutoNo.substring(2, 3);
	        } else if(carAutoNo.length == 8) {
	            sGubun = carAutoNo.substring(3, 4);
	        } else if(carAutoNo.length == 9) {
	            sGubun = carAutoNo.substring(4, 5);
	        }
	        
	        //영업용차량 여부
	        //[P20161011-0011]영업용보종(렌터카) 차량 가입 프로세스 변경 
	        if(sGubun == "바" || sGubun == "배" || sGubun == "사" || sGubun == "아" || sGubun == "자" || sGubun == "허" || sGubun == "하" || sGubun == "호" ) {
	        	alert('영업용 차량은 인터넷으로 보험료 계산/가입 안내가 어렵습니다. 자세한 내용은 고객센터(1577-1001)로 문의하여 주시기 바랍니다.', "$('#simplePlanCarNum').focus()");
	            return false;
	        }
		}
		
		return true;
	}
	
	
	
	// 차종구분 자동셋팅
	function fnGetMnapAutoTypCat(reqAutoNo){
		var carAutoNo = $('#carAutoNo').val();
		
		if(reqAutoNo){
			carAutoNo = reqAutoNo; 
		}
		
		var carCenterNo = '';
		var mnapAutoTypCat = '';
		
		// 차량번호 가운데자리 자르기
        if(carAutoNo.length == 7) {
        	carCenterNo = carAutoNo.substring(0, 2);
        }else if(carAutoNo.length == 8) {
        	var carNumExpReg2 = /^[가-힝]{2}[0-9]{1}[가-힝]{1}[0-9]{4}/g;	//차량번호 체크 정규식    ex)부산1나1234

        	if ( carNumExpReg2.test(carAutoNo) ) {
        		carCenterNo = carAutoNo.substring(2, 3);
        	} else { // 20190901부터 신규 부여되는 차량번호 123가1234
        		carCenterNo = carAutoNo.substring(0, 3);
        	}
        }else if(carAutoNo.length == 9) {
        	carCenterNo = carAutoNo.substring(2, 4);
        }else {
            return '';
        }
		
        if(carCenterNo.length == 1) {
        	// 차량번호 가운데 자리가 1자리면 구번호
			if(carCenterNo >= 1 && carCenterNo <= 4 ) {
            	mnapAutoTypCat = 'A';
            } else if(carCenterNo >= 5 && carCenterNo <= 6) {
            	mnapAutoTypCat = 'B';
            } else if(carCenterNo >= 7 && carCenterNo <= 8) {
            	mnapAutoTypCat = 'C';
            } else {
            	// 특수용도 차량 가입X
            	mnapAutoTypCat = 'X';
            }
        }else if(carCenterNo.length == 2){
        	// 차량번호 가운데 자리가 2자리면 신번호
        	carCenterNo = Number(carCenterNo);
            if(carCenterNo >= 1 && carCenterNo <= 69) {
            	mnapAutoTypCat = "A";
            } else if(carCenterNo >= 70 && carCenterNo <= 79) {
            	mnapAutoTypCat = "B";
            } else if(carCenterNo >= 80 && carCenterNo <= 97) {
            	mnapAutoTypCat = "C";
            }else{
            	// 특수용도 차량 가입X
            	mnapAutoTypCat = "X";
            }
        }else if(carCenterNo.length == 3){ // 예) 123가1234는 승용만 존재
        	mnapAutoTypCat = "A";
        }
        
        return mnapAutoTypCat;
	}
	
	//이상(anomaly) 주번체크 후 계속 진행
	function continueNext() {
		lpCloser('juminCheckLayer');
		anomalyNextYN = 'Y';
		fnMoveNext('1');
	}
	
	//이상(anomaly) 주번체크 후 중단
	function stopNext() {
		lpCloser('juminCheckLayer');
		alert("주민번호 암/복호화 과정 中 오류가 발생하였습니다.<br>고객센터 ☎1899-6782로 문의 후 설계 진행 부탁드립니다.");
	}
</script>




<div id="skipNavi"><a href="#h1Wrap">본문 바로가기</a></div>

	<!-- 자동차 보험 헤더 -->
	
		
		
	





<!-- 이벤트 노출체크 -->
 		<!-- 이벤트 노출체크 -->
 			<!-- 이벤트 노출체크 -->

 <!-- 제휴 글로비스 추가 -->

<script type="text/javascript">

	var paramStep = '1'; 
	var autoRegDt = ""; //2017-01-19
	var autoRegDt = ""; //2017-01-19
	var today = getToday();
	//console.log("[MTPC0001G]autoRegDt:"+autoRegDt+",today:"+today);
	//console.log("[MTPC0001G]prodCd:,_menuGb:"+_menuGb);
	
	//fnCmOutAutoCall -> goMain() 변경
	//2018-03-30 고미연대리 요청.
	function goMain(){
		//console.log("[MTPC0001G]goMain() -----------------1");
		location.href="service.do?m=7c6641ec8a";
	} 
	
	/** 
	 * @alias 산출이탈 OBCALL 자동저장 
	 */	
	function fnCmOutAutoCall(){
		console.log("[MTPC0001G]fnCmOutAutoCall() -----------------1");
		
		/* 이벤트기간 - 2017년 1월 23일~2월 22일 
		   배너노출조건 - 2006년 12월 31일 이전 년식 차량
		   박덕선G 요청
		
		if(autoRegDt != "" && parseInt(autoRegDt) <= 20061231 && parseInt(today) >= 20170123 && parseInt(today) <= 20170222){ //REAL
		//if(autoRegDt != "" && parseInt(autoRegDt) <= 20061231 && parseInt(today) >= 20170118 && parseInt(today) <= 20170222){ //TEST	
			$('#idHyundaiImg').show();
			$('#idBaseImg').hide();
			console.log('image: hyundai show');
		}else{
			$('#idHyundaiImg').hide();
			$('#idBaseImg').show();
			console.log('image: base show');
		} */
		
		var s_custCat		= '1';
		var s_obcallYn		= '';
		var s_mktgUtlAgrmYn	= '';
		console.log("[obcall]s_custCat:"+s_custCat+",s_obcallYn:"+s_obcallYn+",s_mktgUtlAgrmYn:"+s_mktgUtlAgrmYn);

		if(s_custCat == "1" && s_obcallYn == "Y" && s_mktgUtlAgrmYn == "01" && "4,5,6,7".indexOf(paramStep) != -1){
			
			var ob_telCat = '3';
// 			var ob_telNo1 = '';
// 			var ob_telNo2 = '';
// 			var ob_telNo3 = '';
			var ob_telNo1 = '';
			var ob_telNo2 = '';
			var ob_telNo3 = '';
			console.log("[obcall]"+ob_telCat+","+ob_telNo1+","+ob_telNo2+","+ob_telNo3);
			
			var jsondata = {telType:ob_telCat, telPart1:ob_telNo1, telPart2:ob_telNo2, telPart3:ob_telNo3, executeTime:''};
	 
			if(paramStep == '4'){
				//obcall
				console.log("[400]"+paramStep);
			}else if(paramStep == '5'){
				
				var telData = splitTelNo($('#hTelNo').val());
				
				var h_telCat = $('#hTelCat').val();
				var h_telNo1 = telData.telNo1;
				var h_telNo2 = telData.telNo2;
				var h_telNo3 = telData.telNo3;
				console.log("[500]"+h_telCat+","+h_telNo1+","+h_telNo2+","+h_telNo3);
				
				//연락처정보이 없을경우
				if(h_telCat == "" || h_telNo1 == "" || h_telNo2 == "" || h_telNo3 == "" || h_telNo2 == "0000" || h_telNo3 == "0000"){
					console.log('[500]5-1')
					//obcall
				}else{
					console.log('[500]5-2')
					jsondata = {telType:h_telCat, telPart1:h_telNo1, telPart2:h_telNo2, telPart3:h_telNo3};
				}
			}else if(paramStep == '6' || paramStep == '7'){
				var s_telCat = '';
				var s_telNo1 = '';
				var s_telNo2 = '';
				var s_telNo3 = '';
				console.log("[600]"+s_telCat+','+s_telNo1+','+s_telNo2+','+s_telNo3);
				
				jsondata = {telType:s_telCat, telPart1:s_telNo1, telPart2:s_telNo2, telPart3:s_telNo3};
			}
				
			var callmeResult = callmeApply('CM_OB_CALL', jsondata); //실시간PDS 콜미 
			if(callmeResult.result){
				console.log('[obcall]산출이탈 call 완료');
			}else{
				console.log(callmeResult.responseMessage);
			}
		}else{
			console.log('[obcall]산출이탈 else');
		}
		
		//var nTime = new Date().getHours();	//현재시간
		//if(parseInt(paramStep) >= 2 && getToday() <='20180131' ){
		if(getToday() <='20180131' ){
		//이벤트 기간인경우
            var oReqData = {
            	      custTel        : '' + '' + ''
            	      ,ptyId        : ''   
            	      ,bzCat          : '67'
            	      
            	};
            
      	  	HiJS.svr.doRequestAjax("DHCO0350M11S", {
      	  		data : oReqData,
      	  		loadingbar : false,
      	  		callback : {
      	  			success : function(responseObj) {

      	  				if(responseObj.data.rtCode != '002'){			//이벤트 미 참여자
      	  					$("#breakwayLayerEvent").show();			//coco0125g.jsp  이벤트배너
      	  				}else if(responseObj.data.rtCode == '002'){		//이벤트 참여자
      	  					$("#breakwayLayerEvent").hide();			//coco0125g.jsp  이벤트배너
      	  			
      	  				}
      	  			},
      	  			failure : function(responseObj) {
      	  				$("#breakwayLayerEvent").hide();			//coco0125g.jsp  이벤트배너
      	  			}
      	  		}
      	  	});	 
		}
		
		
		
		
	}
		
	$(function () {
		/* 화면진입 설계이력 저장 */
		if($("#planStepCode").val() != null){
		HiJS.svr.doRequestAjax("DHCO0120M02I", {
			data : {executeTime : $("#executeTime").val(), planStepCode: $("#planStepCode").val()} ,
			loadingbar:false,
			callback : {
				success : function(responseObj) {
				}, failure : function(responseObj){
					$.unblockUI();
				}
			}
		}); 
		
		fnStartCarTimer();
		}
	});

	// 타이머 시작
	function fnStartCarTimer() {
		
		$('#btnTimer').hide();
		
		var d = new Date();
		var edDtCount = '';
		var hh = '';
		var mm = '';
		
		if (sessionStorage.getItem('edDtCount') != null && sessionStorage.getItem('edDtCount') != '') {
			edDtCount = sessionStorage.getItem('edDtCount');
			if (edDtCount == today) {
				
				hh = 23 - d.getHours();
				if (hh > 0) {
					$('#countTimer').text(hh+'시');						
					$('#btnTimer').show();
				} else if (hh == 0) {
					mm = 60 - d.getMinutes();
					if (mm > 0) {
						$('#countTimer').text(mm+'분');						
						$('#btnTimer').show();
					} else {
						$('#btnTimer').hide();							
					}
				} else {
					$('#btnTimer').hide();
				}
			}
		} 
	}
	
	// 타이머 시간 채크
	function fnCarTimerCheck() {
		var min = Math.floor(timerCount / 60);
		var sec = (timerCount % 60);
		if (sec < 10) {
			sec = "0" + sec;
		}
		var str = min + ":" + sec;
		$("#certTimer").text(str);
		if (timerCount-- <= 0) {
			fnStopCertTimer();
		}
	}
	
</script>


<header id="topHeader" style="display: none;">
	
	<!-- 191104변경 --><h1><img src="https://mdirect.hi.co.kr/images/main/img_logo.png" alt="현대해상 다이렉트" style="width:135px;height:21px"></h1><!-- // 191104변경 -->
	
	
	
	<!-- <a href="javascript:fnCallOutLayer();" class="btnHome">메인페이지로 이동</a> -->
	
	
	
		<a href="javascript:openLayer('_callmeBreakwayLayerMT_psn');" class="btnHome" role="button">메인페이지로 이동</a>
	
	
	
</header>


<!-- pop-이탈방지 /2003 -->
<div id="_callmeBreakwayLayerMT_psn" class="popWrap" style="display:none">
    <header>
      <h1>현대해상다이렉트</h1>
    </header>

	<div class="popContent bgWhite">
      <div class="pdrlM">
      	<!-- 이탈팝업 수정요청 - 개인 자동차보험인 경우  다이렉트 자동차보험 전화번호 안내 팝업, 그 외에는 기존처럼 운전자보험 안내 팝업 
      	bzCd    업무구분 : 10511001.자동차
      	bzDetCd 업무구분 : 10081001.자동차(개인용)
      	custCat 고객구분 : (1:개인, 2:법인) -->
	    
	      
		    <p><img src="https://mdirect.hi.co.kr/images/content/img_leave_text_top.gif" alt="고객님, 나중에 다시 접속하셔도 지금 단계부터 진행 가능합니다. 간편저장 기능으로 PC, 모바일 구분없이 이어서 진행하실 수 있어요!" class="w100"></p>
		    <div><img src="https://mdirect.hi.co.kr/images/content/img_leave_ct.gif" alt="내 차 보험료 할인받는 방법, 현대해상다이렉트 자동차보험은 전화로도 가입이 가능합니다.전화가입상담센터 1577-1001, ※ 인터넷 보험료와 차이가 있습니다." class="w100"></div>
	      
      	  
        
	  </div>
      
	<!-- JSK 이탈팝업_이벤트배너 --> 
	
	<!-- // 이벤트200512 -->
	
	<!-- JSK 이탈팝업_이벤트배너 --> 
	
	<!-- 21년3월카드혜택이벤트 안내 /210322 -->
      
      <div class="btnWrap">
      	<span><a href="javascript:goMain();" role="button">홈으로</a></span>
      	<span><a href="javascript:closeLayer('_callmeBreakwayLayerMT_psn');" role="button">보험료 계산 계속하기</a></span>
      </div>
    </div>
    <!-- // popContent -->
    <button type="button" class="btnClose" onclick="javascript:closeLayer('_callmeBreakwayLayerMT_psn')">창닫기</button>
  <!-- // popWrap -->
</div>
<!-- // pop-이탈방지 /2003 -->


	
<div id="h1Wrap" class="pdB0" style="display: none;">
	
	
		
	    
		
		
				
					
		
				<!--20181101 이벤트 정규화 추가 : S-->
				





<script>
var CncNo = "";                           		 
var MediaNo = '';
var insProdCd = '10061001';
	//보험개발원 조회데이터 
	var	carDataArr = new Array();
    $(document).ready(function(){
       var menuId = 'b5eef5f9a4';
    	if(menuId == 'b5eef5f9a4'){
    		evntLayerCat = 'E07'; // 이벤트 정규화 - 고객정보 입력화면 top 이미지
    		fn_callEvent(evntLayerCat);
    	}
    });
    
    function fn_callEvent(evntLayerCat){
    	console.log("evntLayerCat : " + evntLayerCat);
    	console.log("companyId : " + MediaNo);
    	console.log("insProdCd : " + insProdCd);
		HiJS.svr.doRequestAjax('DHBF0800M01S', {
			data:{
				"evntLayerCat" : evntLayerCat 
				,"companyId" : MediaNo
				,"insProdCd" : insProdCd
			},
			async:false,
			loadingbar:false,
			callback:{success:function(resultObj) {
					var result = resultObj.data.dhbf0800voList;
					if(evntLayerCat == 'E07'){
						if(result.length>0){
							var inHtml = "";
							console.log (result);
							for(var i = 0; i < 1; i++ ) {	
								inHtml = '<img src="'+result[i].evntLayerImg+'" alt="'+result[i].evntLayerTitle+'" style="width:100%;">';
								if(result[i].evntLayerImg.trim() == ''){
									//$("#dept1top_01").show();
								}else{
									$("#dept1top_02_img").html(inHtml);
									$("#dept1top_02").show();
								}
							}
							$("#eventServiceYn_new").val('Y');
						}else{
							//$("#dept1top_01").show();
						}
					}
					console.log("result.length"+result.length);
					if(evntLayerCat == 'E08'){
						if(result.length>0){
							for(var i = 0; i < 1; i++ ) {
								var inHtml = "";
								inHtml = '<img src="'+result[i].evntLayerImg+'" alt="'+result[i].evntLayerTitle+'" style="width:100%"/>';
								$("#eventTopImage").html(inHtml);
								$("#eventId_new").val(result[i].evntSeqno);
								console.log("2"+result[i].evntLayerTitle);
								if(
										!("C038"==MediaNo)
										&& (!"C039"==MediaNo)
										&& (!"C043"==MediaNo)
										&& (!"C045"==MediaNo)
										&& (!"C047"==MediaNo)
										&& (!"C048"==MediaNo)) {		
									$("#eventServiceYn_new").val('Y');
								}
								console.log(result[i].evntLayerImg);
							}
						}
					}
					if(evntLayerCat == 'E09'){
						if(result.length>0){
							for(var i = 0; i < 1; i++ ) {
								var inHtml = "";
								inHtml = '<img src="'+result[i].evntLayerImg+'" alt="'+result[i].evntLayerTitle+'" style="width:100%"/>';
								$("#eventTopNoagreeImage").html(inHtml);
							}
						}
					}
				}
			},failure:function(data) {	
				
			}
		});	
		console.log($("#eventServiceYn_new").val());
    }	
</script>
<input type="hidden" id="eventId_new" name="eventId_new" value="">
<input type="hidden" id="eventServiceYn_new" name="eventServiceYn_new" value="N">
  <div class="carVisual" id="dept1top_01" style="display:none">
  	 <span class="subTitle"><img src="https://mdirect.hi.co.kr/images/content/title_main_no1.png" alt="대한민국 NO.1 브랜드"></span>
    <h2>다이렉트 자동차보험</h2>
    <div class="awardBrand">
       <!-- 연도변경200330 --><p class="txt">2018~2020 한국산업의 브랜드파워<br><span class="fontBlue">다이렉트 자동차보험 부문 3년 연속 1위</span></p><!-- // 연도변경200330 -->
    </div>
   <!--<h2>다이렉트 자동차보험</h2>
    <div class="txArea">
      <span class="fOrg">모든 조건 충족 시</span>
      <span class="sale">63.1<em>%</em></span>     
    </div>
    <p class="tx">(개인용 가입시)</p>-->
    <div class="info">
    	<ul class="specialArea">
      	<li>
        	<p><strong>15.4%</strong></p>
          <p>인터넷가입</p>
          <span>(오프라인 대비 평균)</span>
        </li>
        <li>
        	<p><strong>32%</strong></p>
          <p>마일리지 특약</p>
          <span>(3천KM이하)</span>
        </li>
         <li>
          <p><strong>14%</strong></p>
          <p>자녀할인 특약</p>
          <span>(부부/1인 한정 및 태아)</span>
        </li>
        <li>
          <p><strong>11.7%</strong></p>
          <p>무사고 할인</p>
          <span>(3년 이상 평균)</span>
        </li>
      </ul>
      <ul class="specialArea">
      	<li>
        	<p><strong>7%</strong></p>
          <p>커넥티드카<br>특약 할인</p>
          <span>(사고 통보장치 장착 시)</span>
        </li>
        <li>
        	<p><strong>6.8%</strong></p>
          <p>교통법규<br>준수 할인</p>
        </li>
        <li>
        	<p><strong>4.5%</strong></p>
          <p>차선이탈경고<br>장치특약 할인</p>
          <span>(경고장치 장착 시)</span>
        </li>
        <li>
        	<p><strong>2.0%</strong></p>
          <p>블랙박스특약</p>
          <span>(블랙박스 장착 시)</span>
        </li>
      </ul>
    </div>
    <!-- <div class="info"><img src="https://mdirect.hi.co.kr/images/content/img_carVisual_special.png" alt="평균15.4% 인터넷 가입(오프라인 대비 평균), 32% 마일리지 특약(3천Km 이하), 11.3% 무사고 할인(3년 이상), 13% 자녀할인 특약(부부/1인한정 및 태아), 7% 커넥티드카 특약 할인(사고통보장치장착 시), 4.7% 교통법규준수할인, 4.5% 차선이탈경고장치 특약 할인 (경고장치 장착 시), 3% 블랙박스 특약(블랙박스 장착 시)"></div> -->
  </div>
  	<div class="carVisual" id="dept1top_02" style="display:none">
		<!-- 현대캐피탈제휴상단이미지180509 -->
	       <div id="dept1top_02_img"><img src="" alt="" style="width:100%;"></div>
	       <!-- // 현대캐피탈제휴상단이미지180509 -->
	</div>
  
<!-- 수정1805 -->
  <!-- // carVisual -->
 <!-- 이벤트 정규화 추가 : S-->
				 <!-- 이벤트 정규화 추가 : E-->
			
		
		
		
			
			
			
			
			
			
			
			
			
			
			
			
			
			<!-- <div class="bannerCar">@Banner</div> -->
			
		
	<div class="carVisual">  
			
				
				
				
				
				
				
				
				
				 	<h2 class="tiImg"><img src="https://mdirect.hi.co.kr/images/motor/img_ti_carInsu2104.png" alt="다이렉트 자동차보험 고객님의 정보를 입력해 주세요."></h2>
				
			
		  		
			<form name="form1" id="form1" method="post">
			<!--  브라우저 및 OS 정보 추가 by 2016.08.09 김태원 -->
			<input type="hidden" name="osInfoCd" id="osInfoCd" value="10111001">
			<input type="hidden" name="osInfoVsn" id="osInfoVsn" value="NT x64">
			<input type="hidden" name="osInfoPadCd" id="osInfoPadCd" value="">
			<input type="hidden" name="bInfoCd" id="bInfoCd" value="10121002">
			<input type="hidden" name="bInfoVsn" id="bInfoVsn" value="103.0.5060.66 x64">
			<!-- [P20161018-0003]CM자동차보험 본인인증 간소화 by 2016.11.1 김태원 -->
			<input type="hidden" name="sesRegNo1" id="sesRegNo1" value="">
			<input type="hidden" name="sesRegNo2" id="sesRegNo2" value="">
			<input type="hidden" name="certExistYn" id="certExistYn" value="N">
			<input type="hidden" name="exCertCat" id="exCertCat" value="">
			<input type="hidden" name="sesPtyId" id="sesPtyId" value="">
			<!-- [P20161018-0003]CM자동차보험 본인인증 간소화 by 2016.11.1 김태원 -->		
			<input type="hidden" name="mktgUtlAgrmYn" id="mktgUtlAgrmYn" value="">	<!-- 마케팅활용동의 -->
			<input type="hidden" name="inagNo" id="inagNo" value="">		<!-- 설계번호 -->
			<input type="hidden" name="inagNoSeq" id="inagNoSeq" value="">		<!-- 설계번호 -->
			<input type="hidden" name="inagCat" id="inagCat" value="">		<!-- 갱신,이전산출구분 -->
			<input type="hidden" name="prodCd" id="prodCd" value="">		<!-- 보종코드 -->
			
			<input type="hidden" id="executeTime" name="executeTime" value="1661931188031">
			<input type="hidden" id="exeResCode" name="exeResCode" value="">
			<input type="hidden" id="preNextCat" name="preNextCat" value="1">
			<input type="hidden" id="telNo1" name="telNo1" value="010">
			<input type="hidden" id="telNo2" name="telNo2" value="9655">
			<input type="hidden" id="telNo3" name="telNo3" value="0926">
			<input type="hidden" id="pageCode" name="pageCode" value="1">
			<input type="hidden" id="telCat" name="telCat" value="3">
			
			<!-- 인증내용 -->
			<input type="hidden" id="certSeqNo" name="certSeqNo" value="">		<!-- 인증키값 -->
			<input type="hidden" id="certCat" name="certCat" value="">		<!-- 본인인증구분(02:공인인증, 03:휴대폰 인증) -->
			<input type="hidden" id="stepHistCd" name="stepHistCd" value="">
			<input type="hidden" id="receiveAgree" name="receiveAgree" value="">	<!-- 가입권유연락 방식 선택(전화/SMS/이메일/우편) -->
			<input type="hidden" id="agrmExprYear" name="agrmExprYear" value="">	<!-- 개인정보 보유기간 선택(5년/4년/3년) -->
			
			<input type="hidden" name="certSignGbCd" id="certSignGbCd" value="10481001"> <!-- 인증서명방법 : 10481001.본인인증  -->
			<input type="hidden" name="certSignMthdCd" id="certSignMthdCd" value=""> 		<!-- 인증서명상세 : 10491001.휴대폰인증  10491002.공동인증서 10491003.카카오페이 10491004.네이버페이 10491005.휴대폰직접서명 10491006.금융인증서  -->
			<input type="hidden" name="certSignDetCd" id="certSignDetCd" value="10501001">	<!-- 업무구분코드 : 10501001.피보험자 인증, 10501002.계약자인증  -->
			
			<input type="hidden" name="bzCd" id="bzCd" value="10511001"> <!-- 업무구분 : 10511001.자동차  -->
			<input type="hidden" name="bzDetCd" id="bzDetCd" value="10081001"> <!-- 업무구분 : 10081001.자동차(개인용) 가입  -->
			
			<input type="hidden" id="carListSize">
			<input type="hidden" id="mktgUtlAgrmViewYn" name="mktgUtlAgrmViewYn" value="N">	<!-- 상품 선택 약관 노출 여부 -->
	
			<!-- khsp1113 중간저장 -->
			<input type="hidden" name="clk2CallId" id="clk2CallId" value="">		<!-- 클릭투콜ID -->
			<input type="hidden" name="stepCd" id="stepCd" value="">		<!-- 단계코드 -->
			<!-- //khsp1113 중간저장 -->
			
			<!-- 간편설계 -->
			<input type="hidden" name="shotCutIdx" id="shotCutIdx" value=""><!-- 바로가기 idx --> 
			<input type="hidden" name="inagInsStDt" id="inagInsStDt" value="">
			<input type="hidden" name="prevInsdCo" id="prevInsdCo" value="">
			<input type="hidden" name="autoTypCd" id="autoTypCd" value="">
			<input type="hidden" name="chkExpPrem" id="chkExpPrem" value="">
			
			<!-- 간편설계:자사갱신 -->
			<input type="hidden" name="mnapAutoTypCat" id="mnapAutoTypCat" value="">
			<input type="hidden" name="carAutoNo" id="carAutoNo" value="">
			<input type="hidden" name="carAutoNoText" id="carAutoNoText" value="">
			<input type="hidden" name="prevVal" id="prevVal" value="2">
			<input type="hidden" name="inagStDt" id="inagStDt" value="">
			<input type="hidden" name="inagEdDt" id="inagEdDt" value="">
			<input type="hidden" name="sameAddCat" id="sameAddCat" value="">
			
			<!-- LMS간편설계 -->
			<input type="hidden" name="mappingNo" id="mappingNo" value="">
			
		<fieldset>
			<legend>자동차 소유주(예정) 정보입력</legend>
			<div class="inputWrap">
				<input type="text" id="ptyKorNm" name="ptyKorNm" title="이름입력" required="" maxlength="100">
				<label for="ptyKorNm">자동차 소유(예정)자의 이름</label>
			</div>
			<div class="inputWrap two">
				<input type="tel" id="regNo1" name="regNo1" title="주민등록번호 앞자리" required="" maxlength="6" autocomplete="new-password" onkeyup="">
				<label for="regNo1">주민등록번호 앞자리</label>
				<input type="password" id="regNo2" name="regNo2" title="뒤 7자리" required="" maxlength="7" xecurenumpad="" autocomplete="new-password" onkeyup="" readonly="readonly" data-click="close" style="background-color: rgb(228, 228, 228); border: 1px solid rgb(158, 158, 158);" axkdec="Y">
				<label for="regNo2">뒤 7자리</label>
			</div>
			
			
			
			
			
<!-- 			<div class="inputWrap">
				<input type="tel" id="telNo" name="telNo" title="휴대폰 번호" required maxlength="11" value=""/>
				<label for="telNo">휴대폰번호('-'없이)</label>
			</div>	 -->
			<div class="inputWrap select">
      			<select title="휴대폰 번호 앞자리" id="telNo_bf">
					<option value="010">010</option>
					<option value="011">011</option>
					<option value="016">016</option>
          			<option value="017">017</option>
          			<option value="018">018</option>
          			<option value="019">019</option>
          			<option value="0130">0130</option>
				</select>
				<input type="tel" id="telNo_af" name="telNo_af" title="휴대폰 번호 중간, 뒷자리" placeholder="휴대폰 번호(- 없이입력)" required="" maxlength="8" value="">
				<input type="hidden" id="telNo" name="telNo" title="휴대폰 번호" required="" maxlength="11" value="01096550926">
			</div>
		</fieldset>
		
		</form>
		
		
		
				
		
			
		
			
		
		
	    <!-- 버튼 / 입력 완료 시 활성화 <a>에 class="on" 추가 -->
	    <div class="btnWrap mgtL" style="position:relative;z-index:0">
	      <span><a href="javascript:fnMoveNext('1');" role="button" id="calcBtn" class="">보험료 계산하기</a></span>
	    </div>
	    <!--// 버튼 -->
	    <ul class="listDot">
	      <li>법인 자동차보험은 PC 홈페이지에서 가입 가능합니다.</li>
	      <li>영업용 자동차는 인터넷으로 가입할 수 없습니다.</li>
	      <li>이륜차보험(가정용, 배달용) 계산하기
	      	<a href="/service.do?m=3c8865986a" class="btnMoreagree" role="button" aria-label="바로가기"><span>바로가기</span></a>
	      </li>
	    </ul>
	</div> 
  	<!-- // carVisual -->	
	<ul class="carBnList">
		

		   <li>
		   	<img src="https://mdirect.hi.co.kr/images/motor/main_banner_cardBenefit202209_1_M.gif" alt="CM 자동차보험 결제할인행사 9월1차 (9.1~7)">
	        <!-- <img src="https://mdirect.hi.co.kr/images/content/img_bnf_card.gif" alt="카드 결제 혜택. 기간:12월1일~12월8일. HyundaiCard 1/3만원 주유권(신규/갱신),  SAMSUNGCARD 3만원 주유권(신규/갱신), KB국민카드 2만원 청구할인(신규/갱신), NPay 1%+1만원 추가적립(신규/갱신)"> -->
	       </li>
		
    <!-- 보장분석 배너 /2204 -->
    <li class="mgT0">
      <img src="https://mdirect.hi.co.kr/images/motor/calc_banner_dataLab2204.jpg" alt="내 차 보험 얼마나 안전할까? 자동차 보장 분석 결과를 보험료 계산 화면에서 지금 확인해 보세요.">
    </li>
    <!--// 보장분석 배너 /2204 -->
	</ul>
	<!-- content -->
	
	
	<section class="carInsuInfo">
	 	<h3 class="chkTi">내 차 보험료 할인 받는 방법은?</h3>
	   <div class="chkTx">내가 받을 수 있는 할인을 꼼꼼히 확인해 보세요!</div>
	   <div class="chkBox">
	   	<strong>평균 17.3% 저렴한 보험료 </strong>
	     <span>당사 오프라인 대비</span>
	   </div>
	<div class="infoToggleArea">
	     <div class="toggleBox on">
	       <div class="toggleTitle"><a href="javascript:void(0);" class="toggleBtn" role="button">연간 15,000km 이하로 주행하나요?</a></div>
	       <div class="toggleDetail" style="display:block">
	         <div class="infoTxt carsBg01">
	         	<div class="ti">
	             <strong>마일리지 특약</strong><em class="pnt">38%</em>              
	           </div>
	           <span class="tx">3천km 이하, 운행정보확인장치 방식</span>
	         </div>
	       </div>
	     </div>
	     <!--// toggleBox 마일리지특약 -->
	     <div class="toggleBox">
	       <div class="toggleTitle"><a href="javascript:void(0);" class="toggleBtn" role="button">사고없이 안전운전했나요?</a></div>
	       <div class="toggleDetail">
	         <div class="infoTxt carsBg02">
	         	<div class="ti">
	           	<strong>무사고할인</strong><em class="pnt">11.5%</em>              
	           </div>
	           <span class="tx">3년 이상 평균</span>
	         </div>
	         <div class="infoTxt carsBg03">
	         	<div class="ti">
	           	<strong>교통법규준수할인</strong><em class="pnt">7.5%</em>
	           </div>            
	         </div>
	       </div>
	     </div>
	     <!--// toggleBox 무사고할인 -->
	     <div class="toggleBox">
	       <div class="toggleTitle"><a href="javascript:void(0);" class="toggleBtn" role="button">만6세 이하 자녀나 태아가 있나요?</a></div>
	       <div class="toggleDetail">
	         <div class="infoTxt carsBg04">
	         	<div class="ti">
	          		<strong>자녀할인 특약</strong><em class="pnt">14%</em>
	           </div>
	           <span class="tx">부부/ 1인한정 및 태아</span>
	         </div>
	       </div>
	     </div>
	     <!--// toggleBox 자녀할인특약 -->
	     <div class="toggleBox">
	       <div class="toggleTitle"><a href="javascript:void(0);" class="toggleBtn" role="button">내 차가 커넥티드카인가요?</a></div>
	       <div class="toggleDetail">
	         <div class="infoTxt carsBg05">
	         	<div class="ti">
	             <strong>커넥티드카 할인특약</strong>
	             <em class="pnt">
	             	
	                7.1%
	             </em>
	           </div>
	           <span class="tx">사고 통보장치 장착 시</span>
	         </div>
	         <div class="infoTxt carsBg06">
	         	<div class="ti">
	             <strong>커넥티드카 안전운전 할인특약</strong>
	             <em class="pnt">9%</em>
	           </div>
	           <span class="tx">안전운전점수가 70점 이상인 경우</span>
	         </div>
	       </div>
	     </div>
	     <!--// toggleBox 커넥티드카할인특약 -->
	     <div class="toggleBox">
	       <div class="toggleTitle"><a href="javascript:void(0);" class="toggleBtn" role="button">부가장치를 장착했나요?</a></div>
	       <div class="toggleDetail">
	         <div class="infoTxt carsBg07">
	         	<div class="ti">
	             <strong>블랙박스 할인특약</strong>
	             <em class="pnt">2.2%</em>
	           </div>
	           <span class="tx">차량연식 12년 이하, 블랙박스 장착 시</span>
	         </div>
	         <div class="infoTxt carsBg08">
	         	<div class="ti">
	             <strong>차선이탈경고장치 할인특약</strong>
	             <em class="pnt">
	             	
	                4.3%
	             </em>
	           </div>
	           <span class="tx">차선이탈경고장치 장착 시</span>
	         </div>
	         <div class="infoTxt carsBg09">
	         	<div class="ti">
	             <strong>전방충돌경고장치 할인특약</strong>
	             <em class="pnt">1.5%</em>
	           </div>
	           <span class="tx">전방충돌경고장치 장착 시</span>
	         </div>
	       </div>
	     </div>
	     <!--// toggleBox 블랙박스할인특약 -->
	   </div>
	   <!--// toggleWrap -->
	   
		
			
  </section>
  <!--// carInsuInfo -->
</div>

 <div class="layerPopup" id="layerPopup1" aria-hidden="true" style="opacity: 0; display:none;">
   <div class="layerWrap">
     <h2>현대캐피탈 이벤트 유의사항</h2>
     <div class="layerCont">
         <ul class="listDot">
             <li>현대캐피탈 플러스멤버십 고객 대상 이벤트로 멤버십 회원이 아닌 경우 주유권이 제공되지 않습니다.</li>
             <li>현대캐피탈 전용 이벤트페이지를 통해 개인용 자동차 보험을 가입하신 고객에 한해 혜택이 제공됩니다 (현대캐피탈 제공)</li>
             <li>전화가입 및 별도의 심사가 필요하여 본 이벤트페이지를 통해 가입이 어려운 경우 대상에서 제외됩니다.</li>
             <li>현대캐피탈/현대해상 다이렉트의 다른 청구할인,캐쉬백, 주유권등 혜택과 중복 적용되지 않습니다.</li>
             <li>카카오페이 등 간편결제건은 제외됩니다. </li>
             <li>본인명의 차량 보유(보험개발원 기준) 고객만 참여가 가능합니다. </li>
             <li>차량이 2대 이상인 경우 각각 혜택을 받을 수 있으며, 주유권은 참여하신 휴대폰 번호로 발송이 됩니다. </li>
             <li>주유권지급일: 8월 10일(금)</li>
          </ul>   
     </div>
     <div class="layerBtn">
         <a href="javascript:void(0);" onclick="lpCloser('layerPopup1');" class="on" role="button">확인</a>
     </div>
     <a href="javascript:void(0);" onclick="lpCloser('layerPopup1');" role="button" class="layerClose">창닫기</a>
 </div>
</div>

<!-- KTCLIP 진입시 레이어 팝업 -->
<div class="layerPopup" id="ktclipInfoPopup" aria-hidden="true" style="opacity: 0;">
	<div class="layerWrap">
		<h2>카포인트 자동차보험 가입 이벤트 안내</h2>
		<div class="layerCont">
			<div class="visualTm">
				<p><strong class="oColor">이벤트 대상</strong>카포인트 채널을 통해 현대해상다이렉트에 접속하고 보험가입 완료한 건</p>
                <p class="pdtS"><strong class="oColor">이벤트 내용</strong>자동차보험 가입시 3만원 혜택 지급 (kt제공)<br> - 30만원 이상 3만원/ 현대해상 신규고객</p>
                <p class="pdtS"><strong class="oColor">지급일</strong>보험가입일 기준 익월 말일</p>
			</div>
			<div class="listDot mgtS">
				<p>혜택지급 조건 (산출 시점 보험개발원 조회 결과 기준)</p>
			</div>
			<ul class="listBasic mglS">
				<li>참여일 기준 기존 현대해상 가입차량은 혜택 제외됩니다.</li>
                <li>차량 소유주 기준 1인 1회에 한하며 현대해상의 다른 청구할인, 캐시백, 주유권 등 혜택과 중복되지 않습니다. (중복시 큰 금액 적용)</li>
                <li>전화가입 및 별도의 심사가 필요하여 홈페이지 가입이 어려운 경우 대상에서 제외됩니다.</li>
            </ul>
            <div class="listEtc">
				<p>가입 시 알아두실 사항</p>
			</div>
			<ol class="numList mglL mgtNone">
				<li>약관관련 보험계약 체결전에 상품설명서 및 약관을 읽어보시기 바랍니다.</li>
                <li>예금자보호제도<br>이 보험계약은 예금보험공사가 보호하되, 보호 한도는 본 보험회사에 있는 귀하의 모든 예금보험 대상 금융상품의 해약환급급(또는 만기시 보험금이나 사고보험금)에 기타지급금을 합하여 1인당 "최고 5천만원" 이며, 5천만원을 초과하는 나머지 금액은 보호하지 않습니다.</li>
                <li>보험계약체결<br>보험계약자가 기존에 체결했던 보험을 해지하고 다른 보험을 체결하면 보험인수가 거절되거나 보험료가 인상되거나 보장내용이 달라질 수 있습니다.</li>
            </ol>
		</div>
		<div class="layerBtn">
			<a href="javascript:void(0);" onclick="lpCloser('ktclipInfoPopup');" class="on" role="button">확인</a>
		</div>
		<a href="javascript:void(0);" onclick="lpCloser('ktclipInfoPopup');" role="button" class="layerClose">창닫기</a>
	</div>
</div>
<!-- // 레이어팝업 : KT클립 180625 -->

<!-- 이벤트레어어 팝업 -->
<div class="layerPopup" id="eventStopLayer" aria-hidden="true" style="opacity: 0; display: none;">
	<div class="layerWrap">
	    <h2>이벤트 참여 불가 안내</h2>
		<div class="layerCont" style="max-height:290px;">
			<div class="">
				<p><span>
					<font color="black"><b>이벤트 응모자 휴대폰번호와 차량 소유자 휴대폰번호가 같은 경우에만 응모 가능합니다.</b></font> <br><br><font color="#4374D9"><b>* 서로 다른 경우는 응모할 수 없으니 다시 확인하시기 바랍니다.</b></font>
				</span></p>
			</div>
		</div>
		<div class="layerBtn">
			<a href="javascript:void(0);" class="on" role="button" onclick="javascript:fnClsEvnt();">확인</a>
		</div>
		<a href="javascript:void(0);" role="button" class="layerClose" onclick="javascript:fnClsEvnt();">창닫기</a>
	</div>
</div>
<!-- // 휴대폰 직접서명 이용 공지 레이어 팝업1711 -->

<!-- 제휴 KTMBS B309 HDCAREVNT C045 / HDMF_RENEW C053 / HDMF_RENEW2 C060 start -->
<!-- Layer 개인정보 수집/이용 동의 -->
<div class="layerPopup" id="agreeLayerPop1" tabindex="0" aria-hidden="true" style="opacity: 0;">
  <div class="layerWrap">
    <h2>개인(신용)정보 수집 · 이용 동의</h2>
    <div class="layerCont counselInfo">
    	<h3>소비자 권익보호에 관한 사항</h3>
      	<p class="mgtS">본 동의를 거부하실 수 있으나, 거부하실 경우 이벤트에 참여하실 수 없습니다. 이벤트 참여 정보는 경품 당첨 안내 및 배송을 위해 당사 수탁 업체에 제공되며 경품 안내 및 배송 완료 후 파기합니다. </p>
      
      	<h3>개인(신용)정보의 수집 · 이용에 관한 사항</h3>
      	<p class="mgtS">당사 및 당사 업무수탁자는 「개인정보보호법」 및 「신용정보의 이용 및 보호에 관한 법률」에 따라 귀하의 개인(신용)정보를 다음과 같이 수집 · 이용하고자 합니다. 이에 대하여 동의하십니까?</p>
		<ul class="mgtS listDot">
			<li>개인(신용)정보의 수집 · 이용 목적 : 이벤트 응모 및 처리</li>
			<li>수집 · 이용할 개인(신용)정보의 내용 : 개인식별정보(이름, 휴대폰번호)</li>
			<li>개인(신용)정보의 보유  · 이용 기간 : 수집 · 이용 동의일로부터 1년</li>
		</ul>
    </div>
    <div class="layerBtn">
      <a href="javascript:void(0);" onclick="javascript:lpCloser('agreeLayerPop1')" class="on" role="button">확인</a>
    </div>
    <a href="javascript:void(0);" onclick="javascript:lpCloser('agreeLayerPop1')" class="layerClose" role="button">닫기</a>
  </div>
</div>
<!-- // Layer 개인정보 수집/이용 동의 -->

<!-- Layer 개인정보 제공 동의 -->
<div class="layerPopup" id="agreeLayerPop2" tabindex="0" aria-hidden="true" style="opacity: 0;">
  <div class="layerWrap">
    <h2>개인(신용)정보 제공 동의</h2>
    <div class="layerCont counselInfo">
    	<h3>개인(신용)정보의 제공에 관한 사항</h3>
      <p>[경품 발송을 위한 개인(신용)정보 처리 위탁 동의]</p>
      <ul class="mgtS listDot">
      	<li><b>개인(신용)정보 취급 위탁을 받는 자</b>        	
          <ul class="listBasic">          
		
			
					
			
				<li>갤럭시아커뮤니케이션즈(모바일 교환권)</li>
						
		 						
          </ul>
        </li>
      	<li><b>개인(신용)정보 취급위탁을 하는 업무의 내용</b>        	
          <ul class="listBasic">
			<li>경품 발송 업무</li>
          </ul>
        </li>
        <li><b>개인(신용)정보 제공 범위</b>        	
          <ul class="listBasic">
			<li>휴대폰번호</li>
          </ul>
        </li>
        <li><b>취급위탁을 받는 자의 개인(신용)정보 보유 · 이용기간</b>        	
          <ul class="listBasic">
			<li>경품발송일로부터 90일 이후 즉시 파기</li>
          </ul>
        </li>
      </ul>
    </div>
    <div class="layerBtn">
      <a href="javascript:void(0);" onclick="javascript:lpCloser('agreeLayerPop2')" class="on" role="button">확인</a>
    </div>
    <a href="javascript:void(0);" onclick="javascript:lpCloser('agreeLayerPop2')" class="layerClose" role="button">닫기</a>
  </div>
</div>
<!-- // Layer 개인정보 제공 동의 -->
<!-- 제휴 KTMBS B309 HDCAREVNT C045 end -->
<div class="layerPopup" id="chkKtEndPopup" style="display: none; opacity: 0;" aria-hidden="true">
  <div class="layerWrap">
		
			
			
					
			
				
						
		
    
    <div class="layerCont">
		
			
			
					
			
				
						
		 

         <p><strong><span class="oColor">9.30일 </span> </strong>자로 종료되었습니다.</p>          
    </div>
    <div class="layerBtn">
      <a href="javascript:void(0);" onclick="javascript:lpCloser('chkKtEndPopup');" class="on" role="button">확인</a>
    </div>
    <a href="javascript:void(0);" onclick="javascript:lpCloser('chkKtEndPopup');" class="layerClose" role="button">닫기</a>
  </div>
</div>

<!-- 레이어 - 보험다모아 /1911 -->
<script>
	function damoaClose(){
		lpCloser('damoaLayer')
		$('#ptyKorNm').focus();
	}
</script>

<div id="damoaLayer" class="layerPopup" style="display: none; opacity: 0;" aria-hidden="true">
	<div class="layerWrap" style="top:15%;padding:0;max-height:80%">
		<h2 class="hide" style="padding:0;border:none">이벤트 안내</h2>
		<div class="layerCont" style="padding:0;min-height:233px;max-height:600px">
    	<a href="javascript:void(0);" onclick="javascript:damoaClose();" title="보험다모아 설계 내역 확인하기">
    		<img src="https://mdirect.hi.co.kr/images/event/201911001/img_layer_damoa1911.jpg" alt="온라인 보험슈퍼마켓 보험다모아, 현대해상 다이렉트. 보험다모아 설계 보험료, 현대해상에서 바로 확인하세요! 현대해상에서는 고객정보만 입력하시면 방금 설계하신 보험다모아 자동차 보험료가 그대로 조회되어 편리하게 보험 가입이 가능합니다. 보험다모아 설계 내역 확인하기" style="width:100%">
    	</a>
		</div>
    <!-- // 내용 -->
		<a href="#" role="button" class="layerClose">창닫기</a>
	</div>
</div>
<!-- // 레이어 - 보험다모아 /1911 -->

<!-- 이상(anomaly) 주민번호 확인 -->
<div id="juminCheckLayer" class="layerPopup" style="display: none; opacity: 0;" aria-hidden="true">
	<div class="layerWrap">
		<div class="layerCont" style="max-height:290px;">
			<div class="">
				<p><span>
					<font color="black">주민번호 암/복호화 과정 中 뒷 7자리 숫자가 동일한 연속 숫자로 확인됩니다.<br>동일한 연속 숫자로 이루어진 것이 맞습니까?</font>
				</span></p>
			</div>
		</div>
		<div class="layerBtn">
				<span><a href="#none" role="button" class="on" onclick="javascript:continueNext();">예</a></span>
				<span><a href="#none" role="button" onclick="javascript:stopNext();">아니오</a></span>
		</div>
	</div>
</div>

<!-- 보험다모아용 로딩바 -->
<div class="loadBgW" id="centerLoadingBar" style="display:none;">
	<div class="loadImg"><img src="https://mdirect.hi.co.kr/images/common/loading.gif" width="48px" height="48px" alt="로딩 이미지"></div>
</div>



	










 		<!-- 책임개시일 -->
	<!-- 커넥티드카 여부(1. 기본  2. 옵션 0. 미적용) -->
     <!-- 휴일여부 Y.휴일 N.휴일아님 -->
     <!-- 상담신청 플로팅아이콘 보여줄지 여부 Y.보여줌  N.숨김  -->



<script type="text/javascript">

	$(document).ready(function() {
		//console.log("holidayYn=>" + "N" );
		//console.log("callIconViewYn=>" + "Y" );
		//console.log("curMenuId=>" + "b5eef5f9a4" );
		
	});

	// 상담신청 플로팅 아이콘 클릭 시 이벤트
	function fnCallConfirm() {
		
		if(confirm('고객센터로 연결하시겠습니까?', "fnCallConfirmOk()", "")){
			return;
		}
	}
	
	// 상담신청 플로팅 아이콘 클릭 후 확인 버튼 클릭 시 전화어플 실행
	function fnCallConfirmOk (){
		location.href = 'tel:1899-6782';
	}	
	
	
	function fnShowAllStepStat() {

		var headObjData = {
			executeTime : $('#executeTime').val()
		};
		HiJS.svr.doRequestAjax("DHMT0100M02S", {
			data : headObjData,
			callback : {
				success : function(responseObj) {
					if (responseObj.data.executeCode == 999 ) {
						location.href = "/bin/MT/PC/MTPC0004G.jsp";
						return;
					}
					
					if("" == "5407"){
						fnSetAllStepDataBike(responseObj);
					}else{
						fnSetAllStepData(responseObj);
					}
				},
				failure : function(responseObj) {
				}
			}
		});
	}
	
	/* 김옥희 대리 요청으로 2단계 이동 시 추가부속품 선택 화면으로 이동하도록 변경 by 2018.02.11 */
	var menuIdToStep = [
	              	{menuId : 'b5eef5f9a4', step : '1'}
	              , {menuId : 'eda936e232', step : '2'}
	              , {menuId : 'f71f0ead17', step : '3'}
	              , {menuId : 'b8ea03a350', step : '4'}
	              , {menuId : '2d69664fef', step : '5'}
	              , {menuId : 'ead71b4efb', step : '6'}
	              , {menuId : '203a6a48c9', step : '7'}
	              , {menuId : 'ed1ec73742', step : '8'}
	              , {menuId : 'cdd8ff7a6a', step : '9'}
	              ];
	
	var menuIdToStepBike = [
		              	{menuId : '3c8865986a', step : '1'}
		              , {menuId : 'f5f1bb25e4', step : '2'}
		              , {menuId : 'a8806388d8', step : '3'}
		              , {menuId : '6b128659e2', step : '4'}
		              , {menuId : '1dc9278b36', step : '5'}
		              , {menuId : 'ead71b4efb', step : '6'}  //기존id
		              , {menuId : '203a6a48c9', step : '7'}  //기존id
		              , {menuId : 'ed1ec73742', step : '8'}  //기존id
		              , {menuId : 'cdd8ff7a6a', step : '9'}  //기존id
		              ];
	
	function fnJumpingStep(step) {
		
		$('#preNextCat').val('3');
		
		//간편설계 화면으로 이동
		if(step == '1' && '' == 'Y'){
			$('#spcalc').val('sim');
			
		}
		
		if("" == "5407"){
			//이륜차
			$.each(menuIdToStepBike, function (idx, val) {
				if (val.step == step) {
					HiJS.svr.doRequestForm(val.menuId, 'form1');	
				}
			});
		}else{
			//자동차
			$.each(menuIdToStep, function (idx, val) {
				if (val.step == step) {
					HiJS.svr.doRequestForm(val.menuId, 'form1');	
				}
			});
		}
		
		
	}
	
	//자동차
	function fnSetAllStepData(responseObj) {
		//console.log('[MTPC0003G, fnSetAllStepData] call--------------------1');
		var exeData = responseObj.data;
		var maxStep = exeData.maxStep;
		var stepToNum = 0;
		
		if (paramStep == '2') {
			stepToNum = 1;
		} else if (paramStep == '3') {
			stepToNum = 2;
		} else if (paramStep == '4') {
			stepToNum = 3;
		} else if (paramStep == '5') {
			stepToNum = 4;
		} else if (paramStep == '6') {
			stepToNum = 5;
		} else if (paramStep == '7') {
			stepToNum = 6;
		} else if (paramStep == '8') {
			stepToNum = 7;
		}
		
		var appendHtml = '';
		
		// 자동차 정보
		appendHtml += "<div>";
		appendHtml += "<em class=\"tag\">STEP 2</em><strong>차량 기본정보</strong>";
		if (stepToNum >= 2) {

			appendHtml += "<dl>";
			if (exeData.carNumCat == '1') {
				appendHtml += "<dt>차량번호</dt>";
				appendHtml += "<dd>"+maskingCarAutoNo(exeData.carAutoNo)+"</dd>";
			} else if (exeData.carNumCat == '2') {
				appendHtml += "<dt>차대번호</dt>";
				appendHtml += "<dd>"+maskingCarAutoNo(exeData.chssNo)+"</dd>";
			} else if (exeData.carNumCat == '3') {
			}
			appendHtml += "<dt>보험기간</dt>";
			appendHtml += "<dd>"+setFormatDate(exeData.inagStDt, '.') + ' ~ ' + setFormatDate(exeData.inagEdDt, '.')+"</dd>";
			appendHtml += "</dl>";
			
			if("" != 'B278'){
				appendHtml += "<a href=\"javascript:fnJumpingStep('2');\" role=\"button\">수정</a>";
			}
		}
		appendHtml += "</div>";
		$('#stepToNum2').html(appendHtml);
		
		
		// 자동차 상세정보
		appendHtml = "";
		appendHtml += "<div>";
		appendHtml += "<em class=\"tag\">STEP 3</em><strong>차량 상세정보</strong>";
		if (stepToNum >= 3) {
			
			// 제조사 데이터
			var mkcdObj = [
				  {nm:'현대',			cd:'6'}
				, {nm:'르노삼성',		cd:'7'}
				, {nm:'기아',			cd:'1'}
				, {nm:'GM대우(쉐보레)',	cd:'3'}
				, {nm:'쌍용',			cd:'2'}
				, {nm:'외제차',		cd:'9'}
				];
			
			var autoCompNm = '';
			$.each(mkcdObj, function(idx, val) {
				if (exeData.autoCompCd == val.cd) {
					autoCompNm = val.nm;
				}
			});
			
			appendHtml += "<dl>";
			appendHtml += "<dt>제조사</dt>";
			appendHtml += "<dd>"+autoCompNm+"</dd>";
			appendHtml += "<dt>등록연도</dt>";
			appendHtml += "<dd>"+exeData.autoRegY+"년</dd>";
			appendHtml += "<dt>세부차명</dt>";
			appendHtml += "<dd>"+exeData.detAutoNm+"</dd>";
			if(exeData.prodCd != "5407"){
				appendHtml += "<dt>세부형식</dt>";
				appendHtml += "<dd>"+exeData.detAutoTyp+"</dd>";
				appendHtml += "<dt>총차량가액</dt>";
				appendHtml += "<dd>"+getCurrencyValue(exeData.totInsAmt)+"만원</dd>";
			}
			if(exeData.prodCd == "5407"){
				appendHtml += "<dt>배기량</dt>";
				appendHtml += "<dd>"+exeData.mncpEngdplNm+"</dd>";
				appendHtml += "<dt>사용용도</dt>";
				if(exeData.bicDrvgObj == "1"){
					appendHtml += "<dd>가정용 및 기타</dd>";	
				}else if(exeData.bicDrvgObj == "2"){
					appendHtml += "<dd>비유상운송 배달</dd>";
				}else if(exeData.bicDrvgObj == "3"){
					appendHtml += "<dd>유상운송 배달 및 대여용</dd>";
				}
			}

			appendHtml += "</dl>";
			
			if("" != 'B278'){
				appendHtml += "<a href=\"javascript:fnJumpingStep('3');\" role=\"button\">수정</a>";
			}
			
		}
		appendHtml += "</div>";
		$('#stepToNum3').html(appendHtml);
		
		
		// 가입 범위
		appendHtml = "";
		appendHtml += "<div>";
		appendHtml += "<em class=\"tag\">STEP 4</em><strong>운전자 정보</strong>";
		if (stepToNum >= 4) {
			
			appendHtml += "<dl>";
			appendHtml += "<dt>운전자범위</dt>";
			appendHtml += "<dd>"+exeData.drvrRngeLmtNm + ' ' + exeData.drvrAgeLmtNm+"</dd>";
			appendHtml += "</dl>";
			appendHtml += "<a href=\"javascript:fnJumpingStep('4');\" role=\"button\">수정</a>";
			
		}
		appendHtml += "</div>";
		$('#stepToNum4').html(appendHtml);
		
		
		// 보험료 계산
		appendHtml = "";
		appendHtml += "<div>";
		appendHtml += "<em class=\"tag\">STEP 5</em><strong>보험료 확인</strong>";
		if (stepToNum >= 5) {
			
			var disCntListStrTxt = '';
			if (exeData.chk9482 == 'Y') {
				disCntListStrTxt += '블랙박스 특약/';
			}
			if (exeData.chk9467 == 'Y') {
				disCntListStrTxt += 'ECO 마일리지 특약/';
			}
			if (exeData.magdChldPageCheck == '1') {
				disCntListStrTxt += '자녀할인 특약/';
			}
			if (exeData.chk9504 == 'Y') {
				disCntListStrTxt += '커넥티드카할인 특약/';
			}
			
			if (exeData.chk9504 == 'Y') {
				disCntListStrTxt += '안전운전할인 특약/';
			}
			
			if(exeData.chk9445){
				disCntListStrTxt += '승용차요일제 특약/';
			}
			if(exeData.chk9505 == 'Y'){
				disCntListStrTxt += '차선이탈경고장치 특약/';
			}			
			if(exeData.chk9766 == 'Y'){
				disCntListStrTxt += '나눔 특약/';
			}
			if(exeData.chk9489 == 'Y'){
				disCntListStrTxt += '안전교육할인 특약/';
			}
			disCntListStrTxt += '하이카 그린서비스/';
			if (disCntListStrTxt) {
				disCntListStrTxt = disCntListStrTxt.substring(0, disCntListStrTxt.length -1);
			}
			
			appendHtml += "<dl>";
			appendHtml += "<dt>할인특약</dt>";
			appendHtml += "<dd>"+(disCntListStrTxt == ''? '없음' : disCntListStrTxt)+"</dd>";
			appendHtml += "<dt>최종보험료</dt>";
			appendHtml += "<dd>"+getCurrencyValue(exeData.mtap1001VO.cltlDtlsVO.totElagAppPrem )+"원</dd>";
			appendHtml += "</dl>";
			appendHtml += "<a href=\"javascript:fnJumpingStep('5');\" role=\"button\">수정</a>";
			
		}
		appendHtml += "</div>";
		$('#stepToNum5').html(appendHtml);
		
		
		appendHtml = "";
		appendHtml += "<div>";
		appendHtml += "<em class=\"tag\">STEP 6</em><strong>계약자정보</strong>";
		if (stepToNum >= 6) {
			
			appendHtml += "<dl>";
			appendHtml += "<dt>계약자</dt>";
			appendHtml += "<dd>"+maskingName(exeData.mtap1112VO.p02.polhldrVO.ptyKorNm)+"("+ValueFilter.convert('regNo', exeData.mtap1112VO.p02.polhldrVO.ptyRegNo)+")</dd>";
			appendHtml += "<dt>피보험자</dt>";
			appendHtml += "<dd>"+maskingName(exeData.mtap1112VO.p02.insrdVO.ptyKorNm)+"("+ValueFilter.convert('regNo', exeData.mtap1112VO.p02.insrdVO.ptyRegNo)+")</dd>";
			appendHtml += "</dl>";
			appendHtml += "<a href=\"javascript:fnJumpingStep('6');\" role=\"button\">수정</a>";
			
		}
		appendHtml += "</div>";
		$('#stepToNum6').html(appendHtml);
		

		appendHtml = "";
		appendHtml += "<div>";
		appendHtml += "<em class=\"tag\">STEP 7</em><strong>청약내용 확인</strong>";
		if (stepToNum >= 7) {
			
			appendHtml += "<dl>";
			appendHtml += "<dt>보험명</dt>";
			appendHtml += "<dd>Hicar 개인용(CM)</dd>";
			appendHtml += "</dl>";
			appendHtml += "<a href=\"javascript:fnJumpingStep('7');\" role=\"button\">수정</a>";
			
		}
		appendHtml += "</div>";
		$('#stepToNum7').html(appendHtml);
		
		
		appendHtml = "";
		appendHtml += "<div>";
		appendHtml += "<em class=\"tag\">STEP 8</em><strong>결제</strong>";
		if (stepToNum >= 8) {
			
			/* $('#stepInfoSpn6_h').text('완료');
			fnAddTagAToParent('stepInfoSpn6_h', '6');
			fnAddTagAToParent('stepInfoSpn7_h', '7'); */
		}
		appendHtml += "</div>";
		$('#stepToNum8').html(appendHtml);
		
		openLayer('allStepShowLayer');
	}
	
	//이륜차용
	function fnSetAllStepDataBike(responseObj) {
		console.log('[MTPC0003G, fnSetAllStepDataBike] bike call--------------------1');
		
		var exeData = responseObj.data;
		var maxStep = exeData.maxStep;
		var stepToNum = 0;
		
		if (paramStep == '2') {
			stepToNum = 1;
		} else if (paramStep == '3') {
			stepToNum = 2;
		} else if (paramStep == '4') {
			stepToNum = 3;
		} else if (paramStep == '5') {
			stepToNum = 4;
		} else if (paramStep == '6') {
			stepToNum = 5;
		} else if (paramStep == '7') {
			stepToNum = 6;
		} else if (paramStep == '8') {
			stepToNum = 7;
		} else{
			stepToNum = 1;
		}
		
		var appendHtml = '';
		
		// 자동차 정보
		appendHtml += "<div>";
		appendHtml += "<em class=\"tag\">STEP 2</em><strong>차량 기본정보</strong>";
		if (stepToNum >= 2) {

			appendHtml += "<dl>";
			if (exeData.carNumCat == '1') {
				appendHtml += "<dt>차량번호</dt>";
				appendHtml += "<dd>"+maskingCarAutoNo(exeData.carAutoNo)+"</dd>";
			} else if (exeData.carNumCat == '2') {
				appendHtml += "<dt>차대번호</dt>";
				appendHtml += "<dd>"+maskingCarAutoNo(exeData.chssNo)+"</dd>";
			} else if (exeData.carNumCat == '3') {
			}
			appendHtml += "<dt>보험기간</dt>";
			appendHtml += "<dd>"+setFormatDate(exeData.inagStDt, '.') + ' ~ ' + setFormatDate(exeData.inagEdDt, '.')+"</dd>";
			appendHtml += "</dl>";
			
			if("" != 'B278'){
				appendHtml += "<a href=\"javascript:fnJumpingStep('2');\" role=\"button\">수정</a>";
			}
		}
		appendHtml += "</div>";
		$('#stepToNum2').html(appendHtml);
		
		
		// 자동차 상세정보
		appendHtml = "";
		appendHtml += "<div>";
		appendHtml += "<em class=\"tag\">STEP 3</em><strong>차량 상세정보</strong>";
		if (stepToNum >= 3) {
			/*
			// 제조사 데이터
			var mkcdObj = [
				  {nm:'현대',			cd:'6'}
				, {nm:'르노삼성',		cd:'7'}
				, {nm:'기아',			cd:'1'}
				, {nm:'GM대우(쉐보레)',	cd:'3'}
				, {nm:'쌍용',			cd:'2'}
				, {nm:'외제차',		cd:'9'}
				];
			
			var autoCompNm = '';
			$.each(mkcdObj, function(idx, val) {
				if (exeData.autoCompCd == val.cd) {
					autoCompNm = val.nm;
				}
			});*/
			
			appendHtml += "<dl>";
			appendHtml += "<dt>제조사</dt>";
			appendHtml += "<dd>"+exeData.autoCompCd+"</dd>";
			appendHtml += "<dt>모델명</dt>";
			appendHtml += "<dd>"+exeData.rpsAutoNm+"</dd>";
			appendHtml += "<dt>등록연도</dt>";
			appendHtml += "<dd>"+exeData.autoRegY+"</dd>";

			if(exeData.prodCd == "5407"){
				appendHtml += "<dt>배기량</dt>";
				appendHtml += "<dd>"+exeData.mncpEngdplNm+"</dd>";
				appendHtml += "<dt>사용용도</dt>";
				if(exeData.bicDrvgObj == "1"){
					appendHtml += "<dd>가정용 및 기타</dd>";	
				}else if(exeData.bicDrvgObj == "2"){
					appendHtml += "<dd>비유상운송 배달</dd>";
				}else if(exeData.bicDrvgObj == "3"){
					appendHtml += "<dd>유상운송 배달 및 대여용</dd>";
				}
			}
			appendHtml += "</dl>";
			
			if("" != 'B278'){
				appendHtml += "<a href=\"javascript:fnJumpingStep('3');\" role=\"button\">수정</a>";
			}
			
		}
		appendHtml += "</div>";
		$('#stepToNum3').html(appendHtml);
		
		
		// 가입 범위
		appendHtml = "";
		appendHtml += "<div>";
		appendHtml += "<em class=\"tag\">STEP 4</em><strong>운전자 정보</strong>";
		if (stepToNum >= 4) {
			
			appendHtml += "<dl>";
			appendHtml += "<dt>운전자범위</dt>";
			appendHtml += "<dd>"+exeData.drvrRngeLmtNm + ' ' + exeData.drvrAgeLmtNm+"</dd>";
			appendHtml += "</dl>";
			appendHtml += "<a href=\"javascript:fnJumpingStep('4');\" role=\"button\">수정</a>";
			
		}
		appendHtml += "</div>";
		$('#stepToNum4').html(appendHtml);
		
		
		// 보험료 계산
		appendHtml = "";
		appendHtml += "<div>";
		appendHtml += "<em class=\"tag\">STEP 5</em><strong>보험료 확인</strong>";
		if (stepToNum >= 5) {
			
			var disCntListStrTxt = '';
			if (exeData.chk9482 == 'Y') {
				disCntListStrTxt += '블랙박스 특약/';
			}
			if (exeData.chk9467 == 'Y') {
				disCntListStrTxt += 'ECO 마일리지 특약/';
			}
			if (exeData.magdChldPageCheck == '1') {
				disCntListStrTxt += '자녀할인 특약/';
			}
			if (exeData.chk9504 == 'Y') {
				disCntListStrTxt += '커넥티드카할인 특약/';
			}
			
			if (exeData.chk9504 == 'Y') {
				disCntListStrTxt += '안전운전할인 특약/';
			}
			
			if(exeData.chk9445){
				disCntListStrTxt += '승용차요일제 특약/';
			}
			if(exeData.chk9505 == 'Y'){
				disCntListStrTxt += '차선이탈경고장치 특약/';
			}			
			if(exeData.chk9766 == 'Y'){
				disCntListStrTxt += '나눔 특약/';
			}
			if(exeData.chk9489 == 'Y'){
				disCntListStrTxt += '안전교육할인 특약/';
			}
			disCntListStrTxt += '하이카 그린서비스/';
			if (disCntListStrTxt) {
				disCntListStrTxt = disCntListStrTxt.substring(0, disCntListStrTxt.length -1);
			}
			
			appendHtml += "<dl>";
			appendHtml += "<dt>할인특약</dt>";
			appendHtml += "<dd>"+(disCntListStrTxt == ''? '없음' : disCntListStrTxt)+"</dd>";
			appendHtml += "<dt>최종보험료</dt>";
			appendHtml += "<dd>"+getCurrencyValue(exeData.mtap1001VO.cltlDtlsVO.totElagAppPrem )+"원</dd>";
			appendHtml += "</dl>";
			appendHtml += "<a href=\"javascript:fnJumpingStep('5');\" role=\"button\">수정</a>";
			
		}
		appendHtml += "</div>";
		$('#stepToNum5').html(appendHtml);
		
		
		appendHtml = "";
		appendHtml += "<div>";
		appendHtml += "<em class=\"tag\">STEP 6</em><strong>계약자정보</strong>";
		if (stepToNum >= 6) {
			
			appendHtml += "<dl>";
			appendHtml += "<dt>계약자</dt>";
			appendHtml += "<dd>"+maskingName(exeData.mtap1112VO.p02.polhldrVO.ptyKorNm)+"("+ValueFilter.convert('regNo', exeData.mtap1112VO.p02.polhldrVO.ptyRegNo)+")</dd>";
			appendHtml += "<dt>피보험자</dt>";
			appendHtml += "<dd>"+maskingName(exeData.mtap1112VO.p02.insrdVO.ptyKorNm)+"("+ValueFilter.convert('regNo', exeData.mtap1112VO.p02.insrdVO.ptyRegNo)+")</dd>";
			appendHtml += "</dl>";
			appendHtml += "<a href=\"javascript:fnJumpingStep('6');\" role=\"button\">수정</a>";
			
		}
		appendHtml += "</div>";
		$('#stepToNum6').html(appendHtml);
		

		appendHtml = "";
		appendHtml += "<div>";
		appendHtml += "<em class=\"tag\">STEP 7</em><strong>청약내용 확인</strong>";
		if (stepToNum >= 7) {
			
			appendHtml += "<dl>";
			appendHtml += "<dt>보험명</dt>";
			appendHtml += "<dd>Hicar 개인용(CM)</dd>";
			appendHtml += "</dl>";
			appendHtml += "<a href=\"javascript:fnJumpingStep('7');\" role=\"button\">수정</a>";
			
		}
		appendHtml += "</div>";
		$('#stepToNum7').html(appendHtml);
		
		
		appendHtml = "";
		appendHtml += "<div>";
		appendHtml += "<em class=\"tag\">STEP 8</em><strong>결제</strong>";
		if (stepToNum >= 8) {
			
			/* $('#stepInfoSpn6_h').text('완료');
			fnAddTagAToParent('stepInfoSpn6_h', '6');
			fnAddTagAToParent('stepInfoSpn7_h', '7'); */
		}
		appendHtml += "</div>";
		$('#stepToNum8').html(appendHtml);
		
		openLayer('allStepShowLayer');
	}
	
 	var retVal = true;
	function fnEcoMethodClk(rdoVal) {
		
		if(rdoVal == '2') {
			if (!confirm('마일리지 특약 거리측정방식을 OBD로 선택 시, 최종운행정보(OBD)확인장치 장착이 필요합니다. 또한 해당 특약 거리측정방식으로 OBD를 선택하여 가입 시 추후 변경 및 재가입은 불가합니다.\n계속 진행하시겠습니까?', "fnMethodCallback()", "fnMethodCallback2()")) {
			}
			
			$("#fstDrvDistPhtgDtDiv").hide();
			$("#fstDrvDistDiv").hide();
			
		}else if(rdoVal == '3') {
			//$("#fstDrvDistPhtgDt").show();
			//$("#fstDrvDist").show();
			
			$("#fstDrvDistPhtgDtDiv").show();
			$("#fstDrvDistDiv").show();
			
			//kode123,20180629
			// 커넥티드카 여부(1. 기본  2. 옵션 0. 미적용))
			console.log('[MTPC0003G, fnEcoMethodClk] connCarCat:');
// 			if(''=='1' || ''=='2'){
// 				alert("커넥티드카 기본장착차량으로 할인특약이 자동적용 되었습니다. 실제 커넥티드카 장착된 차량인지 반드시 확인하시기 바랍니다");
// 			}
			
		}else{
			$("#fstDrvDistPhtgDtDiv").hide();
			$("#fstDrvDistDiv").hide();
		}
		return retVal;
	}
	
	function fnMethodCallback() {
// 		retVal = false;
// 		$(':radio[name="method"]:input[value="1"]').prop('checked', true);
		console.log("[MTPC0401G,fnEcoMethodClk] 1 retVal:"+retVal);
	}
	
	function fnMethodCallback2() {
		retVal = false;
		
		$("#ecoObd").removeClass('on');
		//$("#ecoPic").addClass('on');
		$('#method').val('');
		console.log("[MTPC0401G,fnEcoMethodClk] 2 retVal:"+retVal);
	}

	
	

</script>

<div class="popWrap" style="display: none;" id="allStepShowLayer">
	<header>
		<h1>입력정보 요약</h1>
	</header>
	<div class="popContent">
		<section class="bg">
			<ul class="infoSummary">
				<li id="stepToNum1">
					<div>
						<em class="tag">STEP 1</em><strong>고객정보</strong>
						<span>(nullnull)</span>
						<a href="javascript:fnJumpingStep('1');" role="button">수정</a>
					</div>
				</li>
				<li id="stepToNum2">
				</li>
				<li id="stepToNum3">
				</li>
				<li id="stepToNum4">
				</li>
				<li id="stepToNum5">
				</li>
				<li id="stepToNum6">
				</li>
				<li id="stepToNum7">
				</li>
				<li id="stepToNum8">
					<div>
						<em class="tag">STEP 8</em><strong>보험료결제</strong>
					</div>
					<!-- <div>
						<em class="tag">STEP 8</em><strong>결제</strong>
						<dl id="">
							<dt>결제방법</dt>
							<dd id="stepAutoComp"></dd>
							<dt>결제금액</dt>
							<dd id="stepAutoComp"></dd>
							<dt>ECO마일리지 환급 계좌</dt>
							<dd id="stepAutoComp"></dd>
						</dl>
					</div> -->
				</li>
			</ul>
		</section>
		<div class="btnWrap"><!-- style 화면하단고정타입 버튼영역 위치변경, class 삭제 -->
			<a href="javascript:closeLayer('allStepShowLayer');" role="button" class="on">확인</a>
		</div>
	</div>
	<button type="button" class="btnClose" onclick="javascript:closeLayer('allStepShowLayer');">창닫기</button>
</div>

<!-- 다이렉트모바일 자동차보험 가입화면 전체에 전화상담 아이콘 추가 / 정경미 대리 요청으로 2019.01.10 반영 by 김태원 과장  -->


<form name="frmInfo" id="frmInfo" method="post">
	<input type="hidden" id="executeTime" name="executeTime" value="1661931188031">
	<input type="hidden" id="preNextCat" name="preNextCat" value="3">	
</form>
	 <!-- 전체보기 레이어 -->




<script type="text/javascript">
	
	var _telData = {telType:"", telNo:"", referer:"/"};
	var _telChk = false;
	
	/**
	 * @alias 이탈레이어
	 */
	function fnCallOutLayer() {
		var rootGb = _menuGb.substr(0, 2);
		if (rootGb == "82") { // 자보
			fnCmOutAutoCall(); // 산출이탈 OBCALL 자동저장 2016-10-12
		}
		
		var task = getCallmeTask();
		console.log("_menuGb:"+_menuGb, task);
		// 마지막스텝 체크
		//2021-10-26
		//CM장기 실손 설계이탈화면 개선(모바일) 
		if (isLastStep() || task == "MD_CALL" || task == "WF_CALL") {
			if (task == "CC_CALL") {
				lpOpener("_linkedSaleLTMD");
			} else if ( task == "MD_CALL" || task == "FIRE_CALL"  || task == "CHILD_CALL"|| task == "LT_CALL" || task == "WF_CALL") {
				lpOpener("_linkedSaleLTCC");
			} else if ( task == "HT_CALL"){
				lpOpener("_linkedSaleLTHT");
			} else {
				location.href = "/";
			}
			
			return;
		}
		// 전화번호세팅
		setCallmeTelNo();
		// 레이어호출
		
		if (task == "CAL_CALL") {
			openCallmeLayerPC(task, _telData, _telData.referer);
		} else {
			if(_menuId == '058d893174' || _menuId == '452665tgd7' 
				|| _menuId == '7afb3ad9a3' || _menuId == 'a7ab8a9cfb' || _menuId == '9589f58b0d'){
				openCallmeLayerPC(task, _telData,_menuId);
			}
			else{
				openCallmeLayerPC(task, _telData);
			}
		}
		
		// 보험료계산 나가기 중간저장 호출
		if(isCalcStep()){
			fnSaveBtnClose();
		}
	}
	//연금보험 모바일 이탈
	function fnCallOutLayerPn(){
		lpOpener("_linkedSaleLTCC");
	}
	
	function fnCallOutInsuLayer() {
		// 전화번호세팅
		setCallmeTelNo();
		
		var task = "L_FG_INSU_CALL";
		openCallmeLayerPC(task, _telData);
	}
	
	
	/** 
	 * @alias 기본전화번호 세팅
	 */
	function setCallmeTelNo() {
		if (!_telChk) {
			_telData = getCMTelNo($("input[name=executeTime]").val());
			_telChk = true;
			if ($("input[data-callmeTelInfo='telNo']").length > 0 && $("input[data-callmeTelInfo='telNo']").val() != "") {
				_telData.telType = $("select[data-callmeTelInfo='telCat']").val();
				_telData.telNo = $("input[data-callmeTelInfo='telNo']").val();
				_telChk = false;
			}
		}
	}
	
	/** 
	 * @alias 보험료계산 나가기 스텝 판단
	 */	 
	function isCalcStep() {
		var result = false;
		var rootGb = _menuGb.substr(0, 2);
		switch(rootGb) {
			case "84" : // 운보
				if (_menuId == "452665tgd7") result = true;
			case "75" : // 주택화재상해보험
				if (_menuId == "7afb3ad9a3") result = true;
			case "16" : // 어린이보험
				if (_menuId == "058d893174") result = true;	
			case "c2" : // 실손
				if (_menuId == "dfc6f4a1c4") result = true;
			case "87" :	// 암
				if (_menuId == "a7ab8a9cfb") result = true;
			case "97" : // 건강보험
				if (_menuId == "9589f58b0d") result = true;
			case "93" :	// 연금
				if (_menuId == "c40bb2bc43") result = true;
		}
		return result;
	}
	
	/** 
	 * @alias 마지막스텝 판단
 	    PC     모바일
 	연금	47	    93
 	실손	48	    c2
 	운전자	46	    84
 	건강	97	    97
 	주택	98	    98
 	암       49	    C3
 	어린이	99	    99
	 */
	function isLastStep() {
		var result = false;
		var rootGb = _menuGb.substr(0, 2);
		switch(rootGb) {
			case "82" : // 자보
				if (_menuId == "dkq91cj01s") result = true;
				break;
			case "84" : // 운보
				if (_menuId == "e4n3d1h78s") result = true;
				break;
			case "85" : // 해외여행
				if (_menuId == "80e79e8a1d") result = true;
				break;
			case "d8" : // 해외장기체류
				if (_menuId == "fecf44d3a2") result = true;
				break;
			case "86" : // 국내여행
				if (_menuId == "f4388de059") result = true;
				break;
			case "87" : // 암보험	장기3종 가입완료 팝업 신설 2004 : 마지막 페이지 체크 추가
				if (_menuId == "04f6ddcc57") result = true;
				break;
			case "c2" : // 실손의료비보장보험
				if (_menuId == "4ba17d8689") result = true;
				break;
			case "91" : // 골프
				if (_menuId == "aa71dea157") result = true;
				break;
			case "93" : // (무)연금보험
				if (_menuId == "ltpn0099") result = true;
			case "94" : // 주택화재
				if (_menuId == "5096215818") result = true;
				break;
			case "97" : // 건강보험
				if (_menuId == "ed4b7991aa") result = true;
				break;
			case "f5" : // H주택화재상해보험
				if (_menuId == "d52c9e7702") result = true;
				break;	
			case "98" : // H주택화재상해보험
				if (_menuId == "d52c9e7702") result = true;
				break;	
			case "22" : // 어린이보험
				if (_menuId == "a954bdb1c9") result = true;
				break;
			case "16" : // 어린이보험
				if (_menuId == "a954bdb1c9") result = true;
				break;	
		}
		
		return result;
	}
	
	/** 
	 * @alias 보험상품별 TASK 
	 */
	function getCallmeTask() {
		var result = "CAL_CALL";
		var rootGb = _menuGb.substr(0, 2);
		console.log("rootGb:"+rootGb);
		switch(rootGb) {
			case "82" : // 자보
				result = "CAL_CALL";
				break;
			case "84" : // 운보
				result = "LT_CALL";
				break;
			case "85" : // 해외여행
				result = "FG_CALL";
				break;
			case "d8" : // 해외장기체류
				result = "L_FG_CALL"; // 해외장기체류보험은 해외여행과 동일하게 콜미신청하기로 함 (2016.07.27 윤우현 주임에게 확인) // 2021.11.03 해외장기체류 이탈프로세스 변경(안윤경 차장님)
				break;
			case "86" : // 국내여행
				result = "DM_CALL";
				break;
			case "87" : // 암보험	장기3종 가입완료 팝업 신설 2004 : 압보험 상품 TASK 추가
				result = "CC_CALL";
				break;
			case "c2" : // 실손의료비
				result = "MD_CALL";
				break;
			case "91" : // 골프
				result = "GF_CALL";
				break;
			case "93" : // (무)연금보험 // XXX 콜 코드 확인
				result = "XX_CALL";
				break;
			case "94" : // 주택화재
				result = "HS_CALL";
				break;
			case "43" : // 사업장화재
				result = "WF_CALL";
				break;
			case "97" : // 건강보험
				result = "HT_CALL";
				break;		
			case "f5" : // H주택화재상해보험
				result = "FIRE_CALL";
				break;	
			case "98" : // H주택화재상해보험
				result = "FIRE_CALL";
				break;
			case "75" : // H주택화재상해보험
				result = "FM_CALL";
				break;
			case "22" : // 장기어린이보험
				result = "CHILD_CALL";
				break;
			case "16" : // 장기어린이보험
				result = "CHILD_CALL";
				break;	
			case "7d" : // 전환형실손
				result = "SM_CALL";
				break;					
		}
		
		return result;
	}
	
</script>

<!-- 공통 레이어 -->














<!-- 이벤트 노출체크 -->
 		<!-- 이벤트 노출체크 -->

<script type="text/javascript">
	
	$(function() {
		$("#dummyiframe").attr("title", "빈 프레임");
		
		$('input[name=custNo1]').click(function(){
			if($(this).val() == "예)19780802") {
				$(this).val("");
			}
		});
		var appInfo = JSON.parse(sessionStorage.getItem('appInfo'));
		
		if (appInfo != undefined && (appInfo.osType == 'AOS' || appInfo.osType == 'IOS')){
		}else{
			$("#appLayer1").show();
			$("#appLayer2").show();
		}
		
		fnSvcNtfyCnts(); // 긴급공지 조회
		
	});
	
	// 긴급공지 조회
	function fnSvcNtfyCnts() {
		var requestVO = {};
		requestVO = {
				svcMenuId : _menuId //메뉴ID
		};
		
		HiJS.svr.doRequestAjax('DHCO0210M09S', {
			data		: requestVO,
			callback	: {
					success : function(responseObj) {
						var resData = responseObj.data;
						
						
						console.log("resData.title:::", resData);
						console.log("resData.title:::" + resData.title);
						
						
						if( resData!=null && resData.title!=null && resData.cnts!=null ){
							$('#menuEmrNtceTitle').text(resData.title);
							$('#menuEmrNtceCont').html(resData.cnts);
							alertOpener("menuNoticeLayerPopAlert");
						}
					},
					failure : function(responseObj){
						
						console.log("긴급공지 조회 실패");
						
					}
			}
		});
	}
	
	//장기체류해외여행보험 보험료 나에게 보내기
	function lfgSendMeKakao(){

		var telNo1 = $("#mpNo").val().substring(0, 3);
		var telNo2 = $("#mpNo").val().substring(3, 7);
		var telNo3 = $("#mpNo").val().substring(7, 11);
		
		var requestVO = {};
		requestVO = {
				telNo1 : telNo1, //메뉴ID
				telNo2 : telNo2, //메뉴ID
				telNo3 : telNo3, //메뉴ID
				executeTime : $("#executeTime").val()
		};
		
		console.log("requestVO : " + requestVO);
		HiJS.svr.doRequestAjax('DHGI5001M81S', {
			data		: requestVO,
			callback	: {
					success : function(responseObj) {
						alert("보험료 전송이 완료되었습니다.<br>출국 전 잊지말고 다시 방문해주세요.","location.href='/'");
					},
					failure : function(responseObj){
						alert("보험료 전송이 실패하였습니다.<br>입력정보를 확인해주세요.");
					}
			}
		});
	}
	
	/**
	 * @alias 개인정보 동의 안내 팝업
	 */
	function fnOpenLayer() {
		openLayer('_bottomInfoLayer4');
		$("#mailLayer_agreeSel01").attr("checked", true);
	}
	
	//전문금융소비자 관련 추가 20210322
	function setSpc(){//확인버튼 클릭시 셋팅		
		var cpNm = $("#cpNm").val(); 
		if(cpNm == ""){
			alert("전문금융소비자 단체(회사)명을 입력해주세요.","$('#cpNm').focus()");
			return false;
		} else{
			$("#strEtc6").val(cpNm);//단체 회사명
		}
		if( $('input:radio[name="spcType"]:checked').val() == "2" && $("#strEtc5").val() == ""){
			alert("전문금융소비자 세부항목을 선택해주세요.");
			return false;
		} 
		//lpCloser('spcInputPop');
		closeLayer('spcInputPop');
	}
	
	function setSpcDtl(val){
		$("#strEtc5").val(val);//전문금융소비자 세부항목 선택
	}
	//전문금융소비자 관련 추가 20210322
	
</script>

<script type="text/javascript" src="./js/mVaccine/TouchEn_mVaccine.js"></script>
<script type="text/javascript">
	
	_mVaccine.mVaccine_lic = "1680139f92030057e27e910015e6aed8d6372208";
	
	//var mVaccineUrl = "https://mdirect.hi.co.kr";
	var mVaccineUrl = "https://mdirect.hi.co.kr";
	if (location.href.indexOf("hdmapp.hi.co.kr") > -1) {
		mVaccineUrl = "http://hdmapp.hi.co.kr";
	//} else if (location.href.indexOf("dmdirect.hi.co.kr") > -1 || location.href.indexOf("dm.hicardirect.com") > -1) {
	} else if (location.href.indexOf("https://qamdirect.hi.co.kr") > -1 || location.href.indexOf("dm.hicardirect.com") > -1) {
		//mVaccineUrl = "http://dmdirect.hi.co.kr";
		mVaccineUrl = "https://qamdirect.hi.co.kr";
	}
	
	_mVaccine.callback_url = mVaccineUrl + "/mVaccine/callback_check.jsp";
	_mVaccine.callback_token = getCookie("JSESSIONID");
	
	var callback_return = 'null';
	
	// 다음페이지 이동 
	var _mVaccine_nextPageFnc;
	
	/** 
	 * @alias 백신검사
	 * @param fnc 다음실행함수
	 */
	function mVaccine_check(fnc) {
		
		// 안드로이드 및 백신완료
		fnc();
	}
	
	/** 
	 * @alias 백신검사시작
	 */
	
	var mVaccineTimerId;
	
	function mVaccine_Start() {
		_mVaccine.callback_token = getCookie("JSESSIONID");
		
		mVaccineCheckStatus(mVaccine_nextPage);
		// _mVaccine.mode = "full"; // 기존 백신 검사 화면
		_mVaccine.mode = "mini"; // 간소화 모드 백신 화면
		_mVaccine.start();
		mVaccineTimerId = setInterval(function() {mVaccineCheckStatus(mVaccine_nextPage);},3000);
	}
	
	/** 
	 * @alias 백신 다음페이지이동 함수 실행
	 */
	function mVaccine_nextPage(isRun) {
		if (isRun) {
			closeLayer('_mobileVaccineLayer');
			clearInterval(mVaccineTimerId);
			if (typeof(_mVaccine_nextPageFnc) == 'function') {
				_mVaccine_nextPageFnc();
			}
		}
	}
	
	function fnGoAppDown(){
		var appInfo = JSON.parse(sessionStorage.getItem('appInfo'));
		var osInfo = getOsInfo();
		
		if (osInfo.cd == "10111004") { // Android
			fnGoAppInstall('market://details?id=kr.co.direct.hi.hyundai.android');
		} else if (osInfo.cd == "10111005") { // IOS
			location.href ="https://itunes.apple.com/kr/app/HiDirect/id1265054195?mt=8";				
		}
	}

</script>

<!-- 레이어 시작 -->
<!-- 앱소개 레이어 -->






<script type="text/javascript">

// 브라우저 정보를 가져오기 위한 변수
var browserInfo = {
		alias : "",
		name : "",
		vsn : "-1",
		cd : "",
		x64 : false
};

// OS 정보를 가져오기 위한 변수
var osInfo = {
		cd : "",
		vsn : "",
		pad : ""
};

/**
 * @alias getOsInfo : 브라우저 종류 및 버전 조회
 */
function fnSettingChInfo() {
	try {
		var pf = navigator.platform.toLowerCase();
		var ua = navigator.userAgent.toLowerCase();
		
		var index = -1;
		var tmp = "";
		
		if (navigator.appName == "Microsoft Internet Explorer") {
			browserInfo.alias = "MSIE";
			browserInfo.name = "IE";
			index = navigator.userAgent.indexOf(browserInfo.alias)+browserInfo.alias.length+1;
			tmp = navigator.userAgent.substring(index);
			index = tmp.indexOf(";");
			if (index < 0) {
				index = tmp.indexOf(")");
			}
			browserInfo.vsn = tmp.substring(0, index);
			browserInfo.cd = "10121001"; // IE
		} else if (navigator.userAgent.match(/Navigator/i)) { // Firefox
			browserInfo.alias = "Navigator";
			browserInfo.name = "Firefox";
			index = navigator.userAgent.lastIndexOf(browserInfo.alias) + browserInfo.alias.length + 1;
			tmp = navigator.userAgent.substring(index);
			browserInfo.vsn = tmp;
			index = tmp.indexOf(" ");
			if (index > 0) {
				browserInfo.vsn = tmp.substring(0, index);
			}
			browserInfo.cd = "10121005"; // 파이어폭스
		} else if (navigator.userAgent.match(/OPR/i)) {
			browserInfo.alias = navigator.appName;
			browserInfo.name = "Opera";
			index = navigator.userAgent.lastIndexOf("OPR") + "OPR".length + 1;
			tmp = navigator.userAgent.substring(index);
			browserInfo.vsn = tmp;
			index = tmp.indexOf(" ");
			if (index > 0) {
				browserInfo.vsn = tmp.substring(0, index);
			}
			browserInfo.cd = "10121004"; // 오페라
		} else if (navigator.userAgent.match(/Firefox/i)) {
			browserInfo.alias = "Firefox";
			browserInfo.name = "Firefox";
			index = navigator.userAgent.lastIndexOf(browserInfo.alias) + browserInfo.alias.length + 1;
			tmp = navigator.userAgent.substring(index);
			browserInfo.vsn = tmp;
			index = tmp.indexOf(" ");
			if (index > 0) {
				browserInfo.vsn = tmp.substring(0, index);
			}
			browserInfo.cd = "10121005"; // 파이어폭스
		} else if (navigator.userAgent.match(/Chrome/i)) { // Chrome
			browserInfo.alias = "Chrome";
			browserInfo.name = "Chrome";
			if (navigator.userAgent.match(/ChromePlus/i)) {
				browserInfo.alias = "ChromePlus";
				browserInfo.name = "Chrome";
			}
			index = navigator.userAgent.lastIndexOf(browserInfo.alias)+browserInfo.alias.length+1;
			tmp = navigator.userAgent.substring(index);
			browserInfo.vsn = tmp;
			index = tmp.indexOf(" ");
			if (index > 0) {
				browserInfo.vsn = tmp.substring(0, index);
			}
			browserInfo.cd = "10121002"; // 크롬
		} else if (navigator.userAgent.match(/Safari/i)) { // Safari
			browserInfo.alias = "Safari";
			browserInfo.name = "Safari";
			// index = navigator.userAgent.lastIndexOf(browserInfo.alias) + browserInfo.alias.length + 1;
			index = navigator.userAgent.lastIndexOf("vsn") + "vsn".length + 1;
			tmp = navigator.userAgent.substring(index);
			browserInfo.vsn = tmp;
			index = tmp.indexOf(" ");
			if (index > 0) {
				browserInfo.vsn = tmp.substring(0, index);
			}
			browserInfo.cd = "10121003"; //사파리
		} else if (navigator.userAgent.match(/Opera/i)) {
			browserInfo.alias = navigator.appName;
			browserInfo.name = "Opera";
			index = navigator.userAgent.lastIndexOf("vsn") + "vsn".length + 1;
			tmp = navigator.userAgent.substring(index);
			browserInfo.vsn = tmp;
			index = tmp.indexOf(" ");
			if (index > 0) {
				browserInfo.vsn = tmp.substring(0, index);
			}
			browserInfo.cd = "10121004"; //오페라
		} else if (navigator.userAgent.match(/Trident/i)) {
			browserInfo.alias = "MSIE";
			browserInfo.name = "IE";
			index = navigator.userAgent.lastIndexOf("rv:") + "rv:".length;
			tmp = navigator.userAgent.substring(index);
			index = tmp.indexOf(")");
			if (index < 0) {
				index = tmp.indexOf(" ");
			}
			browserInfo.vsn = tmp.substring(0, index);
			browserInfo.cd = "10121001"; //IE
		} else {
			browserInfo.name = navigator.appName;
			browserInfo.vsn = "기타브라우저";
			browserInfo.cd = "10121006"; //Etc
		}
		
		if (browserInfo.alias == "MSIE") {
			if (navigator.userAgent.indexOf("Trident/4.0") != -1) {
				browserInfo.vsn = "8";// IE8
			} else if (navigator.userAgent.indexOf("Trident/5.0") != -1) {
				browserInfo.vsn = "9";// IE9
			} else if (navigator.userAgent.indexOf("Trident/6.0") != -1) {
				browserInfo.vsn = "10";// IE10
			} else if (navigator.userAgent.indexOf("Trident/7.0") != -1) {
				browserInfo.vsn = "11";// IE11
			} else {
				browserInfo.vsn = browserInfo.vsn.charAt(0); // IE7 이하 or IE12 이상
			}
		}
		
		// alert("browserInfo.name=>"+ browserInfo.name + " / " + "browserInfo.vsn=>" + browserInfo.vsn);
		
		// x64
		if (ua.indexOf("win64") > -1 || pf.indexOf("mac") > -1) {
			browserInfo.vsn = browserInfo.vsn + " x64";
		}
	} catch(e) {
		// alert(":"+e.description+" : "+e);
	}
	
	return browserInfo;
}

/**
 * @alias getOsInfo : 운영체계(OS) 종류 및 버전 조회
 */
function getOsInfo() {
	try {
		var pf = navigator.platform.toLowerCase();
		var ua = navigator.userAgent.toLowerCase();
		
		//alert("pf=>" + pf);
		//alert("ua=>" + ua);
		
		// OS name
		if (pf.indexOf("win32") > -1 || pf.indexOf("win64") > -1) {
			osInfo.window = true;
			osInfo.cd = "10111001"; //윈도우
			if (ua.indexOf("nt 6.3") > -1) {
				osInfo.vsn = "8.1";
			} else if (ua.indexOf("nt 6.2") > -1) {
				osInfo.vsn = "8";
			} else if (ua.indexOf("nt 6.1") > -1) {
				osInfo.vsn = "7";
			} else if (ua.indexOf("nt 6.0") > -1) {
				osInfo.vsn = "Vista/Server 2008";
			} else if (ua.indexOf("nt 5.2") > -1) {
				osInfo.vsn = "Server 2003";
			} else if (ua.indexOf("nt 5.1") > -1) {
				osInfo.vsn = "XP";
			} else if (ua.indexOf("nt 5.0") > -1) {
				osInfo.vsn = "2000";
			} else if (ua.indexOf("nt") > -1) {
				osInfo.vsn = "NT";
			} else if (ua.indexOf("9x 4.90") > -1) {
				osInfo.vsn = "Me";
			} else if (ua.indexOf("98") > -1) {
				osInfo.vsn = "98";
			} else if (ua.indexOf("95") > -1) {
				osInfo.vsn = "95";
			} else if (ua.indexOf("win16") > -1) {
				osInfo.vsn = "3.x";
			} else if (ua.indexOf("windows") > -1) {
				osInfo.vsn = "계열";
			} else {
				osInfo.vsn = "계열";
			}
		} else if (pf.indexOf("linux armv") > -1) {
			osInfo.cd = "10111004"; // 안드로이드
			if (ua.indexOf("shw-m") > -1) {
				osInfo.pad ="10111004"; // 안드로이드
			}
		} else if (pf.indexOf("linux") > -1) {
			osInfo.linux = true;
			osInfo.cd = "10111002"; //리눅스
			if (ua.indexOf("fedora") > -1) {
				osInfo.vsn = "페도라";
			} else if (ua.indexOf("ubuntu") > -1) {
				osInfo.vsn = "리눅스 우분투";
			} else {
				osInfo.vsn = "계열";
			}
		} else if (pf.indexOf("mac") > -1) {
			osInfo.vsn = osInfo.vsn + " x64";
			osInfo.cd = "10111003"; // MAC OS
			if (ua.indexOf("os x 10_9") > -1) {
				osInfo.vsn = "매버릭스";
			} else if (ua.indexOf("os x 10_8") > -1) {
				osInfo.vsn = "마운틴 라이언";
			} else if (ua.indexOf("os x 10_7") > -1) {
				osInfo.vsn = "라이언";
			} else if (ua.indexOf("os x 10_6") > -1) {
				osInfo.vsn = "스노우 레퍼드";
			} else {
				osInfo.vsn = "계열";
			}
		} else if (pf.indexOf("ipad") > -1 || pf.indexOf("iphone") > -1 || pf.indexOf("ipod") > -1 || pf.indexOf("ios") > -1) {
			osInfo.cd = "10111005"; // IOS
			if (pf.indexOf("ipad") > -1) {
				osInfo.pad ="10111005"; //ipad
			}
			
			if ( pf.indexOf("iphone") > -1 ){
				index = ua.lastIndexOf('iphone os') + ('iphone os').length + 1  ;
				tmp = navigator.userAgent.substring(index, index+6);
				tmp = replaceAll(tmp, ";", "");
				tmp = replaceAll(tmp, " ", "");
				osInfo.vsn = tmp;
			}
		}
		
		if (ua.indexOf("windows phone") > -1 || ua.indexOf("windows ce") > -1) {
			osInfo.cd = "10111006"; // 윈도우 모바일
		} else if (ua.indexOf("symbian") > -1) {
			osInfo.cd = "10111008"; // 심비안
		} else if (ua.indexOf("blackberry") > -1) {
			osInfo.cd = "10111007"; // 블랙베리
		} else if (ua.indexOf("android") > -1) {
			osInfo.cd  = "10111004"; // 안드로이드
			osInfo.alias = "Android";
			index = navigator.userAgent.lastIndexOf('Android') + osInfo.alias.length + 1  ;
			tmp = navigator.userAgent.substring(index, index+5);  // 안드로이드버전이 8.0.0 이런식으로 들어와서 + 5를 함
			
			tmp = replaceAll(tmp, ";", "");
			tmp = replaceAll(tmp, " ", "");
			
			osInfo.vsn = tmp;
		}
		
		// x64
		if (ua.indexOf("wow64") > -1 || ua.indexOf("win64") > -1) {
			osInfo.vsn = osInfo.vsn + " x64";
		}
		if (osInfo.group == "linux") {
			if (pf.indexOf("x86_64") > -1) {
				osInfo.vsn = osInfo.vsn + " x64";
			}
			if (ua.indexOf("x86_64") > -1) {
				osInfo.vsn = osInfo.vsn + " x64";
			}
		}
		// alert("osInfo.name=>" + osInfo.name + " / " + "osInfo.mobile=>" + osInfo.mobile + " / " + "osInfo.x64=>" + osInfo.x64 ;
	} catch(e) {
		
	}
	
	return osInfo;
}

</script>

<script type="text/javascript">
	
	$(function() {
		osInfo = getOsInfo();
		var intent = "";
		
		var partnerShipInfoVal = JSON.parse(sessionStorage.getItem('partnerShipInfoVal'));
		
		if (osInfo.cd == "10111004") { // Android
			intent = "Intent://main";
			if (partnerShipInfoVal != null && partnerShipInfoVal.cncNo != undefined) {
				intent += "?cnc_no=" + partnerShipInfoVal.cncNo;
				intent += "&media_no=" + partnerShipInfoVal.mediaNo;
				intent += "&campaignId=" + partnerShipInfoVal.campaignId;
			}
			intent += "#Intent;scheme=hidirect;action=android.intent.action.VIEW;category=android.intent.category.BROWSABLE;package=kr.co.direct.hi.hyundai.android;end";
			$("#appIntroAppDownload").attr("href", intent);
		} else if (osInfo.cd == "10111005") { // IOS
			$("#appIntroAppDownload").on('click', function() {
				intent = 'hidirect://main';
				if (partnerShipInfoVal != null && partnerShipInfoVal.cncNo != undefined) {
					intent += "?cnc_no=" + partnerShipInfoVal.cncNo;
					intent += "&media_no=" + partnerShipInfoVal.mediaNo;
					intent += "&campaignId=" + partnerShipInfoVal.campaignId;
				}
				location.href = intent;
				setTimeout(function() {
					location.href = 'https://itunes.apple.com/kr/app/HiDirect/id1265054195?mt=8';
				}, 1000);
			});
		}
	});
	
	// APP소개 레이어 열기
	function fnOpenAppIntroLayer() {
		openLayer("appIntoLayer");
	}
	
	// 인증 레이어 닫기
	function fnCloseAppIntroLayer() {
		closeLayer("appIntoLayer");
	}
	
</script>

<div class="popWrap" id="appIntoLayer" style="display:none;">
	<header>
		<h1>현대해상다이렉트 APP소개</h1>
	</header>
	<div class="popContent">
		<div class="appguideVisual">
			<p>
				<strong>다이렉트를 더 스마트하게</strong>
				현대해상 다이렉트 모바일 앱을 통해 안전하고 편리하게 모바일 이용이 가능합니다.
			</p>
		</div>
		<section>
			<ul class="appguide">
				<li class="menu1">
					<strong>다이렉트 모바일 앱으로 더 쉽게</strong>
					<p>스마트폰으로 더 편리하게, 현대해상 다이렉트보험을 만나실 수 있습니다.</p>
				</li>
				<li class="menu2">
					<strong>안전한 다이렉트 모바일 앱</strong>
					<p>공동인증서와 바이오인증을 통해 더 안전하고 쉽게 다이렉트보험을 가입/관리하실 수 있습니다.</p>
				</li>
				<li class="menu3">
					<strong>5분이면 가입까지</strong>
					<p>이해하기 쉬운 화면 구성과 편리한 모바일 서비스를 통해 처음 해보는 사람도 5분이면 가입까지 진행하실 수 있습니다.</p>
				</li>
			</ul>
			<div class="btn">
				<a href="javascript:void(0);" role="button" class="on" id="appIntroAppDownload" target="_blank">APP 실행</a>
			</div>
		</section>
	</div>
	<button type="button" class="btnClose" onclick="javascript:fnCloseAppIntroLayer();">창닫기</button>
</div>


<!-- 뒤로가기 레이어 시작 -->
<div class="layerPopup" id="_backBtnLayer" aria-hidden="true" style="opacity: 0;">
	<div class="layerWrap">
		<div class="layerCont" style="max-height:370px">
    	<div class="grayBoxLine mgtNone">
				<strong>뒤로가기 버튼 클릭 시 홈으로 이동합니다.<br>이동하시겠습니까?</strong>
			</div>
      
      <div class="bgAppDown mgT15 mgbL" style="" id="appLayer1">
        <h3 class="mgB10">스마트폰에 현대해상 다이렉트 앱<br>설치해보세요~</h3>
        <p>일일이 검색할 필요 없이<br>편리하게 이용하실 수 있습니다!</p>
      </div>      
      
      <div class="btn" style="" id="appLayer2">
        <a href="javascript:fnGoAppDown();" role="button" class="blue blueAppDown">현대해상 다이렉트 App 받기</a>
      </div>
      <!-- // APP 다운로드 안내 -->
		</div>
		<div class="layerBtn">
			<span><a href="javascript:void(0);" onclick="javascript:lpCloser('_backBtnLayer','');">취소</a></span>
			<span><a href="/" onclick="javascript:lpCloser('_backBtnLayer','');" class="on">확인</a></span>
		</div>
		<a href="javascript:void(0);" onclick="javascript:lpCloser('_backBtnLayer','');" role="button" class="layerClose">창닫기</a>
	</div>
</div>
<!-- 뒤로가기 레이어 끝 -->

<!-- 본인인증 종료 레이어 시작 -->
<div class="layerPopup" id="certificateEndLayer" aria-hidden="true" style="opacity: 0;">
	<div class="layerWrap">
		<h2>본인인증 종료 안내</h2>
		<div class="layerCont">
			<p>장시간 홈페이지를 이용하지 않으셔서<br>고객님의 정보 보호를 위하여<br>자동으로 <span class="pointC01">로그아웃</span> 되었습니다.</p>
		</div>
		<div class="layerBtn">
			<a href="/" onclick="javascript:lpCloser('certificateEndLayer');" class="on" role="button">확인</a> 
		</div>
	</div>
</div>
<!-- 본인인증 종료 레이어 끝 -->

<!-- 상담전화신청 레이어 시작 -->
<div class="popWrap" id="_callmeLayer" style="display:none;">
	<header>
		<h1>상담 신청 안내</h1>
	</header>
	<div class="popContent">
		<div class="telVisual">
			<div class="telText">
				<strong>무엇을 도와드릴까요?</strong>
			</div>
		</div>
		<section>
			<h2>연락처</h2>
			<fieldset>
				<div class="inputWrap select">
					<select title="전화번호구분" id="_callmeLayer_telType" data-callmevo="telType">
						<script type="text/javascript">writeOptionHtml('teltype');</script><option value="3">휴대폰</option><option value="2">직장</option><option value="1">자택</option>
					</select>
					<input type="tel" title="휴대폰 번호" placeholder="휴대폰 번호(-없이 입력)" id="_callmeLayer_telType_input" maxlength="11" data-callmevo="telNo" data-validtype="vNotNull vNumber">
				</div>
				<div class="inputWrap birth" style="display: none;"></div>
				<div class="agreeBox">
					<strong>상담전화 신청을 위한 연락처 수집이용에 동의합니다.</strong>
					<em>수집정보는 상담 목적 외 용도로 이용되지 않습니다.</em>
					<p>
						<input type="checkbox" id="_callmeLayerAgreeCheck">
						<label for="_callmeLayerAgreeCheck"><span class="hide">상담전화 신청을 위한 연락처 수집이용에 동의</span></label>
						<span>동의합니다.</span>
					</p>
				</div>
			</fieldset>	
				
			<div class="btn">
				<a href="javascript:void(0);" class="on" role="button" data-callmeact="apply">상담전화 신청</a>
			</div>
			<h2>고객센터</h2>
			<ul class="listDot">
				<li>평일 09시 ~ 18시</li>
			</ul>
			<div class="btn">
				<a href="tel:1899-6782" class="blue" role="button">바로 전화하기</a>
			</div>
		</section>
	</div>
	<button type="button" class="btnClose" onclick="javascript:closeLayer('_callmeLayer');">창닫기</button>
</div>
<!-- 상담전화신청 레이어 끝 -->

<!-- 자동차보험 이탈 레이어 시작 -->
<div class="popWrap" id="_callmeLayerMT" style="display:none;">
	<header>
		<h1>상담 신청 안내</h1>
	</header>
	<div class="popContent">
		<div class="telVisual">
			<div class="telText">
				<strong>무엇을 도와드릴까요?</strong>
			</div>
		</div>
		<section>
			<h2>연락처</h2>
			<fieldset>
				<div class="inputWrap select">
					<select title="전화번호구분" id="_callmeLayer_telType" data-callmevo="telType">
						<script type="text/javascript">writeOptionHtml('teltype');</script><option value="3">휴대폰</option><option value="2">직장</option><option value="1">자택</option>
					</select>
					<input type="tel" title="휴대폰 번호" placeholder="휴대폰 번호(-없이 입력)" id="_callmeLayer_telType_input_MT" maxlength="11" data-callmevo="telNo" data-validtype="vNotNull vNumber">
				</div>
				<div class="inputWrap birth" style="display: none;"></div>
				<div class="agreeBox">
					<strong>상담전화 신청을 위한 연락처 수집이용에 동의합니다.</strong>
					<em>수집정보는 상담 목적 외 용도로 이용되지 않습니다.</em>
					<p>
						<input type="checkbox" id="_callmeLayerMTAgreeCheck">
						<label for="_callmeLayerMTAgreeCheck"><span class="hide">상담전화 신청을 위한 연락처 수집이용에 동의</span></label>
						<span>동의합니다.</span>
					</p>
				</div>
			</fieldset>	
				
			<div class="btn">
				<a href="javascript:void(0);" class="on" role="button" data-callmeact="apply">상담전화 신청</a>
			</div>
			
			
        	
			<h2>고객센터</h2>
			<ul class="listDot">
				<li>평일 09시 ~ 18시</li>
			</ul>
			<div class="btn">
				<a href="tel:1899-6782" class="blue" role="button">바로 전화하기</a>
			</div>
			<div class="btnWrap">
				<span><a href="/" role="button">홈으로</a></span>
				<span><a href="javascript:void(0);" onclick="javascript:closeLayer('_callmeLayerMT');" role="button">계속 계산하기</a></span>
			</div>
		</section>
	</div>
	<button type="button" class="btnClose" onclick="javascript:closeLayer('_callmeLayerMT');">창닫기</button>
</div>
<!-- 자동차보험 이탈 레이어 끝 -->

<!-- 운전자보험 이탈 레이어 시작 -->
<div class="popWrap" id="_callmeLayerLT" style="display:none;">
	
		
			<header>
				<h1>장기보험 이벤트 안내</h1>
			</header>
			<div class="popContent">
				<section>
					<div>
						<p style="text-align:center">
							<img src="https://mdirect.hi.co.kr/images/event/202108001/event_pop_longinsu2108.jpg" alt="다이렉트 장기보험과 함께하면 경품이 팡팡! 참여대상 장기 운전자/암/건강/주택화재상해보험 가입 고객 운전자보험 전원증정 모바일 신세계 상품권 1만원권 + 스타벅스 1잔 추가 증정(프리미엄 플랜 가입시). 건강보험, 암보험, NEW 주택화재상해보험 신세계 상품권 3만원(가입 보험료별 상이) 경품발송 : 참여일 기준 다다음 달 15일 전후 문자 발송 (2회차 보험료 납입 후 계약 유지시) 엠포스 제공" style="width:100%">
						</p>
					</div>
					<div class="btnWrap">
						<span><a href="/" class="btnOrg" role="button">홈으로</a></span>
						<span><a href="javascript:void(0);" class="btnOrg" onclick="javascript:closeLayer('_callmeLayerLT');" role="button">보험 가입 계속하기</a></span>					
					</div>
				</section>
			</div>
		
		
	
	<button type="button" class="btnClose" onclick="javascript:closeLayer('_callmeLayerLT');">창닫기</button>
</div>
<!-- // 운전자보험 이탈 레이어 끝 -->

<!-- 자동자, 운전자 이외 (일반보험?) 이탈 레이어 시작 -->
<div class="popWrap" id="_callmeLayerGI" style="display:none;">
	<header>
		<h1>상담 신청 안내</h1>
	</header>
	<div class="popContent">
		<div class="telVisual">
			<div class="telText">
				<strong>무엇을 도와드릴까요?</strong>
			</div>
		</div>
		<section>
			<h2>연락처</h2>
			<fieldset>
				<div class="inputWrap select">
					<select title="전화번호구분" id="_callmeLayer_telType" data-callmevo="telType">
						<script type="text/javascript">writeOptionHtml('teltype');</script><option value="3">휴대폰</option><option value="2">직장</option><option value="1">자택</option>
					</select>
					<input type="tel" title="휴대폰 번호" placeholder="휴대폰 번호(-없이 입력)" id="_callmeLayer_telType_input_GI" maxlength="11" data-callmevo="telNo" data-validtype="vNotNull vNumber">
				</div>
				<div class="inputWrap birth" style="display: none;"></div>
				<div class="agreeBox">
					<strong>상담전화 신청을 위한 연락처 수집이용에 동의합니다.</strong>
					<em>수집정보는 상담 목적 외 용도로 이용되지 않습니다.</em>
					<p>
						<input type="checkbox" id="_callmeLayerGIAgreeCheck">
						<label for="_callmeLayerGIAgreeCheck"><span class="hide">상담전화 신청을 위한 연락처 수집이용에 동의</span></label>
						<span>동의합니다.</span>
					</p>
				</div>
			</fieldset>	
				
			<div class="btn">
				<a href="javascript:void(0);" class="on" role="button" data-callmeact="apply">상담전화 신청</a>
			</div>
			<h2>고객센터</h2>
			<ul class="listDot">
				<li>평일 09시 ~ 18시</li>
			</ul>
			<div class="btn">
				<a href="tel:1899-6782" class="blue" role="button">바로 전화하기</a>
			</div>
			<div class="btnWrap">
				<span><a href="/" role="button">홈으로</a></span>
				<span><a href="javascript:void(0);" onclick="javascript:closeLayer('_callmeLayerGI');" role="button">계속 계산하기</a></span>
			</div>
		</section>
	</div>
	<button type="button" class="btnClose" onclick="javascript:closeLayer('_callmeLayerGI');">창닫기</button>
</div>
<!-- // 자동자, 운전자 이외 (일반보험?) 이탈 레이어 끝 -->

<!-- 연금보험 이탈 레이어 시작 -->
<div class="popWrap" id="_callmeLayerPN" style="display:none;">
	<header>
		<h1>연금보험 이벤트 안내</h1>
	</header>
	<div class="popContent">
		<section>
			<div>
				<p style="text-align:center">
	        		<img src="https://mdirect.hi.co.kr/images/event/202109005/event_pop_insujoin2109.gif" alt="다이렉트 연금저축보험 가입 이벤트. 노후 준비는 지금이 가장 빠를 때 연금저축보험으로 노후준비와 세액공제를 동시에 준비하세요! 신세계상품권 3만원 대상:다이렉트 연금저축보험 가입 고객 (월납 보험료 10만원 이상 가입 고객), 경품:모바일 신세계 상품권 3만원, 경품발송:가입일 기준 다다음달 15일 전후 문자 발송 (2회차 보험료 정상 납입시) * 경품은 엠포스 제공 *경품은 엠포스 제공" class="w100">
	        	</p>
			</div>
			<div class="btnWrap">
				<span><a href="/" class="btnOrg" role="button">홈으로</a></span>
				<span><a href="javascript:void(0);" class="btnOrg" onclick="javascript:closeLayer('_callmeLayerPN');" role="button">보험 가입 계속하기</a></span>					
			</div>
		</section>
	</div>
	<button type="button" class="btnClose" onclick="javascript:closeLayer('_callmeLayerPN');">창닫기</button>
</div>
<!-- // 연금보험 이탈 레이어 끝 -->

<!-- 해외여행보험 산출이탈시 삼성카드 결제혜택 안내 s -->
<div class="layerPopup" id="_callmeLayerGI_SamsungCard" style="display: none; opacity: 0;" aria-hidden="true">
	<div class="layerWrap" style="top:10%">
		<h2 class="hide" style="padding:0;border:none">이벤트 안내</h2>
		<div class="layerCont" style="padding:0;max-height:700px">
    	<p><img src="https://mdirect.hi.co.kr/images/event/m_layer_event_samsungcard2001.jpg" alt="SAMSUNGCARD. 삼성카드 이용고객 결제혜택 안내. 홈페이지/모바일을 통해 해외여행보험 가입시 보유하신 삼성카드 포인트를 100% 사용하실 수 있습니다! 보유 포인트 100% 사용.카드포인트로 알뜰하게 보험가입하시고, 현대해상다이렉트 해외여행보험과 함께 안전한 여행 되세요~" style="width:100%"></p>
		</div>
    <!-- // 내용 -->
    
		<div class="layerBtn">
    	<span><a href="javascript:closeLayer();" role="button" class="on">보험료계산 계속하기</a></span>
	    <span><a href="javascript:closeLayer();fnCallOutLayer();" role="button">닫기</a></span>			
		</div>
		<a href="#" role="button" onclick="javascript:closeLayer();fnCallOutLayer();" class="layerClose">창닫기</a>
	</div>
</div>
<!-- 해외여행보험 산출이탈시 삼성카드 결제혜택 안내 e -->

<!-- 카드결제혜택 안내 /2206 -->
<div class="layerPopup" id="_callmeLayerGI_SamsungShinhanCard" style="display: none; opacity: 0;" aria-hidden="true">
	<div class="layerWrap">
		<h2 class="hide" style="padding:0;border:none">카드결제혜택 안내</h2>
		<div class="layerCont" style="padding:0;min-height:233px;max-height:600px">
    		<p style="padding:0;text-align:center"><img src="https://mdirect.hi.co.kr/images/content/img_event_card2206.jpg" alt="Shinhancard SAMSUNGCARD 신한/삼성카드 이용고객 결제혜택 안내 보유 포인트 100% 사용 홈페이지/모바일을 통해 해외옇애보험 가입시 보유하신 신한/삼성카드 포인트를 100% 사용하실 수 있습니다." style="width:100%"></p>
		</div>
    <!--// 내용 -->
		<div class="layerBtn">
		    <span><a href="javascript:closeLayer();" role="button" class="on">보험료계산 계속하기</a></span>
	    	<span><a href="javascript:closeLayer();fnCallOutLayer();" role="button">닫기</a></span>	
		</div>
		<a href="#" role="button" onclick="javascript:closeLayer();fnCallOutLayer();" class="layerClose">창닫기</a>
	</div>
</div>
<!--// layerPopup -->
<!--// 카드결제혜택 안내 /2206 -->

<!-- CM장기 상품안내 이탈 팝업 202112 : s -->
<div class="layerPopup" id="_callmePrdLayerLtHt" tabindex="0" style="display: none; opacity: 0; pointer-events: auto;" aria-hidden="true">
  <div class="layerWrap" style="top:15%">
   <h2 class="hide" style="padding:0;border:none">건강보험 간편하게 보험료 확인해 보세요!</h2>
		<div class="layerCont" style="padding:0;min-height:233px;max-height:600px">
    	<p style="padding:0;text-align:center"><img src="https://mdirect.hi.co.kr/images/cm_breakaway_pop.jpg" style="width:100%" alt="고객님,건강보험 간편하게 보험료 확인해 보세요! 대표 사망 원인3대 질병(암, 심장질환, 뇌혈관질환) 진단비 보장(특약가입시), 생활속 크고 작은 질병 120대질병수술비 보장(특약가입시), 생년월일, 성별, 직업 정보만으로 간편한 보험료 확인"></p>
    </div>
        <div class="layerBtn">
			<span class="w30"><a href="/service.do?m=7c6641ec8a">홈으로</a></span>
			<span class="on w70"><a href="/service.do?m=2283811640&amp;simpCalc=Y">간편하게 보험료 확인</a></span>
		</div>
    
    <a href="javascript:void(0);" onclick="javascript:lpCloser('_callmePrdLayerLtHt');" class="layerClose" role="button">닫기</a>
  </div>
</div>

<!-- lay - 보험가입 진행 안내 /2111 -->
<div class="layerPopup" id="_callmeLayerLFG" style="display: none; pointer-events: auto; opacity: 0;" aria-hidden="true">
  <div class="layerWrap sizeL">
    <h2>보험가입 진행 안내</h2>
    
    <div class="layerCont insuEscWrap">      
      <div class="flexWrap">
        <p class="img botImg"><img src="https://mdirect.hi.co.kr/images/content/img_esc_bot.png" alt="" class="w100"></p>
        <div class="txArea">
          <p class="txTi"><strong>고객님,</strong> 아직 보험가입이<br>완료되지 않았습니다.</p>
        </div>
      </div>
      <div class="mgtM">
        <p class="tac font13">지금 창을 닫으시면 지금까지 입력된<br>정보가 사라집니다.</p>
      </div>

      <ul class="listDot mgtM pdtM pdbL" style="border-top:1px dashed #dedede">
        <li>전화상담이 필요하시면, 인터넷 고객센터<br>
          <span style="color:#047db5"><a href="tel:1899-6782" class="fontBlue" title="인터넷 고객센터 전화 걸기">1899-6782</a> (평일 9시~18시)</span>를 이용해주시기 바랍니다.</li>
      </ul>
    </div>
    <!--// insuEscWrap -->
    
    <div class="layerBtn">
      <span style="width:30%"><a href="/" role="button">홈으로</a></span>
      <span style="width:70%"><a href="javascript:closeLayer('_callmeLayerLFG');" role="button" class="on">보험료 계산 계속하기</a></span>
    </div>
    <a href="javascript:closeLayer('_callmeLayerLFG');" class="layerClose" role="button">닫기</a>
  </div>
</div>
<!--// lay - 보험가입 진행 안내 /2111 -->


<!-- lay - 보험가입 진행 안내 /2111 -->
<div class="layerPopup" id="_callmeLayerLFGINSU" style="display: none; pointer-events: auto; opacity: 0;" aria-hidden="true">
  <div class="layerWrap sizeL">
    <h2>보험가입 진행 안내</h2>
    
    <div class="layerCont insuEscWrap">      
      <div class="flexWrap" style="display: flex !important">
        <p class="img botImg"><img src="https://mdirect.hi.co.kr/images/content/img_esc_bot.png" alt="" class="w100"></p>
        <div class="txArea">
          <p class="txTi"><strong>고객님,</strong> 아직 보험가입이<br>완료되지 않았습니다.</p>
        </div>
      </div>
      <div class="mgtM">
        <p class="tac font13">이제 다이렉트로 저렴한 보험료 결제만 남았어요~</p>
      </div>
      <div class="bnArea mgtM">
        <img src="https://mdirect.hi.co.kr/images/content/layer_card_overseasStay.jpg" alt="신한/삼성카드 이용고객 결제혜택 안내" class="w100">
      </div>
      <!--// bnArea -->

      <ul class="listDot mgtM pdbL">
        <li>전화상담이 필요하시면, 인터넷 고객센터<br>
          <span style="color:#047db5"><a href="tel:1899-6782" class="fontBlue" title="인터넷 고객센터 전화 걸기">1899-6782</a> (평일 9시~18시)</span>를 이용해주시기 바랍니다.</li>
      </ul>
    </div>
    <!--// insuEscWrap -->
    
        <div class="layerBtn">
      <span style="width:30%"><a href="javascript:openKakaoSendPopup()" role="button">홈으로</a></span>
      <span style="width:70%"><a href="javascript:closeLayer('_callmeLayerLFGINSU');" role="button" class="on">보험료 계산 계속하기</a></span>
    </div>
    <a href="javascript:closeLayer('_callmeLayerLFGINSU');" class="layerClose" role="button">닫기</a>
  </div>
</div>
<!--// lay - 보험가입 진행 안내 /2111 -->


<!-- lay - 나에게 보내기 /2111 -->
<div class="layerPopup" id="_callmeLayerLFGKAKAO" style="display: none; pointer-events: auto; opacity: 0;" aria-hidden="true">
  <div class="layerWrap sizeL" style="padding-bottom: 0rem !important;">
    <h2>보험료 나에게 보내기</h2>
    
    <div class="layerCont insuEscWrap">
      <div class="flexWrap" style="display: flex !important">
        <p class="img"><img src="https://mdirect.hi.co.kr/images/content/img_esc_kakaotalk.png" alt="" class="w100"></p>
        <div class="txArea">
          <span class="tx">지금 확인하신 보험료를 카카오<br>알림톡(문자)로  보내드릴까요?  </span>
        </div>
      </div>
      <div class="mgtM">
        <p class="tac font13">안전한 해외체류를 위해 출국 전 꼭 가입해주세요~</p>
      </div>

      <form name="" id="" method="post">
        <div class="inputWrap btn mgtL mgbL">
          <input type="tel" id="mpNo" name="mpNo" maxlength="11" required=""><label for="mpNo">휴대폰 번호(-없이 입력)</label>
          <a href="javascript:lfgSendMeKakao();" id="" class="org">나에게 보내기</a>
        </div>
      </form>
    </div>
    <!--// insuEscWrap -->
    
    <!-- <div class="layerBtn">
      <a href="/" role="button">닫기(홈으로)</a>
    </div> -->
    <a href="/" class="layerClose" role="button">닫기</a>
  </div>
</div>
<!--// lay - 나에게 보내기 /2111 -->

  
<!-- 인수거부 레이어 시작 -->
<div class="popWrap" id="_callmeLayerInsu" style="display:none;">
	<header>
		<h1>보험 심사 안내</h1>
	</header>
	<div class="popContent">
		<div class="telVisual">
			<div class="telText">
				<strong>고객님 죄송합니다.</strong>인터넷으로 보험료 계산/가입이 어렵습니다.<br>
				연락처를 남기시면 상담원이 직접 연락드리겠습니다.
			</div>
		</div>
		<section>
			<h2>연락처</h2>
			<div class="inputWrap select">
				<select title="전화번호구분" id="_callmeLayer_telType" data-callmevo="telType">
					<script type="text/javascript">writeOptionHtml('teltype');</script><option value="3">휴대폰</option><option value="2">직장</option><option value="1">자택</option>
				</select>
				<input type="tel" title="휴대폰 번호" placeholder="휴대폰 번호(-없이 입력)" id="_callmeLayerInsu_input" maxlength="11" data-callmevo="telNo" data-validtype="vNotNull vNumber">
			</div>
			<div class="agreeBox">
				<strong>상담전화 신청을 위한 연락처 수집이용에 동의합니다.</strong>
				<em>수집정보는 상담 목적 외 용도로 이용되지 않습니다.</em>
				<p>
					<input type="checkbox" id="_callmeLayerInsuAgreeCheck">
					<label for="_callmeLayerInsuAgreeCheck"><span class="hide">상담전화 신청을 위한 연락처 수집이용에 동의</span></label>
					<span>동의합니다.</span>
				</p>
			</div>
			<div class="btn">
				<a href="javascript:void(0);" role="button" data-callmeact="apply">상담전화 신청</a>
			</div>
			<h2>고객센터</h2>
			<ul class="listDot">
				<li>평일 09시 ~ 18시</li>
			</ul>
			<div class="btn">
				<a href="tel:1899-6782" class="blue" role="button">바로 전화하기</a>
			</div>
			<div class="btnWrap">
				<span><a href="/" role="button">홈으로</a></span>
				<span><a href="javascript:void(0);" onclick="javascript:closeLayer('_callmeLayerInsu');" role="button">계속 계산하기</a></span>
			</div>
		</section>
	</div>
	<button type="button" class="btnClose" onclick="javascript:closeLayer('_callmeLayerInsu');">창닫기</button>
</div>
<!-- // 인수거부 레이어 끝 -->

<!--장기 인수거부 레이어 시작 -->
<div class="popWrap" id="_callmeLayerInsuLt" style="display:none;">
	<header>
		<h1>보험 심사 안내</h1>
	</header>
	<div class="popContent">
		<div class="telVisual">
			<div class="telText">
				<strong>고객님 죄송합니다.</strong>인터넷으로 보험료 가입이 어렵습니다.<br>전화가입 상담을 원하시는 경우,<br>상담전화 신청을 해주시기 바랍니다.
			</div>
		</div>
		<section>
			<div class="btn">
				<a href="tel:15771001" class="blueCall" role="button">상담전화 신청 (1577-1001)</a><!-- 0629 class수정 JJY-->
			</div>
			<div class="btnWrap">
				<a href="/" class="on" role="button">홈으로</a>
			</div>
		</section>
	</div>
	<button type="button" class="btnClose" onclick="javascript:closeLayer('_callmeLayerInsuLt');">창닫기</button>
</div>
<!-- //장기 인수거부 레이어 끝 -->

<!-- APP 안내 레이어팝업 -->
<div class="layerPopup" id="appInfoLayer" aria-hidden="true" style="opacity: 0;">
	<div class="layerWrap">
		<h2>공동인증서/바이오인증 안내</h2>
		<div class="layerCont">
			<p class="appGuide">공동인증서/ 바이오인증은 <span class="oColor">현대해상 다이렉트APP</span>을 통해 지원되고 있습니다.</p>
		</div>
		<div class="layerBtn">
			<a href="javascript:void(0);" onclick="javascript:openAppIntro();" role="button">APP 안내보기</a>
		</div>
		<a href="javascript:void(0);" onclick="javascript:lpCloser('appInfoLayer');" class="layerClose" role="button">닫기</a>
	</div>
</div>
<!-- // APP 안내 레이어팝업 -->

<!-- APP 설치안내 레이어팝업 -->
<div class="layerPopup" id="appInstallLayer" aria-hidden="true" tabindex="0" style="opacity: 0; z-index: 999999; pointer-events: auto;">
	<div class="layerWrap">
		<h2>앱설정 안내</h2>
		<div class="visualappSet">
			<p>앱설정은 현대해상 다이렉트 APP을 통해<br>지원되고 있습니다.</p>
		</div>
		<div class="layerBtn">
			<a href="javascript:void(0);" onclick="javascript:lpCloser('appInstallLayer'); openAppIntro();" role="button">APP 안내보기</a>
		</div>
		<a href="javascript:void(0);" onclick="javascript:lpCloser('appInstallLayer');" class="layerClose" role="button">닫기</a>
	</div>
</div>
<!-- // APP 안내 레이어팝업 -->

<!-- 메뉴별 긴급공지 레이어 시작 -->
<div class="layerPopup" id="menuNoticeLayerPopAlert" aria-hidden="true" style="opacity: 0;">
	<div class="layerWrap">
		<h2>알려드립니다!</h2>
		<div class="layerCont">
			<strong id="menuEmrNtceTitle"></strong>
			<span id="menuEmrNtceCont"></span>
		</div>
		<div class="layerBtn">
			<a href="javascript:void(0);" onclick="javascript:lpCloser('menuNoticeLayerPopAlert')" class="on" role="button">확인</a>
		</div>
		<a href="javascript:void(0);" onclick="javascript:lpCloser('menuNoticeLayerPopAlert')" role="button" class="layerClose">창닫기</a>
	</div>
</div>
<!-- // 메뉴별 긴급공지 레이어 끝 -->

<!-- // 폰모드변경 레이어 시작 -->
<div class="layerPopup" id="orientationChangeLayer" onclick="javascript:void(0);" aria-hidden="true" style="opacity: 0; z-index: 0; pointer-events: none; display: none;" tabindex="-1">
	<p class="changeLayer">모바일에서는 가로모드가 지원되지 않습니다.</p>
</div>
<!-- // 폰모드변경 레이어 끝 -->


<div class="popWrap" id="_mobileVaccineLayer" style="display:none;">
	<header>
		<h1>모바일 백신 설치 안내</h1>
	</header>
	<div class="popContent">
		<div class="visualVaccine">
			<p>
				<strong>고객님의 개인정보 보호를 위해<br>모바일 백신 프로그램 설치/실행을 확인합니다.</strong>
				<span><em>백신 실행</em>을 선택하시면 프로그램 실행 후 다음 단계로 이동합니다.</span>
			</p>
		</div>
		<section>
			<h2>유의 사항</h2>
			<ul class="listDot">
				<li>[백신 실행]을 터치하셔도 화면이 이동하지 않는 경우,<br> [백신 설치]를 통해 백신 프로그램을 설치하신 후에 다시 [백신 실행]을 터치하시기 바랍니다.</li>
			</ul>
		</section>
		<div class="btnWrap two">
			<span><a href="javascript:void(0);" onclick="javascript:_mVaccine.market();" role="button">백신 설치</a></span>
			<span><a href="javascript:void(0);" onclick="javascript:mVaccine_Start();" role="button">백신 실행</a></span>
		</div>
	</div>
	<button type="button" class="btnClose" onclick="javascript:closeLayer('_mobileVaccineLayer')">창닫기</button>
</div>


<!-- 레이어팝업 : alert -->
<div class="layerPopup" id="layerPopAlert" style="opacity: 0; z-index: 0; pointer-events: none; display: none;" aria-hidden="true" role="dialog" aria-live="polite" tabindex="-1">
	<div class="layerWrap">
		<div class="layerCont">
			<div class="alertCont">
				<p class="txt01" id="alertLayerMsg">주민등록번호 입력을 확인해주세요.</p>
			</div>
		</div>
		<div class="layerBtn">
			<a href="javascript:void(0);" id="alertBtn" class="on" role="button">확인</a>
		</div>
	</div>
</div>

<!-- 레이어팝업 : confirm -->
<div class="layerPopup" id="layerPopConfirm" style="display: none; opacity: 0;" aria-hidden="true">
	<div class="layerWrap">
		<div class="layerCont">
			<div class="alertCont">
				<p class="txt01" id="confirmLayerMsg"></p>
			</div>
		</div>
		<div class="layerBtn">
			<span><a href="javascript:void(0);" id="confirmCancelBtn">취소</a></span>
			<span><a href="javascript:void(0);" id="confirmBtn" class="on">확인</a></span>
		</div>
	</div>
</div>

<!-- 레이어 끝 -->



<!-- 휴대폰 직접서명 이용 공지 레이어 팝업1711 -->
<div class="layerPopup" id="hpDirectSignLayerPop" aria-hidden="true" style="opacity: 0; display: none;">
	<div class="layerWrap">
		<!--<h2>휴대폰 직접서명 일시 중단 안내</h2>-->
		<div class="layerCont" style="max-height:290px;">
			<div class="visualStopPhone">
				<p>공인인증센터 시스템점검 작업으로<br><b>휴대폰 직접서명</b>이 일시 중단됩니다.<br><span class="mgtS blColor"><strong>중단일시 : 2017.11.22(수) 새벽 00시 ~ 02시(2시간)</strong></span></p>
			</div>
			<div class="listDot mgtS">
				<p><strong class="bColor">공동인증서를 통한 계약체결은 가능합니다.</strong></p>
			</div>
		</div>
		<div class="layerBtn">
			<a href="javascript:void(0);" class="on" role="button" onclick="javascript:closeLayer('hpDirectSignLayerPop')">확인</a>
		</div>
		<a href="javascript:void(0);" role="button" class="layerClose" onclick="javascript:closeLayer('hpDirectSignLayerPop')">창닫기</a>
	</div>
</div>
<!-- // 휴대폰 직접서명 이용 공지 레이어 팝업1711 -->

<!-- 레이어팝업_신용카드결제혜택안내181130 -->
<div class="layerPopup" id="popSamsungCardPointInfo" aria-hidden="true" tabindex="0" style="opacity: 0; z-index: 999999; pointer-events: auto; display: none;">
	<div class="layerWrap">
		 <h2>신용카드 포인트 이용 안내</h2>
		 <div class="layerCont" style="text-align:left">
				<ul class="listDot">
					<li>삼성카드를 이용하여 결제하는 고객님 중 삼성카드 포인트를 보유하신 경우에 한해 포인트 결제를 이용할 수 있습니다.</li>
                    <li>포인트 보유금액은 삼성카드 홈페이지를 통해 확인가능하며, 포인트 이용 결제시 포인트는 전액 사용됩니다.(결제금액보다 많은 포인트 보유시 결제금액은 전액 포인트로 결제됩니다.)</li>
                    <li>결제대금은 사용하신 포인트 차감 후 금액으로 청구되며, 사용하신 포인트 금액은 삼성카드 홈페이지 '포인트 사용내역'에서 확인하실 수 있습니다.</li>
                    <li>포인트 관련 상담 및 문의는 삼성카드 고객센터(T:1588-8700)로 연락주시기 바랍니다.</li>
				</ul>	
		</div>	
		<div class="layerBtn">
			<a href="#none" onclick="javascript:lpCloser('popSamsungCardPointInfo');" class="on" role="button">확인</a>
		</div>		
	</div>
</div>
<!-- // 레이어팝업_신용카드결제혜택안내181130 -->


<!-- lay - 보험가입 진행 안내 /2111 -->
<div class="layerPopup" aria-hidden="true" style="opacity: 0;">
  <div class="layerWrap sizeL">
    <h2>보험가입 진행 안내</h2>
    
    <div class="layerCont insuEscWrap">      
      <div class="flexWrap">
        <p class="img botImg"><img src="https://mdirect.hi.co.kr/images/content/img_esc_bot.png" alt="" class="w100"></p>
        <div class="txArea">
          <p class="txTi"><strong>고객님,</strong> 아직 보험가입이<br>완료되지 않았습니다.</p>
        </div>
      </div>
      <div class="mgtM">
        <p class="tac font13">지금 창을 닫으시면 지금까지 입력된<br>정보가 사라집니다.</p>
      </div>

      <ul class="listDot mgtM pdtM pdbL" style="border-top:1px dashed #dedede">
        <li>전화상담이 필요하시면, 인터넷 고객센터<br>
          <span style="color:#047db5"><a href="tel:1899-6782" class="fontBlue" title="인터넷 고객센터 전화 걸기">1899-6782</a> (평일 9시~18시)</span>를 이용해주시기 바랍니다.</li>
      </ul>
    </div>
    <!--// insuEscWrap -->
    
    <div class="layerBtn">
      <span style="width:30%"><a href="javascript:void(0);" role="button">홈으로</a></span>
      <span style="width:70%"><a href="javascript:void(0);" role="button" class="on">보험료 계산 계속하기</a></span>
    </div>
    <a href="javascript:void(0);" class="layerClose" role="button">닫기</a>
  </div>
</div>
<!--// lay - 보험가입 진행 안내 /2111 -->
  


	<!-- pop 계약자 정보 추가입력 1902 -->
	<div class="popWrap" id="addCustInfoLayer" style="display:none;">
		<header>
			<h1>계약자 정보 추가 입력</h1>
		</header>
		<div class="popContent">
			<section>
				<fieldset>
					<legend>계약자 추가 정보</legend>
					<div class="inputWrap">
						<input type="text" id="wrkplcNm" required="">
						<label for="wrkplcNm">직장명</label>
					</div>
					<!-- // 직장명 -->
					<div class="inputWrap">
						<input type="tel" id="wrkplcTelNo" required="">
	        	<label for="wrkplcTelNo">직장연락처('-' 없이)</label>
	        </div>
          <!-- // 직장연락처 -->
          <div class="inputWrap">
						<input type="text" id="divNm" required="">
						<label for="divNm">부서</label>
					</div>
					<!-- // 부서 -->
          <div class="inputWrap">
						<input type="text" id="psnNm" required="">
						<label for="psnNm">직위</label>
					</div>
					<!-- // 직위 -->
          <div class="inputWrap">
            <input type="text" id="wrkplcAmsvgAddr" maxlength="200" required="">
            <label for="wrkplcAmsvgAddr">기본 주소</label>
          </div>
          <div class="inputWrap">
            <input type="text" id="wrkplcOthsAddr" maxlength="200" required="">
            <label for="wrkplcOthsAddr">상세 주소</label>
          </div>
          <!-- // 직장주소 -->
          <div class="inputWrap">
		  <select title="자금출처 선택" id="dlMnSrcCat" name="dlMnSrcCat">
		      <option value="">자금출처 선택</option>              
              <option value="01">1. 사업소득</option>
              <option value="02">2. 부동산 임대소득</option>
              <option value="03">3. 부동산 양도소득</option>
              <option value="04">4. 금융소득(이자 및 배당)</option>
              <option value="05">5. 근로소득</option>
              <option value="06">6. 연금소득</option>
              <option value="07">7. 퇴직소득</option>
              <option value="08">8. 상속·증여</option>
              <option value="09">9. 일시 재산양도로 인한 소득</option>
              <option value="10">10. 해당없음</option>
              <option value="99">99. 기타</option>
            </select>
          </div>
          <!-- // 자금출처 -->
          <div class="inputWrap">
            <select title="거래목적 선택" id="dlObjCat" name="dlObjCat">
                  <option value="">거래목적 선택</option>
                   <option value="01">1. 보장-재해</option>
                   <option value="02">2. 보장-암 및 중대질병</option>
                   <option value="03">3. 보장-사망</option>
                   <option value="04">4. 보장-재계약</option>
                   <option value="05">5. 보장-기타</option>
                   <option value="11">11. 저축-결혼/주택자금</option>
                   <option value="12">12. 저축-자녀양육비(학자금 포함)</option>
                   <option value="13">13. 저축-노후준비</option>
                   <option value="14">14. 저축-증여/상속</option>
                   <option value="15">15. 저축-기타</option>
                   <option value="21">21. 대출-주택구입</option>
                   <option value="22">22. 대출-전세자금 마련</option>
                   <option value="23">23. 대출-생활자금</option>
                   <option value="24">24. 대출-기타</option>
            </select>
          </div>
          <!-- // 거래목적 -->
          <div class="inputWrap">
						<input type="text" id="dlMnSrcOthsDesc" required="">
	        	<label for="dlMnSrcOthsDesc">자금출처기타</label>
	        </div>
          <!-- // 자금출처기타 -->
          <div class="inputWrap">
						<input type="text" id="dlObjOthsDesc" required="">
	        	<label for="dlObjOthsDesc">거래목적기타</label>
	        </div>
          <!-- // 거래목적기타 -->
				</fieldset>
        <ul class="listEtc">
          <li>취소 선택시 계약 진행이 불가합니다.</li>
        </ul>
			</section>
      <!-- // 정보입력 -->
      
			<div class="btnWrap">
				<span><a href="#" onclick="javascript:closeLayer('addCustInfoLayer');" role="button">취소</a></span>
				<span><a href="#" onclick="javascript:goEDDSave('1');return false;" role="button">저장</a></span>
			</div>
      <!-- // 버튼 -->
		</div>
		<button type="button" class="btnClose" onclick="javascript:closeLayer('addCustInfoLayer');">창닫기</button>
		
	</div>
  <!-- // pop 계약자 정보 추가입력 1902 -->

<!-- Layer-휴면보험금 안내 -->
<div id="LTMRS5100VO_PopUp" class="layerPopup" tabindex="0" style="display: none; opacity: 0;" aria-hidden="true">
	<div class="layerWrap sizeL">
		<h2>휴면보험금 안내</h2>
    
		<div class="layerCont">			
			<p class="mgB15">고객님께서 보유하고 계신 장기보험 휴면보험금에 대해 안내드립니다.</p>
			
			<table class="tbl03" summary="장기보험 휴면보험금 계약번호, 계약자, 휴면보험금, 발생일자, 상품명 안내">
        <caption>장기보험 휴면보험금계약번호, 계약자, 휴면보험금, 발생일자, 상품명</caption>
        <thead>
          <tr>
            <th scope="col" class="bdTBLine">계약번호</th>
            <th scope="col" class="bdTBLine">계약자</th>
            <th scope="col" class="bdTBLine">휴면보험금</th>
            <th scope="col" class="bdTBLine">발생일자</th>
            <th scope="col" class="bdTBLine">상품명</th>
          </tr>
        </thead>
        <tbody id="LTMRS5100VO_tbody"></tbody>
      </table>
      
      <table class="tbl03 mgT10" style="border-top:0" summary="휴면보험금 전체, 합계 내용">
        <caption>휴면보험금 합계구분, 내용, 구분, 내용, 전체, 휴면보험금 합계</caption>
        <colgroup>
        	<col width="20%"><col width="20%"><col width="35%"><col width="25%">
        </colgroup>
        <thead class="blind">
          <tr>
            <th scope="col">구분</th>
            <th scope="col">내용</th>
            <th scope="col">구분</th>
            <th scope="col">내용</th>
          </tr>
        </thead>
        <tbody>
          <tr>
            <th scope="row" class="bgGray" style="border:1px solid #d0d0d0">전체</th>
            <td style="border:1px solid #d0d0d0"><span id="LTMRS5100VO_cnt"></span>건</td>
            <th scope="row" class="bgGray" style="border:1px solid #d0d0d0">휴면보험금 합계</th>
            <td style="border:1px solid #d0d0d0 !important"><span id="LTMRS5100VO_sumAmt"></span></td>
          </tr>
        </tbody>
      </table>
      
			<ul class="listBasic">
				<li>신청방법<br>
          ① 현대해상 홈페이지 → 인터넷창구 → 휴면보험금신청<br>
          ② 현대해상 콜센터(☎<a href="tel:1588-5656">1588-5656</a>)
        </li>
        <li>신청방법 및 이체실적에 따라 금액한도가 상이하며, 추가인증이 필요할 수 있습니다.</li>
        <li>이미 해당 보험금을 받으신 경우에는 계약 안내사항으로 참고하여 주시면 감사하겠습니다.</li>			
			</ul>
		</div>
		<div class="layerBtn">
			<a href="javascript:void('0');" onclick="closeLayer('LTMRS5100VO_PopUp');" role="button" class="on">확인</a>
		</div>
		<a href="javascript:void('0');" onclick="closeLayer('LTMRS5100VO_PopUp');" role="button" class="layerClose">창닫기</a>
	</div>
</div>
<!-- // Layer-휴면보험금 안내 -->

<!-- 레이어팝업-해외금융계좌 신고제도 여부 확인 안내 /1906 -->
<div class="layerPopup" id="fccf_PopUp" style="display: none; opacity: 0;" aria-hidden="true">
	<div class="layerWrap">
		<div class="layerCont">
			<div class="alertCont">
				<p class="txt01 tal">해외금융계좌 신고제도에 따라 외국의 국적, 시민권, 영주권등을 보유하거나 외국에 납세의무를 지닌 경우 <strong class="fontOrg">[예]</strong>를 체크해주세요.</p>
			</div>
		</div>
		<div class="layerBtn">
			<a href="javascript:void('0');" onclick="closeLayer('fccf_PopUp');" class="on" role="button">확인</a>
		</div>
	</div>
</div>
<!-- 레이어팝업-해외금융계좌 신고제도 여부 확인 안내 /1906 -->

<!-- 바이오인증 서비스 인증방법 선택 -->
<div class="popWrap" id="bioAuthTypeSelect" style="display:none;">
	<header>
		<h1 id="bioCertTitleStr">바이오인증 서비스 가입/변경</h1>
	</header>
	<div class="popContent">
		<p class="topTxt">인증방법을 선택해주시기 바랍니다.</p>
		<section class="bg">  
               <div class="wrapTab tabChois bio">
				<a href="#none" role="button" class="certi3" onclick="javascript:sessionStorage.setItem('selAuthTechCd', '100');fnSelTpNextStep();closeLayer('bioAuthTypeSelect');"><span>지문인증</span></a>
				<a href="#none" role="button" class="certi4" onclick="javascript:sessionStorage.setItem('selAuthTechCd', '119');fnSelTpNextStep();closeLayer('bioAuthTypeSelect');"><span>홍채인증</span></a>
			</div>
            <!-- <div class="btn">
				<a href="#" role="button" class="on">인증하기</a>
			</div> -->
		</section>
           
  	</div>
      
	<!-- //content -->
	<button type="button" class="btnClose" onclick="javascript:closeLayer('bioAuthTypeSelect');">창닫기</button>
</div>
<!-- 바이오인증 서비스 인증방법 선택 -->

<!-- pop-카카오페이인증 안내(인증요청) /1911 -->
<div class="popWrap" id="kakaoPayAuthReqPop" style="display:none;">
	<header>
		<h1>카카오페이 인증</h1>
	</header>
	<div class="popContent">
		<div class="kakaoPayVisual certImg">
		   	<p class="tiTx"><strong>고객님의 스마트폰으로<br>카카오페이 인증을 요청했습니다.</strong></p>
		    <p><span>인증이 완료</span>되면 다시 이 화면으로 돌아와서<br><span>하단의 확인 버튼</span>을 눌러주세요.</p>
		</div>
		<section class="section02">
			<div class="toggleWrap mgT0">
				<div class="tabBox open">
				<div class="toggleTitle"><a href="#none" class="toggleBtn" role="button">카카오페이 인증 안내<span class="hide"> 하위콘텐츠 닫기</span><span class="hide"> 하위콘텐츠 닫기</span><span class="hide"> 하위콘텐츠 닫기</span></a></div>
					<div class="toggleDetail" tabindex="0">
						<ul class="listDot">
							<li>지금 발송된 <span>카카오톡을 확인</span>해 주세요.</li>
							<li>인증요청 카카오톡 하단의 확인하기를 눌러 <span>인증을 완료</span>해 주세요.</li>
							<li>인증이 완료되면 다시 이 화면으로 돌아와서 <span>하단의 확인버튼</span>을 눌러주세요.</li>
						</ul>        
					</div>					
				</div>
			</div>
		</section>
		<div class="btnWrap">
			<a href="javascript:void(0);" onclick="javascript:fnCertKakaoPayAuthReSend();" role="button">카카오페이 인증 완료 후 확인</a>
		</div>
	</div>
	<!-- //content -->
	<button type="button" class="btnClose" onclick="javascript:fnCloseCertKakaoPayAuthLayer();">창닫기</button>
</div>
 <!-- // pop-카카오페이인증 안내(인증요청) /1911 -->
 
 <!-- pop-카카오페이인증 안내(인증요청) /1911 -->
<div class="popWrap" id="kakaoPayOwnReqPop" style="display:none;">
	<header>
		<h1>카카오페이 인증</h1>
	</header>
	<div class="popContent">
		<div class="kakaoPayVisual certImg">
		   	<p class="tiTx"><strong>고객님의 스마트폰으로<br>카카오페이 인증을 요청했습니다.</strong></p>
		    <p><span>인증이 완료</span>되면 다시 이 화면으로 돌아와서<br><span>하단의 확인 버튼</span>을 눌러주세요.</p>
		</div>
		<section class="section02">
			<div class="toggleWrap mgT0">
				<div class="tabBox open">
				<div class="toggleTitle"><a href="#none" class="toggleBtn" role="button">카카오페이 인증 안내<span class="hide"> 하위콘텐츠 닫기</span><span class="hide"> 하위콘텐츠 닫기</span><span class="hide"> 하위콘텐츠 닫기</span></a></div>
					<div class="toggleDetail" tabindex="0">
						<ul class="listDot">
							<li>지금 발송된 <span>카카오톡을 확인</span>해 주세요.</li>
							<li>인증요청 카카오톡 하단의 확인하기를 눌러 <span>인증을 완료</span>해 주세요.</li>
							<li>인증이 완료되면 다시 이 화면으로 돌아와서 <span>하단의 확인버튼</span>을 눌러주세요.</li>
						</ul>        
					</div>					
				</div>
			</div>
		</section>
		<div class="btnWrap">
			<a href="javascript:void(0);" onclick="javascript:fnKakaoOwnAuthRes();" role="button">카카오페이 인증 완료 후 확인</a>
		</div>
	</div>
	<!-- //content -->
	<button type="button" class="btnClose" onclick="javascript:closeLayer('kakaoPayOwnReqPop');">창닫기</button>
</div>
 <!-- // pop-카카오페이인증 안내(인증요청) /1911 -->

<!-- pop-카카오페이인증 안내(정상 처리되지 않음) /1911 -->
<div class="popWrap" id="kakaoPayAuthPollingPop" style="display:none;">
	<header>
		<h1>카카오페이 인증</h1>
	</header>
	<div class="popContent">
		<div class="kakaoPayVisual">
		   	<p class="tiTx"><strong>카카오페이 인증이<br>정상 처리되지 않았습니다.</strong></p>
		</div>
		<section class="section01">				
			<ul class="listDot">
				<li>발송된 <span>카카오톡으로 인증을 먼저</span> 하시고 인증완료 후 확인 버튼을 눌러주세요.</li>
				<li>카카오페이 인증을 원치 않으시면 <span>다른 인증수단으로 본인인증</span> 해주세요.</li>
			</ul>
		</section>
     	<div class="btnWrap two multiLine">
			<span><a href="javascript:void(0);" onclick="javascript:fnCloseCertKakaoPayAuthLayer();" role="button">다른 인증수단으로<br>본인인증 하기</a></span>
			<span><a href="javascript:void(0);" onclick="javascript:fnCertKakaoPayAuthReSend();" role="button">카카오페이 인증<br>완료 후 확인</a></span>
		</div>
	</div>
	<!-- //content -->
	<!-- <button type="button" class="btnClose" onclick="javascript:closeLayer('kakaoPayAuthPollingPop');">창닫기</button> -->
</div>
<!-- // pop-카카오페이인증 안내(정상 처리되지 않음) /1911 -->

<!-- Layer-카카오페이 인증방법 안내 /1911 -->
<div id="kakaoPayAuthGuideInfoLayer" class="layerPopup" tabindex="0" aria-hidden="true" style="opacity: 0;">
	<div class="layerWrap" style="top:15%;max-height:400px"> <!-- 수정 /191115 -->
		<h2>카카오페이 인증방법 안내</h2>
		
		<div class="layerCont pdT0" style="max-height:380px">
			<div class="infoTi_kakaopay">최초발급 시 등록한<br>비밀번호/지문입력만으로 인증완료</div>
		  
			<ol class="step_kakaopay">
				<li><p>카카오페이<br>인증 선택</p></li>
				<li><p>카카오톡으로<br>인증요청 발송</p></li>
				<li><p>카카오톡<br>인증요청 문자<br>확인하기 클릭</p></li>
			</ol>
			<ol class="step_kakaopay mgT15">
				<li><p>인증비밀번호<br>또는<br>지문입력</p></li>
				<li><p>인증완료</p></li>
				<li><p>보험료설계<br>진행</p></li>
			</ol>
		</div>
		<!-- // 내용 -->
		<a href="javascript:void(0);" onclick="javascript:lpCloser('kakaoPayAuthGuideInfoLayer');" class="layerClose" role="button">닫기</a>
	</div>
</div>
<!-- // Layer-카카오페이 인증방법 안내 /1911 -->

<!-- Layer-카카오페이 인증서 발급 방법 안내 /1911 -->
<div id="kakaoPayAuthIssueInfoLayer" class="layerPopup" tabindex="0" aria-hidden="true" style="opacity: 0;">
	<div class="layerWrap" style="top:15%;max-height:400px"> <!-- 수정 /191115 -->
		<h2>카카오페이 인증서 발급 방법 안내</h2>
	
		<div class="layerCont pdT0" style="max-height:380px">
			<div class="infoTi_kakaopay ti2">별도의 앱설치, 개인정보 입력 등 번거로운 작업없이 카카오톡 내에서 간단하게 발급 가능</div>
			<ol class="step_kakaopay type2">
				<li><p>카카오페이<br>인증 선택</p></li>
				<li><p>카카오톡으로<br>인증요청 발송</p></li>
				<li><p>카카오톡<br>인증요청 문자<br>확인하기 클릭</p></li>
			</ol>
			<!-- 수정 /191121 -->
			<ol class="step_kakaopay type2 mgT15">
				<li><p>서비스<br>이용악관 동의</p></li>
		        <li><p>휴대폰<br>본인인증</p></li>
		        <li><p>인증비밀번호<br>등록 및<br>지문등록</p></li>
			</ol>
			<!-- // 수정 /191121 -->
		</div>
		<!-- // 내용 -->
		<a href="javascript:void(0);" onclick="javascript:lpCloser('kakaoPayAuthIssueInfoLayer');" class="layerClose" role="button">닫기</a>
	</div>
</div>
<!-- // Layer-카카오페이 인증서 발급 방법 안내 /1911 -->

<!-- 장기3종 가입완료 팝업 신설 2004 :  pop 실손의료비보험안내 2004 : s -->
<div class="layerPopup" id="_linkedSaleLTMD" style="display: none; opacity: 0;" aria-hidden="true">
	<div class="popWrap bgWhite">
		<header>
		<h1>현대해상다이렉트 실손의료비보험 안내</h1>
		</header>
		
		<div class="popContent bgWhite" style="padding:0 20px">
			<p><img src="https://mdirect.hi.co.kr/images/content/pop_img_medical_top.gif" alt="실손의료비보험도 간편하게 가입하세요! 현대해상다이렉트 실손의료비보험" class="w100"></p>      
			<div><img src="https://mdirect.hi.co.kr/images/content/pop_img_medical_ct.gif" alt="간편가입 보장 안내" class="w100"></div>
			<div class="hide">각종질병과 사고로 인한 통원,입원,처방조제비 보장!(해당특약가입시, 본인부담금 자기부담금공제 보장), 최대 100세까지 든든하게 보장!(매년 자동갱신, 15년마다 재가입, 최대100세까지 보장가능)</div>
			<div class="btn mgT25">
				<a href="/service.do?m=8cdea2348c" role="button" class="white">실손의료비보험 알아보기</a>
			</div>
			<!-- 버튼 -->
			<!--- 하단버튼 변경 200504 : s -->
			<div class="btnWrap">
				<a href="/service.do?m=7c6641ec8a" role="button">홈으로</a>
			</div>
			<!---// 하단버튼 변경 200504 : e -->
		</div>
		<!-- // popContent -->
		<button type="button" class="btnClose" onclick="javascript:lpCloser('')">창닫기</button>
	</div>
	<!-- // popWrap -->
</div>
<!-- //pop 실손의료비보험안내 2004 : e -->

<!-- 장기3종 가입완료 팝업 신설 2004 :  pop 암보험안내 2004 : s -->
<div class="layerPopup" id="_linkedSaleLTCC" style="display: none; opacity: 0;" aria-hidden="true">
  <div class="popWrap bgWhite">
    <header>
      <h1>현대해상다이렉트</h1>
    </header>
    <div class="popContent bgWhite" style="padding:20px 20px">    
        <div style="position:relative">
            <img src="https://mdirect.hi.co.kr/images/content/pop_img_medical_ct.gif" alt="현대해상다이렉트 건강보험 안내" class="w100">
            <div class="hide">건강검진 결과등록 5% 할인! 3대질병 (암,뇌,심장) 진단, 질병 및 상헤 입원/수술, 특정감염병입원 보장 (해당 특약 가입시)</div>
            <p style="position:absolute;bottom:7%;width:100%;text-align:center;">
                <a href="/service.do?m=c9d2b5e703" style="display:inline-block;width:89%;">
                    <img src="https://mdirect.hi.co.kr/images/content/btn_img_medical_ct.gif" alt="건강보험 알아보기" style="width:100%;">
                </a>
            </p>
        </div>
        <div style="position:relative;margin-top:15px;">
        	<img src="https://mdirect.hi.co.kr/images/content/pop_img_cancer_ct.gif" alt="현대해상다이렉트 암보험 안내" class="w100">
            <div class="hide">암에 집중된 담보 구성! 암진단/수술/입원비 까지, 재진단시에도 2년마다 보장 만기 후 자동갱신 가능!(특약 가입시, 갱신시 보험료 인상 가능)</div>
     		<p style="position:absolute;bottom:7%;width:100%;text-align:center;">
                <a href="/service.do?m=b970661463" style="display:inline-block;width:89%;">
                    <img src="https://mdirect.hi.co.kr/images/content/btn_img_cancer_ct.gif" alt="암보험 알아보기" style="width:100%;">
                </a>
            </p>
        </div>
        <div class="btnWrap">
            <a href="/service.do?m=7c6641ec8a" role="button">홈으로</a>
        </div>
    </div>
    <!-- // popContent -->
    <button type="button" class="btnClose" onclick="javascript:lpCloser('')">창닫기</button>
  </div>
  <!-- // popWrap -->
</div>
<!-- // pop 암보험안내 2004 : e -->

<!-- pop 건강보험안내 200826 : s -->
<div class="layerPopup" id="_linkedSaleLTHT" style="display: none; opacity: 0;" aria-hidden="true">
  <div class="popWrap bgWhite">
    <header>
      <h1>현대해상다이렉트</h1>
    </header>
    <div class="popContent bgWhite" style="padding:20px 20px">    
        <div style="position:relative">
            <img src="https://mdirect.hi.co.kr/images/content/pop_img_driver_prevent.png" alt="현대해상다이렉트 운전자보험 안내" class="w100">
            <div class="hide">'나'를 위한 운전자보험! 형사책임과 벌금(대인,대물), 사고처리지원금 보장, 스쿨존사고 처벌 강화 대비!(해당 특약 가입시)</div>
            <p style="position:absolute;bottom:7%;width:100%;text-align:center;">
                <a href="/service.do?m=4jd59k8345" style="display:inline-block;width:89%;">
                    <img src="https://mdirect.hi.co.kr/images/content/btn_img_driver_prevent.gif" alt="운전자보험 알아보기" style="width:100%;">
                </a>
            </p>
        </div>
        <div style="position:relative;margin-top:15px;">
        	<img src="https://mdirect.hi.co.kr/images/content/pop_img_loss_prevent.png" alt="현대해상다이렉트 실손보험 안내" class="w100">
            <div class="hide">최대 100세까지 든든하게! 자사오프라인대비 4.6%저렴, 각종 사고와 질병으로 인한 입원/통원/처방조제비 보장(해당 특약 가입시)</div>
     		<p style="position:absolute;bottom:7%;width:100%;text-align:center;">
                <a href="/service.do?m=8cdea2348c" style="display:inline-block;width:89%;">
                    <img src="https://mdirect.hi.co.kr/images/content/btn_img_loss_prevent.gif" alt="실손보험 알아보기" style="width:100%;">
                </a>
            </p>
        </div>
        <div class="btnWrap">
            <a href="/service.do?m=7c6641ec8a" role="button">홈으로</a>
        </div>
    </div>
    <!-- // popContent -->
    <button type="button" class="btnClose" onclick="javascript:lpCloser('')">창닫기</button>
  </div>
  <!-- // popWrap -->
</div>
<!-- //pop 건강보험안내 200826 : e -->



<!-- 전문금융소비자 관련 추가 20210322 안내 팝업 -->
<div class="layerPopup" id="spcGuidePop" style="display: none; opacity: 0;" aria-hidden="true">
	<div class="layerWrap">
		<div class="layerCont">
			<div class="alertCont">
				<p class="txt01 tal"><strong class="fontBlue">전문금융소비자란</strong> 「금융소비자 보호에 관한 법률」제2조제9호에 따라 금융상품에 관한 <strong class="fontOrg">전문성</strong> 또는 <strong class="fontOrg">소유자산규모 등에 비추어 금융상품계약에 따른 위험감수능력이 있는 금융소비자</strong>를 의미합니다.</p>
                <p class="tal mgtS">○ 일반금융소비자 : 전문금융소비자가 아닌자</p>
                <p class="tal mgtS">○ 전문금융소비자(지자체,단체 등) : 국가, 한국은행, 금융회사, 주권상장법인, 지방자치단체, 금융협회, 공공기관, 지방공기업, 보험관계단체, 단체보험을 체결하고자 하는 자 및 동일한 회사·사업장·조합 등 5인 이상의 근로자를 고용하고 있는 단체 등</p>
                <p class="tal mgtS">○ 전문금융소비자(보험설계사 등) : 보험설계사·대리점 및 중개사 등 보험모집종사자 </p>
                <p class="tal mgtS mgbS">○ 전환신청 가능자(전문 → 일반) : 주권상장법인, 지방자치단체, 단체보험을 체결하고자 하는 자, 기업성보험을 체결하고자 하는 자, 공공기관, 지방공기업 및 동일한 회사·사업장·조합 등 5인 이상의 근로자를 고용하고 있는 단체 등 전문금융소비자</p>
			</div>
		</div>
		<div class="layerBtn">
			<a href="javascript:void('0');" onclick="lpCloser('spcGuidePop');" class="on" role="button">확인</a>
		</div>
	</div>
</div>
<!-- 전문금융소비자 관련 추가 20210322 -->
<!-- 전문금융소비자 관련 추가 20210322 전문금융소비자 세부항목 선택 팝업-->
<div class="popWrap" id="spcInputPop" style="display:none;">

	<header>
		<h1>전문금융소비자</h1>
	</header>
	
	<div class="popContent">
		<section>
            <h2>단체(회사)명</h2>
			<fieldset>
				<legend>단체(회사)명</legend>
				<div class="inputWrap">
					<input type="text" id="cpNm" maxlength="500" style="ime-mode:disabled;" required="">
					<label for="strEtc6">필수 입력</label>
				</div>
			</fieldset>
			<h2>전문금융소비자 세부항목 선택</h2>
			<div class="itemPack">
				<ul class="itemListN2">
					<li data-val="02" style="height: 61px;" id="spc02">
						<a href="javascript:setSpcDtl('2');" role="button" style="height: 100%; padding: 0.1rem 0px;"><div class="cont">지자체, 단체</div></a>
					</li>
					<li data-val="03" style="height: 61px;" id="spc03">
						<a href="javascript:setSpcDtl('3');" role="button" style="height: 100%; padding: 0.1rem 0px;"><div class="cont">보험모집종사자</div></a>
					</li>
					<li data-val="04" style="height: 66px;" id="spc04">
						<a href="javascript:setSpcDtl('4');" role="button" style="height: 100%; padding: 0.1rem 0px;"><div class="cont">기타</div></a>
					</li>
				</ul>
                <ul class="listDot mgtS">
				    <li style="height: 66px;"> 「금융소비자 보호에 관한 법률」 제17조제1항에 따라 보험계약자의 일반ㆍ전문금융소비자 여부를 확인하기 위한 절차입니다. <br>필요시 이를 확인할 수 있는 증빙자료 제출을 요구할 수 있으며, 전문금융소비자가 일반금융소비자와 동일한 대우를 받고자 하는 경우 전환신청이 가능합니다.</li>
			    </ul>
			</div>
			
		</section>
			<div class="btnWrap">
				<span><a href="javascript:void(0);" onclick="javascript:closeLayer('spcInputPop');" role="button">취소</a></span>
				<span><a href="javascript:void(0);" onclick="javascript:setSpc();" role="button">확인</a></span>
			</div>
	</div>	
	<button type="button" class="btnClose" onclick="javascript:closeLayer('spcInputPop');">창닫기</button>
</div>
<!-- // 새창-전문소비자 여부 확인때210322-->

<!-- 레이어팝업_테슬라리워드이벤트-->
<div class="layerPopup" id="teslaPopup" aria-hidden="true" tabindex="0" style="opacity: 0; z-index: 999999; pointer-events: auto; display: none;">
	<div class="layerWrap">
		 <h2>[InsureMyTesla 가입 이벤트 안내]</h2>
		 <div class="layerCont" style="text-align:left">
				<ul class="listDot">
					<li>  ▶ 이벤트대상 ◀</li>
					<li>	   InsureMyTesla 를 통해 현대해상다이렉트에 접속하고							
					<br>	   자동차보험가입 완료한, 현대해상 신규 및 갱신고객								
					<br>	   (다른경로 가입 시 혜택불가)						</li>
					<br>		
					<li>	  ▶ 이벤트내용 ◀												</li>
					<li>	   30만원 이상 가입 시, Tesla e-shop 에서 지정물품에 사용가능한					
					<br>	    프로모션 코드(3만원 상당) 제공									</li>
					<li>	   행사기간 : 2022.7.1(금) 체결계약건 부터						</li>
					<li>	   혜택 사용관련 문의 : Tesla 고객지원팀 (080-617-1399)					
					<br>	    (지정물품, 프로모션 코드사용, 배송일정 등) 						</li>
					<br>
					<li>	  ▶ 지급일 ◀													</li>
					<li>	   보험 가입일이 속한 분기의, 다음분기 첫달 말일경 고객이 등록한				
					<br>	    연락처로 프로모션 코드 발송 									
					<br>	    (ex.보험가입일이 10.15일(4분기)인 경우, 1월말(1분기 첫달) 발송)	</li>
					<br>				
					<li>	  ▶ 유의사항 ◀													</li>
					<li>	   현대해상의 모든 이벤트(산출시와 가입시 합산) 제공금액은					
					<br>	    3만원을 초과하지 않으며, 다른혜택(카드할인, 캐시백, 주유권 등)과					
					<br>	    중복 적용되지 않습니다. 										</li>
					<li>	   혜택은 지급 시점에 보험계약을 정상 유지하셔야 지급됩니다.			</li>		
					<li>	   영업용/업무용/법인차량 고객은 혜택제외 입니다.					</li>
					<br>
					<li>	  ▶꼭 알아두실 사항 ◀											</li>
					<li><span class="fontPoint2">· 보험계약 체결 전 반드시 상품설명서 및 약관을 읽어보시기 바랍니다.</span>	</li>				
					<li>	   이 계약은 예금자보호법에 따라 예금보험공사가 보호하되,					
					<br>	    보호한도는 본 보험회사에 있는 귀하의 모든 예금보호대상 금융상품의					
					<br>	    해지환급금(또는 만기 시 보험금이나 사고보험금)에 기타 지급금을					
					<br>	    합하여 1인당 "최고5천만원"이며, 5천만원을 초과하는 나머지 금액은					
					<br>	    보호하지 않습니다.											</li>
					<li>	   보험계약자가 기존에 체결했던 보험계약을 해지하고 다른 보험계약을					
					<br>	    체결하면 보험계약이 거절될 수 있으며, 보험료가 인상되거나				
					<br>	    보장내역이 달라질 수 있습니다. 									</li>
					<li>	   현대해상은 해당상품에 대해 충분히 설명할  의무가 있으며,					
					<br>	   가입자는 가입에 앞서 이에대한 충분한 설명을 받으시기 바랍니다.		</li>
					<br>		
					<li>	준법감시인 확인필 제20218577호 (유효기간 2021.9.30~2022.9.29)		</li>		
				</ul>	
		</div>	
		<div class="layerBtn">
			<a href="#none" onclick="javascript:lpCloser('teslaPopup');" class="on" role="button">확인</a>
		</div>		
	</div>
</div>
<!-- // 레이어팝업_테슬라리워드이벤트 -->

<!-- 전환형실손보험 이탈팝업 /20220216 -->
<div class="popWrap" id="_callmeLayerSM" style="display:none;">

  <header style="overflow:hidden;height:auto;">
    <h1>실손전환상담센터 안내</h1>
  </header>
  <div class="popContent">
    <div class="telVisual">
      <div class="telText">
        <strong>도움이 필요하세요?<br>
        현대해상 <span class="fontOrg">실손전환상담센터에 문의</span>하시면<br>자세히 설명해드립니다.</strong>
      </div>
    </div>
    
    <section>
      
      <div class="popContent" style="padding:15px 35px"> 
          <img src="https://mdirect.hi.co.kr/images/content/img_oneInsu_tel.png" alt="현대해상 실손전환상담센터 1588-8291 평일 9시30분 부터 17시 30분" class="w100">
        </div>
        <div class="btn mgtL">
          <a href="tel:1588-8291" class="blue" role="button">상담센터 전화하기</a>
      </div>
     
      <div class="btnWrap">
		<span><a href="/" role="button">홈으로</a></span>
		<span><a href="javascript:void(0);" onclick="javascript:closeLayer('_callmeLayerSM');" role="button">계속 계산하기</a></span>        
      </div>
    </section>
  </div>  
  <button type="button" class="btnClose" onclick="javascript:closeLayer('_callmeLayerSM');">창닫기</button>
  
</div>
<!--// 전환형실손보험 이탈팝업 /20220216-->
 <!-- footer -->

</c:set></c:set></body>
</html>